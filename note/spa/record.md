## 单页面应用

> 这也是一篇鸽了很久的文章，笔记的目的是了解spa实现原理，
以便于能更好的学习前端框架相关知识
>
> 本来参考了一个大佬的文章，然后。。。。那篇文章4年了，难产至今，但是学还是要学的，自学吧

### 传统HTML网页

当我们在浏览器中输入一个网址时，经历了哪些步骤，大致可以分为如下几个步骤：

1. DNS域名解析
2. 建立TCP连接
3. 发送http数据(get,post等等)
4. 服务器响应 
5. 浏览器解析(DOM树，CSS树，渲染树，重绘，回流等等)

**原文**：单个 HTML 页面作为功能元件，通过刷新，超链接、表单提交等方式，组合排列这些 HTML 页面，来为用户提供服务。

因此，传统的html网页中，每次请求都包含了上述的步骤，我们每打开一个网页，或者从A网页跳转到B网页时，都必须下载一个新的html文件(或读取缓存)，然后交给浏览器去渲染。

**原文**：Ajax 则是这个范式的异类。Ajax 的出现使得网页可以局部更新，使得网页上的一部分可以作为一个功能元件来为用户提供服务。这种形式的网页应用已经具备单页应用的雏型，但并不是标准的单页应用。

### 单页面应用

单页面应用的出现，将传统的控制层、视图层、数据层放在前端来处理，这样的好处是，后端只需要专注于数据相关的处理。

> 典型的例子：在传统html中，如果我们希望提交一个表单，但是提交后，会引起整个页面的刷新
> 
> 单页面应用中，通过已类似ajax的方式进行数据交互，并且通过组件的方式，进行部分页面的数显。同时，路由变化时，也是通过类似的形式，以组件的方式加载，而不是去下载一个新的html文件

单页面应用的优势：

+ 无刷新体验
+ 完全的前端组件化
+ API共享
+ 组件共享(复用)

单页面应用的缺点：

+ 首次加载资源大：相当于一次性把所有组件下载下来，后续只加载数据
+ 不利于seo：由于spa几乎是通过js来“绘制”的，因此并不能生成像传统html文件。业界也有一些解决方案：ssr和csr等等，这里不作讨论




