/*
BUILT_AT: 2019年12月2日 11:20
*/
(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[0],{14:function(e,t,n){"use strict";n(16),n(22);var i=n(23),o=n(120),r=n.n(o).a.create({timeout:"undefined"==typeof window?1e3:0});n(166),n(168),n(169),n(41),n(26),n(73),n(75);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"对不起，服务器开小差了~ (ಥ﹏ಥ)",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"error",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-8888,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(c(this,e),"object"===a(o)){var d="对不起，服务器开小差了~ (ಥ﹏ಥ)";o.response?d="".concat(o.response.statusText," ").concat(o.response.status):"ECONNABORTED"===o.code&&(d="接口超时，稍后再试试吧~ (ಥ﹏ಥ)"),this.msg=d}else this.msg=o;this.type=r,this.code=u,this.data=s,this.url=n,this.payload=i,this.cost=t};n(13),n(66),n(51),n(17),n(28),n(53),n(114);var s={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,i,o,r){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(o?"; domain="+o:"")+(i?"; path="+i:"")+(r?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};n(31);(function(){try{var e=document.createElement("canvas");!(!e.getContext||!e.getContext("2d"))&&e.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){return!1}})(),n(171),n(56);var d="undefined"!=typeof window?window.navigator.userAgent:"",l={myBrowser:"unknown",behaviors:[function(){return!!d.match(/Firefox\/\d.*/)&&"Firefox"},function(){return!(!d.match(/AppleWebKit\/\d.*.Chrome\/\d.*.Safari\/\d/)||"Google Inc."!==window.navigator.vendor||!window.chrome)&&"Chrome"},function(){return!!d.match(/Opera.\d.*.Presto\/\d/)&&"Opera Presto"},function(){return!!d.match(/OPR\/\d{2}/)&&"Opera Modern"},function(){return!!d.match(/MSIE [6-8].+/)&&"IE Legacy"},function(){return!(!d.match(/MSIE [9].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 9"},function(){return!(!d.match(/MSIE [10].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 10"},function(){return!(!d.match(/Trident\/[7].*.rv:11/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 11"},function(){return!(!d.match(/Edge\/\d+\.\d+/)||"function"!=typeof window.StyleMedia)&&"Edge"},function(){return!!d.match(/Maxthon\/[4]/)&&"Maxthon 4"},function(){return!(!d.match(/AppleWebKit\/\d.*.Mobile.*Safari\/\d+/)||"Apple Computer, Inc."!==window.navigator.vendor)&&"SafariMobile"},function(){return!(!d.match(/AppleWebKit\/\d.*.Safari\/\d+/)||"Apple Computer, Inc."!==window.navigator.vendor)&&"Safari"}]};var f=function(){return"undefined"==typeof window?"":(l.behaviors.some(function(e){var t=e();return l.myBrowser=t||"unknown",t}),l.myBrowser)},p=(n(172),n(115),n(173),n(117),f()),h="IE 9"===p||"IE Legacy"===p,m=h||"IE 10"===p||"IE 11"===p;var g={};var w={},v=function(){var e=Math.random();return w[e]=Date.now(),e},y=function(e){if(!e)return 0;if(w[e]){var t=Date.now()-w[e];return delete w[e],t}return 0};var b=function(e,t){var n=new RegExp("[?&]".concat(t,"=([^&#]+)"));return(e.match(n)||[])[1]||""},S=(n(27),{API_LIVE:"//api.live.bilibili.com",API_VC:"//api.vc.bilibili.com",API_MAIN:"//api.bilibili.com",MAIN:"//www.bilibili.com",SPACE:"//space.bilibili.com",PASSPORT:"//passport.bilibili.com",BANGUMI:"//bangumi.bilibili.com",DATA:"//data.bilibili.com",T:"//t.bilibili.com",H:"//h.bilibili.com",VC:"//vc.bilibili.com",APP:"//app.bilibili.com",MESSAGE:"//message.bilibili.com",LINK:"//link.bilibili.com",M:"//m.bilibili.com",LIVE:"//live.bilibili.com"}),I=n(29),A=n.n(I);function C(e){if(!e)return e;var t=e;if(!("undefined"!=typeof FormData&&t instanceof FormData)){var n={};if("undefined"!=typeof window){var i=b(window.location.href,"lang");if(i){var o="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(o="android"),n.lang=i,n.mobi_app="".concat(o,"_i")}}e=t=Object.assign(n,t),m&&(e._=(new Date).getTime())}return e}n(177);var E=function(e){return e.replace(/("\w*":)\s*(\d{16}\d*)/g,'$1"$2"').replace(/(\\"\w*\\":)\s*(\d{16}\d*)/g,'$1\\"$2\\"').replace(/("\w*":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g,function(e,t,n){return"".concat(t).concat(n.trim().replace(/\[\s*/,'["').replace(/\s*]\s*/,'"]').replace(/\s*,\s*/g,'","'))}).replace(/(\\"\w*\\":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g,function(e,t,n){return"".concat(t).concat(n.trim().replace(/\[\s*/,'[\\"').replace(/\s*]/,'\\"]').replace(/\s*,\s*/g,'\\",\\"'))})};function _(e,t){if("string"==typeof e){var n=E(e);if(t)try{e=JSON.parse(n)}catch(e){}else e=n}return e}var k=function(e){return _(e,!0)},O=n(121),x=n.n(O);function j(e,t,n,i,o,r){var a=r?e:e.data;return new Promise(function(e,r){var c,s,d=function(){return 0===a[c]};new RegExp(S.SPACE).test(t)?(c="status",s="result",d=function(){return!0===a[c]}):new RegExp(S.BANGUMI).test(t)?(c="code",s="result"):new RegExp(S.PASSPORT).test(t)?(c="code",s="access_info"):(c="code",s="data"),void 0===a||void 0===a[c]?r(new u(o,t,n)):d()?e(new u(o,t,n,"请求成功","success",0,i?a:a[s])):r(new u(o,t,n,a.message||a.msg||"电波无法到达~ ".concat(a.message||a.msg||a.code),"caution",a[c],a[s]))})}n(179),n(180);function P(e,t,n){return(P=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&R(o,n.prototype),o}).apply(null,arguments)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),r=3;r<i;r++)o[r-3]=arguments[r];return Promise.reject(P(u,[e,t,n].concat(o)))}n(69);function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=36e4,N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store={};var t={},n={};if("undefined"!=typeof window&&window.localStorage)try{t=JSON.parse(window.localStorage.getItem("bpapi_cache"))||t}catch(e){}var i=(new Date).getTime();Object.keys(t).forEach(function(e){var o=t[e];o&&i-o.ts<o.ttl&&i-o.ts<M&&(n[e]=o)}),n.uniqueKey=t.uniqueKey,this.store=n,this.setLocalCache()}var t,n,i;return t=e,(n=[{key:"set",value:function(e,t,n,i,o){var r=this;return(!o||this.store.uniqueKey!==o||"0"===o)&&n>0&&(this.clearCache(),this.store={}),o&&(this.uniqueKey=o,this.store.uniqueKey=o),new Promise(function(a,c){try{var u={};u.response=t,u.ttl=n>0?n:0,u.ts=(new Date).getTime(),r.store[e]=u,i&&n>0&&o&&"0"!==o&&r.setLocalCache(),a({status:"success"})}catch(e){c({status:"failed",data:e})}})}},{key:"get",value:function(e,t,n){var i=this;return(!n||this.store.uniqueKey!==n||"0"===n)&&t>0&&(this.clearCache(),this.store={}),n&&(this.uniqueKey=n,this.store.uniqueKey=n),new Promise(function(n,o){try{var r=i.store[e],a=(new Date).getTime();r&&a-r.ts<(t>0?t:0)&&a-r.ts<M?n({status:"success",data:r.response}):o({status:"failed",data:r})}catch(e){o({status:"failed",data:e})}})}},{key:"clearCache",value:function(){"undefined"!=typeof window&&window.localStorage&&window.localStorage.removeItem("bpapi_cache")}},{key:"setLocalCache",value:function(){this.uniqueKey&&(this.store.uniqueKey=this.uniqueKey),"undefined"!=typeof window&&window.localStorage&&this.uniqueKey&&window.localStorage.setItem("bpapi_cache",JSON.stringify(this.store))}}])&&T(t.prototype,n),i&&T(t,i),e}(),K=function(){return new N}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof FormData&&e instanceof FormData){for(var n in t)t.hasOwnProperty(n)&&(FormData.prototype.set?e.set(n,t[n]):e.append(n,t[n]));return e}return Object.assign(e,t)},q=function(e){return new Promise(function(t){e.addPlatInfo?i.inBiliApp?i.biliBridge.callNative({method:"global.getContainerInfo",callback:function(n){e.data=L(e.data,{build:n.build,mobi_app:"h5_".concat(n.mobi_app)}),t(e)}}):(e.data=L(e.data,{build:0,mobi_app:"web"}),t(e)):t(e)})},F=new x.a({transformResponse:function(e){return _(e,!1)},oldAppUseAxios:!0}),U=function(e){if("undefined"!=typeof FormData&&e.data instanceof FormData)return r(C(e));var t=Object.assign({},e);switch(delete t.data,delete t.url,e.method.toLowerCase()){case"get":return F.get(e.url,C(e.data),t);case"post":return F.post(e.url,C(e.data),t);default:return r(C(e))}};function $(e){var t=e.useBridgeProxy,n=v(),i=0,o=e.url+JSON.stringify(e.data||"");return K.get(o,e.ttl,String(e.cache_key||"")).then(function(o){return i=y(n),j(o.data,e.url,e.data,e.needOriginal,i,t)}).catch(function(){return q(e).then(function(e){return function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){if(g[e]&&i>0)return g[e];setTimeout(function(){g[e]=null},i);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return g[e]=t.apply(n,r),g[e]}}(o,t?U:r,e.throttleInterval)(e)}).then(function(r){return K.set(o,r,e.ttl,e.localCache,String(e.cache_key||"")).then(function(){return i=y(n),j(r,e.url,e.data,e.needOriginal,i,t)})},function(){i=y(n);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return D.apply(void 0,[i,e.url,e.data].concat(o))})})}var B=n(122),J=n.n(B);n.d(t,"a",function(){return G}),i.inBiliApp&&(Object(i.initEnv)(),i.biliBridge.callNative({method:"global.import",data:{namespace:"net"}})),r.interceptors.request.use(function(e){if(!e)return e;var t=e.method,n=e.url,i=e.data;e.withCredentials=!0;var o=i||{},r="string"==typeof t&&"post"===t.toLowerCase();if(r){var a=s.getItem("bili_jct")||"",c=new RegExp(S.API_VC),u=new RegExp(S.API_LIVE);o[c.test(n)||u.test(n)?"csrf_token":"csrf"]=a}if(!("undefined"!=typeof FormData&&o instanceof FormData)){var d={};if("undefined"!=typeof window){var l=b(window.location.href,"lang");if(l){var f="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(f="android"),d.lang=l,d.mobi_app="".concat(f,"_i")}}o=Object.assign(d,o),r?e.data=Object(I.stringify)(o):(e.params=o,m&&(e.params._=(new Date).getTime()),delete e.data),"undefined"==typeof window&&/^\/\//.test(n)&&(e.url="http:".concat(n))}return e});var G=function(e){"undefined"==typeof window||window.Promise||console.warn("No window.Promise. @bplus-common/components.bpapi need a promise polyfill.");var t=(e.method||"get").toLowerCase(),n=h&&!function(e){if("undefined"==typeof window)return!1;var t=e.replace(/^(https?:)?(\/\/)?/,"").match(window.location.hostname);return t&&0===t.index}(e.url),i="jsonp"===t;return!i&&n?D(e.url,e.data,"少年啊，你的浏览器太老了辣","caution",-8889):(e.method=t,e.transformResponse=e.transformResponse||[k],i?function(e){var t=v("jsonp"),n=0,i=e.url,o=/^(http:|https:)?\/\/api\.(live)|(vc)/.test(i),r=e.data&&"[object Object]"===e.data.toString();e.jsonpCallback||!r||"type"in e.data||"jsonp"in e.data?e.jsonpCallback||r||(e.data={type:"jsonp",jsonp:"jsonp"}):(e.data.type="jsonp",e.data.jsonp="jsonp");var a=e.data||{},c={},u="zh_CN";if("undefined"!=typeof window&&(u=b(window.location.href,"lang"))){c.lang=u;var s="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(s="android"),"zh_CN"!==u&&(c.mobi_app="".concat(s,"_i"))}a=Object.assign(c,a);var d=e.data&&e.jsonpCallback||(o?"_cb":"callback"),l=A.a.stringify(a),f=l.length>0?"".concat(i,"?").concat(l):"".concat(i),p=i+JSON.stringify(e.data||"");return K.get(p,e.ttl,String(e.cache_key||"")).then(function(o){return n=y(t),j({data:o.data},i,e.data,e.needOriginal,n)}).catch(function(){return J()(f,{jsonpCallback:d}).then(function(o){return o.ok?o.json().then(function(o){return K.set(p,o,e.ttl,e.localCache,String(e.cache_key||"")).then(function(){return n=y(t),j({data:o},i,e.data,e.needOriginal,n)})},function(){n=y(t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return D.apply(void 0,[n,e.url,e.data].concat(o))}):D(n=y(t),e.url,e.data)},function(){n=y(t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return D.apply(void 0,[n,e.url,e.data].concat(o))})})}(e):$(e))}}}]);