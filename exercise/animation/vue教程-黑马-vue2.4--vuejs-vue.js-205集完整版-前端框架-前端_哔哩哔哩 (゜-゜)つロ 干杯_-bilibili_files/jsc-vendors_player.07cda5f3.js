(window.videoWidgetsJsonP=window.videoWidgetsJsonP||[]).push([[9],Array(178).concat([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=i(180);e.Factory={addGetterSetter:function(t,e,i,r,n){this.addGetter(t,e,i),this.addSetter(t,e,r,n),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var n="get"+r.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,i,n,a){var s="set"+r.Util._capitalize(i);t.prototype[s]||e.Factory.overWriteSetter(t,i,n,a)},overWriteSetter:function(t,e,i,n){var a="set"+r.Util._capitalize(e);t.prototype[a]=function(t){return i&&null!=t&&(t=i.call(this,t,e)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,e,i,a,s){var o,h,l=i.length,c=r.Util._capitalize,p="get"+c(e),f="set"+c(e);t.prototype[p]=function(){var t={};for(o=0;o<l;o++)t[h=i[o]]=this.getAttr(e+c(h));return t};var u=n.getComponentValidator(i);t.prototype[f]=function(t){var i,r=this.attrs[e];for(i in a&&(t=a.call(this,t)),u&&u.call(this,t,e),t)t.hasOwnProperty(i)&&this._setAttr(e+c(i),t[i]);return this._fireChangeEvent(e,r,t),s&&s.call(this),this},this.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var i=r.Util._capitalize(e),n="set"+i,a="get"+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(t,e,i,n){r.Util.error("Adding deprecated "+e);var a="get"+r.Util._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){r.Util.error(s);var t=this.attrs[e];return void 0===t?i:t},this.addSetter(t,e,n,(function(){r.Util.error(s)})),this.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){r.Util.each(e,(function(e,i){var n=t.prototype[i],a="get"+r.Util._capitalize(e),s="set"+r.Util._capitalize(e);function o(){n.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}t.prototype[e]=o,t.prototype[a]=o,t.prototype[s]=o}))},afterSetFilter:function(){this._filterUpToDate=!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;var n=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),i=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),a=!!t.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",isIE:n(e),mobile:r,ieMobile:a}},e.glob="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"4.0.4",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})
;var r=i(179),n=i(181);function a(t){return n.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)?t:n.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||"auto"===t||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isString(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isFunction(t)||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isArray(t)?t.forEach((function(t){n.Util._isNumber(t)||n.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||n.Util.warn(a(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(r.Konva.isUnminified)return function(e,i){return n.Util.isObject(e)||n.Util.warn(a(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+t),e}}},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(179),a=function(){function t(){}return t.toCollection=function(e){var i,r=new t,n=e.length;for(i=0;i<n;i++)r.push(e[i]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,i=this.length,r=[].slice.call(arguments);for(t=0;t<i;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var i=e.prototype;for(var r in i)t._mapMethod(r)},t}();e.Collection=a,a.prototype=[],a.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},a.prototype.toArray=function(){var t,e=[],i=this.length;for(t=0;t<i;t++)e.push(this[t]);return e};var s=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.copy=function(){return new t(this.m)},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,a=this.m[0]*-i+this.m[2]*e,s=this.m[1]*-i+this.m[3]*e;return this.m[0]=r,this.m[1]=n,this.m[2]=a,this.m[3]=s,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var i=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=r,this.m[2]=n,this.m[3]=a,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,
this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=s,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=a,this.m[5]=s,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var i=this.m[0],r=this.m[1],n=this.m[2],a=this.m[3],s=this.m[4],o=(i*(e-this.m[5])-r*(t-s))/(i*a-r*n),h=(t-s-n*o)/i;return this.translate(h,o)},t}();e.Transform=s;var o=Math.PI/180,h=180/Math.PI,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]
},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,p=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){p.push(t),1===p.length&&requestAnimationFrame((function(){var t=p;p=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var i,r,n=[],a=t.length,s=e.Util;for(i=0;i<a;i++)r=t[i],s._isNumber(r)?r=Math.round(1e3*r)/1e3:s._isString(r)||(r=r.toString()),n.push(r);return n},_urlToImage:function(t,e){var i=new n.glob.Image;i.onload=function(){e(i)},i.src=t},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=(e[0],e.slice(1)),r=Number(i[0])/360,n=Number(i[1])/100,a=Number(i[2])/100,s=void 0,o=void 0,h=void 0;if(0===n)return h=255*a,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};for(var l=2*a-(s=a<.5?a*(1+n):a+n-a*n),c=[0,0,0],p=0;p<3;p++)(o=r+1/3*-(p-1))<0&&o++,o>1&&o--,h=6*o<1?l+6*(s-l)*o:2*o<1?s:3*o<2?l+(s-l)*(2/3-o)*6:l,c[p]=255*h;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var i in t)this._isPlainObject(t[i])?e[i]=this.cloneObject(t[i]):this._isArray(t[i])?e[i]=this.cloneArray(t[i]):e[i]=t[i];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*o},_radToDeg:function(t){return t*h},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error("Konva error: "+t)},error:function(t){console.error("Konva error: "+t)},warn:function(t){
n.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function i(){this.constructor=t}i.prototype=e.prototype;var r=t.prototype;for(var n in t.prototype=new i,r)r.hasOwnProperty(n)&&(t.prototype[n]=r[n]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,i,r,n,a,s){var o=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)),h=Math.sqrt(Math.pow(n-i,2)+Math.pow(a-r,2)),l=s*o/(o+h),c=s*h/(o+h);return[i-l*(n-t),r-l*(a-e),i+c*(n-t),r+c*(a-e)]},_expandPoints:function(t,i){var r,n,a=t.length,s=[];for(r=2;r<a-2;r+=2)n=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],i),s.push(n[0]),s.push(n[1]),s.push(t[r]),s.push(t[r+1]),s.push(n[2]),s.push(n[3]);return s},each:function(t,e){for(var i in t)e(i,t[i])},_inRange:function(t,e,i){return e<=t&&t<i},_getProjectionToSegment:function(t,e,i,r,n,a){var s,o,h,l=(t-i)*(t-i)+(e-r)*(e-r);if(0==l)s=t,o=e,h=(n-i)*(n-i)+(a-r)*(a-r);else{var c=((n-t)*(i-t)+(a-e)*(r-e))/l;c<0?(s=t,o=e,h=(t-n)*(t-n)+(e-a)*(e-a)):c>1?(s=i,o=r,h=(i-n)*(i-n)+(r-a)*(r-a)):h=((s=t+c*(i-t))-n)*(s-n)+((o=e+c*(r-e))-a)*(o-a)}return[s,o,h]},_getProjectionToLine:function(t,i,r){var n=e.Util.cloneObject(t),a=Number.MAX_VALUE;return i.forEach((function(s,o){if(r||o!==i.length-1){var h=i[(o+1)%i.length],l=e.Util._getProjectionToSegment(s.x,s.y,h.x,h.y,t.x,t.y),c=l[0],p=l[1],f=l[2];f<a&&(n.x=c,n.y=p,a=f)}})),n},_prepareArrayForTween:function(t,i,r){var n,a=[],s=[];if(t.length>i.length){var o=i;i=t,t=o}for(n=0;n<t.length;n+=2)a.push({x:t[n],y:t[n+1]});for(n=0;n<i.length;n+=2)s.push({x:i[n],y:i[n+1]});var h=[];return s.forEach((function(t){var i=e.Util._getProjectionToLine(t,a,r);h.push(i.x),h.push(i.y)})),h},_prepareToStringify:function(t){var i;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==r(t[n]))if(i=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||e.Util._isElement(t[n])){if(!i.configurable)return null;delete t[n]}else if(null===e.Util._prepareToStringify(t[n])){if(!i.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var i in e)t[i]=e[i];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},,function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(181),a=i(178),s=i(190),o=i(179),h=i(191),l=i(180);e.ids={},e.names={};e._removeId=function(t,i){t&&e.ids[t]===i&&delete e.ids[t]},e._addName=function(t,i){i&&(e.names[i]||(e.names[i]=[]),e.names[i].push(t))},e._removeName=function(t,i){if(t){var r=e.names[t];if(r){for(var n=0;n<r.length;n++){r[n]._id===i&&r.splice(n,1)}0===r.length&&delete e.names[t]}}};var c="absoluteOpacity",p="absoluteTransform",f="absoluteScale",u="listening",d="Shape",g="transform",m="visible",v=["id"],y=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),_=["scaleXChange.konva","scaleYChange.konva"].join(" "),b=new n.Collection,w=1,x=function(){function t(t){var e=this;this._id=w++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._lastPos=null,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=b,this._dragEventId=null,this.setAttrs(t),this.on(y,(function(){e._clearCache(g),e._clearSelfAndDescendantCache(p)})),this.on(_,(function(){e._clearSelfAndDescendantCache(f)})),this.on("visibleChange.konva",(function(){e._clearSelfAndDescendantCache(m)})),this.on("listeningChange.konva",(function(){e._clearSelfAndDescendantCache(u)})),this.on("opacityChange.konva",(function(){e._clearSelfAndDescendantCache(c)}))}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return b},
t.prototype._clearCache=function(t){t?this._cache.delete(t):this._cache.clear()},t.prototype._getCache=function(t,e){var i=this._cache.get(t);return void 0===i&&(i=e.call(this),this._cache.set(t,i)),i},t.prototype._getCanvasCache=function(){return this._cache.get("canvas")},t.prototype._clearSelfAndDescendantCache=function(t){this._clearCache(t),this._getCanvasCache()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t)}))},t.prototype.clearCache=function(){return this._cache.delete("canvas"),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},i={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=e.width||i.width,a=e.height||i.height,o=e.pixelRatio,h=void 0===e.x?i.x:e.x,l=void 0===e.y?i.y:e.y,p=e.offset||0,u=e.drawBorder||!1;if(r&&a){r+=2*p,a+=2*p,h-=p,l-=p;var d=new s.SceneCanvas({pixelRatio:o,width:r,height:a}),g=new s.SceneCanvas({pixelRatio:o,width:r,height:a}),m=new s.HitCanvas({pixelRatio:1,width:r,height:a}),v=d.getContext(),y=m.getContext();return m.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),v.save(),y.save(),v.translate(-h,-l),y.translate(-h,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this.drawScene(d,this,!0),this.drawHit(m,this,!0),this._isUnderCache=!1,v.restore(),y.restore(),u&&(v.save(),v.beginPath(),v.rect(0,0,r,a),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set("canvas",{scene:d,filter:g,hit:m,x:h,y:l}),this}n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var i,r,n,a,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],o=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=o.point(t);void 0===i&&(i=n=e.x,r=a=e.y),i=Math.min(i,e.x),r=Math.min(r,e.y),n=Math.max(n,e.x),a=Math.max(a,e.y)})),{x:i,y:r,width:n-i,height:a-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),r=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/r,i.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t._applyGlobalCompositeOperation(this),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,i,a,s=this.filters(),o=this._getCanvasCache(),h=o.scene,l=o.filter,c=l.getContext();if(s){if(!this._filterUpToDate){var p=h.pixelRatio;try{for(t=s.length,c.clear(),c.drawImage(h._canvas,0,0,h.getWidth()/p,h.getHeight()/p),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),i=0;i<t;i++)"function"==typeof(a=s[i])?(a.call(this,e),c.putImageData(e,0,0)):n.Util.error("Filter should be type of function, but got "+r(a)+" insted. Please check correct filters")}catch(t){n.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return l}return h},t.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var i,r,n,a,s=t.split(" "),o=s.length;for(i=0;i<o;i++)n=(r=s[i].split("."))[0],a=r[1]||"",this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].push({name:a,handler:e});return this},t.prototype.off=function(t,e){var i,r,n,a,s,o=(t||"").split(" "),h=o.length;if(!t)for(r in this.eventListeners)this._off(r);for(i=0;i<h;i++)if(a=(n=o[i].split("."))[0],s=n[1],a)this.eventListeners[a]&&this._off(a,s,e);else for(r in this.eventListeners)this._off(r,s,e)
;return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,i){var r=this;this.on(t,(function(t){for(var a=t.target.findAncestors(e,!0,r),s=0;s<a.length;s++)(t=n.Util.cloneObject(t)).currentTarget=a[s],i.call(a[s],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),h.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._remove=function(){this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(c);var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),i=0;i<t.length;i++){var r=t[i];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+n.Util._capitalize(t);return n.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new n.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e,i;if(!t)return this;for(e in t)"children"!==e&&(i="set"+n.Util._capitalize(e),n.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},t.prototype.isListening=function(){return this._getCache(u,this._isListening)},t.prototype._isListening=function(){var t=this.listening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},t.prototype.isVisible=function(){return this._getCache(m,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible(),i=this.getParent();return"inherit"===e?!i||i===t||i._isVisible(t):e},t.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,i,r,n=this.getDepth(),a=this,s=0;return"Stage"!==a.nodeType&&function o(h){for(t=[],e=h.length,i=0;i<e;i++)r=h[i],s++,r.nodeType!==d&&(t=t.concat(r.getChildren().toArray())),r._id===a._id&&(i=e);t.length>0&&t[0].getDepth()<=n&&o(t)}(a.getStage().getChildren()),s},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype.setPosition=function(t){return this.x(t.x),this.y(t.y),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){var e=this.getAbsoluteTransform(t).getMatrix(),i=new n.Transform,r=this.offset();return i.m=e.slice(),i.translate(r.x,r.y),i.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(g),this._clearSelfAndDescendantCache(p)},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(g),this._clearSelfAndDescendantCache(p),t},t.prototype.move=function(t){var e=t.x,i=t.y,r=this.x(),n=this.y()
;return void 0!==e&&(r+=e),void 0!==i&&(n+=i),this.setPosition({x:r,y:n}),this},t.prototype._eachAncestorReverse=function(t,e){var i,r,n=[],a=this.getParent();if(e&&e._id===this._id)t(this);else{for(n.unshift(this);a&&(!e||a._id!==e._id);)n.unshift(a),a=a.parent;for(i=n.length,r=0;r<i;r++)t(n[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&n.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(c,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,i,r,a={},s=this.getAttrs();for(t in a.attrs={},s)e=s[t],n.Util.isObject(e)&&!n.Util._isPlainObject(e)&&!n.Util._isArray(e)||(i="function"==typeof this[t]&&this[t],delete s[t],r=i?i.call(this):null,s[t]=e,r!==e&&(a.attrs[t]=e));return a.className=this.getClassName(),n.Util._prepareToStringify(a)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,i){var r=[];e&&this._isMatch(t)&&r.push(this);for(var n=this.parent;n;){if(n===i)return r;n._isMatch(t)&&r.push(n),n=n.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,i){return this.findAncestors(t,e,i)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,i,r=t.replace(/ /g,"").split(","),a=r.length;for(e=0;e<a;e++)if(i=r[e],n.Util.isValidSelector(i)||(n.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0)){if(this.id()===i.slice(1))return!0}else if("."===i.charAt(0)){if(this.hasName(i.slice(1)))return!0}else if(this.className===t||this.nodeType===t)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache("stage",this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,i){return(e=e||{}).target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){
return t?this._getAbsoluteTransform(t):this._getCache(p,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e=new n.Transform;return this._eachAncestorReverse((function(t){var i=t.getTransformsEnabled();"all"===i?e.multiply(t.getTransform()):"position"===i&&e.translate(t.getX()-t.getOffsetX(),t.getY()-t.getOffsetY())}),t),e},t.prototype.getAbsoluteScale=function(t){return t?this._getAbsoluteScale(t):this._getCache(f,this._getAbsoluteScale)},t.prototype._getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var i=1,r=1;return this._eachAncestorReverse((function(t){i*=t.scaleX(),r*=t.scaleY()}),t),{x:i,y:r}},t.prototype.getTransform=function(){return this._getCache(g,this._getTransform)},t.prototype._getTransform=function(){var t=new n.Transform,e=this.x(),i=this.y(),r=o.Konva.getAngle(this.rotation()),a=this.scaleX(),s=this.scaleY(),h=this.skewX(),l=this.skewY(),c=this.offsetX(),p=this.offsetY();return 0===e&&0===i||t.translate(e,i),0!==r&&t.rotate(r),0===h&&0===l||t.skew(h,l),1===a&&1===s||t.scale(a,s),0===c&&0===p||t.translate(-1*c,-1*p),t},t.prototype.clone=function(t){var e,i,r,a,s,o=n.Util.cloneObject(this.attrs);for(var h in v){delete o[v[h]]}for(e in t)o[e]=t[e];var l=new this.constructor(o);for(e in this.eventListeners)for(r=(i=this.eventListeners[e]).length,a=0;a<r;a++)(s=i[a]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(s));return l},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),r=void 0!==t.x?t.x:e.x,n=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,o=new s.SceneCanvas({width:t.width||e.width||(i?i.width():0),height:t.height||e.height||(i?i.height():0),pixelRatio:a}),h=o.getContext();return h.save(),(r||n)&&h.translate(-1*r,-1*n),this.drawScene(o),h.restore(),o},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,n.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance},t.prototype._off=function(t,e,i){var r,n,a,s=this.eventListeners[t];for(r=0;r<s.length;r++)if(n=s[r].name,a=s[r].handler,!("konva"===n&&"konva"!==e||e&&n!==e||i&&i!==a)){if(s.splice(r,1),0===s.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},t.prototype.setId=function(t){var i=this.id();return e._removeId(i,this),function(t,i){i&&(e.ids[i]=t)}(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var i,r,n=(this.name()||"").split(/\s/g),a=(t||"").split(/\s/g);for(r=0;r<n.length;r++)i=n[r],-1===a.indexOf(i)&&i&&e._removeName(i,this._id);for(r=0;r<a.length;r++)i=a[r],-1===n.indexOf(i)&&i&&e._addName(this,i);return this._setAttr("name",t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.setName(i)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var i=this["set"+n.Util._capitalize(t)];return n.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e){var i=this.attrs[t]
;(i!==e||n.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,i){var r;void 0!==i&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,r,i))},t.prototype._fireAndBubble=function(t,e,i){if(e&&this.nodeType===d&&(e.target=this),!(("mouseenter"===t||"mouseleave"===t)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i))){this._fire(t,e);var r=("mouseenter"===t||"mouseleave"===t)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._fire=function(t,e){var i,r=this.eventListeners[t];if(r)for((e=e||{}).currentTarget=this,e.type=t,i=0;i<r.length;i++)r[i].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype.startDrag=function(t){var e=!t,i=t?t.pointerId:void 0,r=this.getStage()._getPointerById(i),n=this.getAbsolutePosition();(r||e)&&h.DD._dragElements.set(this._id,{node:this,startPointerPos:r,offset:e?{x:0,y:0}:{x:r.x-n.x,y:r.y-n.y},isDragging:!!e,pointerId:i,dragStopped:!1})},t.prototype._setDragPosition=function(t,e){var i=this.getStage()._getPointerById(e.pointerId),r=this.dragBoundFunc();if(i){var n={x:i.x-e.offset.x,y:i.y-e.offset.y};void 0!==r&&(n=r.call(this,n,t)),this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=n}},t.prototype.stopDrag=function(){var t={},e=h.DD._dragElements.get(this._id);e&&(e.dragStopped=!0),h.DD._endDragBefore(t),h.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=h.DD._dragElements.get(this._id);return!!t&&t.isDragging},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||o.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var i=!1;h.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(i=!0)})),i||this.startDrag(t)}}))},t.prototype._dragChange=function(){this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&h.DD._dragElements.has(this._id)&&this.stopDrag())},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return n.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,i){var r,a,s,h=t.prototype.getClassName.call(e),l=e.children;if(i&&(e.attrs.container=i),o._NODES_REGISTRY[h]||(n.Util.warn('Can not find a node with class name "'+h+'". Fallback to "Shape".'),h="Shape"),r=new(0,o._NODES_REGISTRY[h])(e.attrs),l)for(a=l.length,s=0;s<a;s++)r.add(t._createNode(l[s]));return r},t}();e.Node=x,x.prototype.nodeType="Node",x.prototype._attrsAffectingSize=[],a.Factory.addGetterSetter(x,"zIndex"),a.Factory.addGetterSetter(x,"absolutePosition"),a.Factory.addGetterSetter(x,"position"),a.Factory.addGetterSetter(x,"x",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"y",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"globalCompositeOperation","source-over",l.getStringValidator()),a.Factory.addGetterSetter(x,"opacity",1,l.getNumberValidator()),a.Factory.addGetterSetter(x,"name","",l.getStringValidator()),a.Factory.addGetterSetter(x,"id","",l.getStringValidator()),a.Factory.addGetterSetter(x,"rotation",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(x,"scale",["x","y"]),a.Factory.addGetterSetter(x,"scaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(x,"scaleY",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(x,"skew",["x","y"]),a.Factory.addGetterSetter(x,"skewX",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"skewY",0,l.getNumberValidator()),
a.Factory.addComponentsGetterSetter(x,"offset",["x","y"]),a.Factory.addGetterSetter(x,"offsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"offsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"dragDistance",null,l.getNumberValidator()),a.Factory.addGetterSetter(x,"width",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"height",0,l.getNumberValidator()),a.Factory.addGetterSetter(x,"listening","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "listening" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(x,"preventDefault",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(x,"filters",null,(function(t){return this._filterUpToDate=!1,t})),a.Factory.addGetterSetter(x,"visible","inherit",(function(t){return!0===t||!1===t||"inherit"===t||n.Util.warn(t+' is a not valid value for "visible" attribute. The value may be true, false or "inherit".'),t})),a.Factory.addGetterSetter(x,"transformsEnabled","all",l.getStringValidator()),a.Factory.addGetterSetter(x,"size"),a.Factory.addGetterSetter(x,"dragBoundFunc"),a.Factory.addGetterSetter(x,"draggable",!1,l.getBooleanValidator()),a.Factory.backCompat(x,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n.Collection.mapMethods(x)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(181),o=i(178),h=i(183),l=i(180),c=i(179),p=i(207),f="hasShadow",u="shadowRGBA",d="patternImage",g="linearGradient",m="radialGradient";function v(){return a||(a=s.Util.createCanvasElement().getContext("2d"))}function y(){this._clearCache(f)}function _(){this._clearCache(u)}function b(){this._clearCache(d)}function w(){this._clearCache(g)}function x(){this._clearCache(m)}e.shapes={};var S=function(t){function i(i){for(var r,n=t.call(this,i)||this;!(r=s.Util.getRandomColor())||r in e.shapes;);return n.colorKey=r,e.shapes[r]=n,n.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),n.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),n.on("fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva",b),n.on("fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",w),n.on("fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",x),n}return n(i,t),i.prototype.getContext=function(){return this.getLayer().getContext()},i.prototype.getCanvas=function(){return this.getLayer().getCanvas()},i.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},i.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},i.prototype.hasShadow=function(){return this._getCache(f,this._hasShadow)},i.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},i.prototype._getFillPattern=function(){return this._getCache(d,this.__getFillPattern)},i.prototype.__getFillPattern=function(){if(this.fillPatternImage())return v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},i.prototype._getLinearGradient=function(){return this._getCache(g,this.__getLinearGradient)},
i.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=v(),i=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),n=e.createLinearGradient(i.x,i.y,r.x,r.y),a=0;a<t.length;a+=2)n.addColorStop(t[a],t[a+1]);return n}},i.prototype._getRadialGradient=function(){return this._getCache(m,this.__getRadialGradient)},i.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=v(),i=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),n=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)n.addColorStop(t[a],t[a+1]);return n}},i.prototype.getShadowRGBA=function(){return this._getCache(u,this._getShadowRGBA)},i.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=s.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},i.prototype.hasFill=function(){return!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())},i.prototype.hasStroke=function(){return this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())},i.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},i.prototype.destroy=function(){return h.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},i.prototype._useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.perfectDrawEnabled()||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},i.prototype.setStrokeHitEnabled=function(t){t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},i.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},i.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},i.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,i=t.relativeTo,r=this.getSelfRect(),n=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=r.width+n,s=r.height+n,o=!t.skipShadow&&this.hasShadow(),h=o?this.shadowOffsetX():0,l=o?this.shadowOffsetY():0,c=a+Math.abs(h),p=s+Math.abs(l),f=o&&this.shadowBlur()||0,u=c+2*f,d=p+2*f,g=0;Math.round(n/2)!==n/2&&(g=1);var m={width:u+g,height:d+g,x:-Math.round(n/2+f)+Math.min(h,0)+r.x,y:-Math.round(n/2+f)+Math.min(l,0)+r.y};return e?m:this._transformedRect(m,i)},i.prototype.drawScene=function(t,e,i,r){var n,a,s=this.getLayer(),o=t||s.getCanvas(),h=o.getContext(),l=this._getCanvasCache(),c=this.sceneFunc(),p=this.hasShadow(),f=this.hasStroke();if(!this.isVisible()&&!i)return this;if(l)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!c)return this;if(h.save(),this._useBufferCanvas(i)&&!r){if((a=(n=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this),!i)if(s)s._applyTransform(this,a,e);else{var u=this.getAbsoluteTransform(e).getMatrix();h.transform(u[0],u[1],u[2],u[3],u[4],u[5])}c.call(this,a,this),a.restore();var d=n.pixelRatio;p&&!o.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(n._canvas,0,0,n.width/d,n.height/d),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(n._canvas,0,0,n.width/d,n.height/d))}else{if(h._applyLineJoin(this),!i)if(s)s._applyTransform(this,h,e);else{var g=this.getAbsoluteTransform(e).getMatrix();h.transform(g[0],g[1],g[2],g[3],g[4],g[5])}p&&f&&!o.hitCanvas?(h.save(),i||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),c.call(this,h,this),h.restore(),this.hasFill()&&this.shadowForStrokeEnabled()&&c.call(this,h,this)):p&&!o.hitCanvas?(h.save(),i||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),
c.call(this,h,this),h.restore()):(i||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),c.call(this,h,this))}return h.restore(),this},i.prototype.drawHit=function(t,e,i){var r=this.getLayer(),n=t||r.hitCanvas,a=n&&n.getContext(),o=this.hitFunc()||this.sceneFunc(),h=this._getCanvasCache(),l=h&&h.hit;if(this.colorKey||(console.log(this),s.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),!this.shouldDrawHit()&&!i)return this;if(l)return a.save(),r._applyTransform(this,a,e),this._drawCachedHitCanvas(a),a.restore(),this;if(!o)return this;if(a.save(),a._applyLineJoin(this),!i)if(r)r._applyTransform(this,a,e);else{var c=this.getAbsoluteTransform(e).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this},i.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,i,r,n,a,o=this._getCanvasCache(),h=this._getCachedSceneCanvas(),l=o.hit,c=l.getContext(),p=l.getWidth(),f=l.getHeight();c.clear(),c.drawImage(h._canvas,0,0,p,f);try{for(r=(i=(e=c.getImageData(0,0,p,f)).data).length,n=s.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)i[a+3]>t?(i[a]=n.r,i[a+1]=n.g,i[a+2]=n.b,i[a+3]=255):i[a+3]=0;c.putImageData(e,0,0)}catch(t){s.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},i.prototype.hasPointerCapture=function(t){return p.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){p.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){p.releaseCapture(t,this)},i}(h.Node);e.Shape=S,S.prototype._fillFunc=function(t){t.fill()},S.prototype._strokeFunc=function(t){t.stroke()},S.prototype._fillFuncHit=function(t){t.fill()},S.prototype._strokeFuncHit=function(t){t.stroke()},S.prototype._centroid=!1,S.prototype.nodeType="Shape",c._registerNode(S),o.Factory.addGetterSetter(S,"stroke",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"strokeWidth",2,l.getNumberValidator()),o.Factory.addGetterSetter(S,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),o.Factory.addGetterSetter(S,"strokeHitEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"perfectDrawEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),o.Factory.addGetterSetter(S,"lineJoin"),o.Factory.addGetterSetter(S,"lineCap"),o.Factory.addGetterSetter(S,"sceneFunc"),o.Factory.addGetterSetter(S,"hitFunc"),o.Factory.addGetterSetter(S,"dash"),o.Factory.addGetterSetter(S,"dashOffset",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowColor",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"shadowBlur",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowOpacity",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(S,"shadowOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"shadowOffsetY",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternImage"),o.Factory.addGetterSetter(S,"fill",void 0,l.getStringValidator()),o.Factory.addGetterSetter(S,"fillPatternX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternY",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(S,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(S,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(S,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(S,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(S,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(S,"fillEnabled",!0),o.Factory.addGetterSetter(S,"strokeEnabled",!0),o.Factory.addGetterSetter(S,"shadowEnabled",!0),o.Factory.addGetterSetter(S,"dashEnabled",!0),o.Factory.addGetterSetter(S,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(S,"fillPriority","color"),o.Factory.addComponentsGetterSetter(S,"fillPatternOffset",["x","y"]),
o.Factory.addGetterSetter(S,"fillPatternOffsetX",0,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternOffsetY",0,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(S,"fillPatternScaleX",1,l.getNumberValidator()),o.Factory.addGetterSetter(S,"fillPatternScaleY",1,l.getNumberValidator()),o.Factory.addComponentsGetterSetter(S,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(S,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(S,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(S,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(S,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(S,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(S,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(S,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(S,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(S,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(S,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(S,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(S,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(S,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(S,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(S,"fillPatternRotation",0),o.Factory.backCompat(S,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),s.Collection.mapMethods(S)},,function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==r(i))throw new TypeError(i+"must be non-object");for(var n in i)a(i,n)&&(t[n]=i[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+r),n);else for(var a=0;a<r;a++)t[n+a]=e[i+a]},flattenChunks:function(t){var e,i,r,n,a,s;for(r=0,e=0,i=t.length;e<i;e++)r+=t[e].length;for(s=new Uint8Array(r),n=0,e=0,i=t.length;e<i;e++)a=t[e],s.set(a,n),n+=a.length;return s}},o={arraySet:function(t,e,i,r,n){for(var a=0;a<r;a++)t[n+a]=e[i+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)},,function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(183),h=i(191),l=i(180),c=i(179),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new a.Collection,e}return n(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new a.Collection;return this.children.each((function(i){t(i)&&e.push(i)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},
e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new a.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new a.Collection,this},e.prototype.add=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var i=this.children;return this._validateAdd(t),t.index=i.length,t.parent=this,i.push(t),this._fire("add",{child:t}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var i=[];return this._descendants((function(r){var n=r._isMatch(t);return n&&i.push(r),!(!n||!e)})),a.Collection.toCollection(i)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var i=this.children[e];if(t(i))return!0;if(i.hasChildren()&&i._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=o.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,r=0;r<i;r++){var n=e[r];t.children.push(n.toObject())}return t},e.prototype._getDescendants=function(t){for(var e=[],i=t.length,r=0;r<i;r++){var n=t[r];this.isAncestorOf(n)&&e.push(n)}return e},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=o.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(i){i.isVisible()&&i.intersects(t)&&e.push(i)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e,i){var r=this.getLayer(),n=t||r&&r.getCanvas(),a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.scene;return(this.isVisible()||i)&&(!i&&o?(a.save(),r._applyTransform(this,a,e),this._drawCachedSceneCanvas(a),a.restore()):this._drawChildren(n,"drawScene",e,!1,i,i)),this},e.prototype.drawHit=function(t,e,i){var r=this.getLayer(),n=t||r&&r.hitCanvas,a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.hit;return(this.shouldDrawHit(n)||i)&&(!i&&o?(a.save(),r._applyTransform(this,a,e),this._drawCachedHitCanvas(a),a.restore()):this._drawChildren(n,"drawHit",e,!1,i,i)),this},e.prototype._drawChildren=function(t,e,i,r,n,a){var s,o,h=this.getLayer(),l=t&&t.getContext(),c=this.clipWidth(),p=this.clipHeight(),f=this.clipFunc(),u=c&&p||f;if(u&&h){l.save();var d=this.getAbsoluteTransform(i),g=d.getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.beginPath(),f?f.call(this,l,this):(s=this.clipX(),o=this.clipY(),l.rect(s,o,c,p)),l.clip(),g=d.copy().invert().getMatrix(),l.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var m="source-over"!==this.globalCompositeOperation()&&!a;m&&h&&(l.save(),l._applyGlobalCompositeOperation(this)),this.children.each((function(a){a[e](t,i,r,n)})),m&&h&&l.restore(),u&&h&&l.restore()},e.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var e=this.getLayer(),i=!1;h.DD._dragElements.forEach((function(t){t.isDragging&&t.node.getLayer()===e&&(i=!0)}));var r=!c.Konva.hitOnDragEnabled&&i;return e&&e.hitGraphEnabled()&&this.isVisible()&&!r},e.prototype.getClientRect=function(t){var e,i,r,n,a=(t=t||{}).skipTransform,s=t.relativeTo,o={x:1/0,y:1/0,width:0,height:0},h=this;this.children.each((function(a){if(a.visible()){var s=a.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===e?(e=s.x,i=s.y,r=s.x+s.width,
n=s.y+s.height):(e=Math.min(e,s.x),i=Math.min(i,s.y),r=Math.max(r,s.x+s.width),n=Math.max(n,s.y+s.height)))}}));for(var l=this.find("Shape"),c=!1,p=0;p<l.length;p++){if(l[p]._isVisible(this)){c=!0;break}}return o=c?{x:e,y:i,width:r-e,height:n-i}:{x:0,y:0,width:0,height:0},a?o:this._transformedRect(o,s)},e}(o.Node);e.Container=p,s.Factory.addComponentsGetterSetter(p,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(p,"clipX",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clipY",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clipWidth",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clipHeight",void 0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clipFunc"),a.Collection.mapMethods(p)},,function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(181),o=i(206),h=i(179),l=i(178),c=i(180);var p=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||h.Konva.pixelRatio||function(){if(a)return a;var t=s.Util.createCanvasElement().getContext("2d");return a=(h.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=s.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t),this.setHeight(e)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return s.Util.error("Unable to get data URL. "+t.message),""}}},t}();e.Canvas=p,l.Factory.addGetterSetter(p,"pixelRatio",void 0,c.getNumberValidator());var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.context=new o.SceneContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(p);e.SceneCanvas=f;var u=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.hitCanvas=!0,i.context=new o.HitContext(i),i.setSize(e.width,e.height),i}return n(e,t),e}(p);e.HitCanvas=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(179),n=i(181);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){e.isDragging&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){e.DD._dragElements.forEach((function(e,i){var r=e.node,a=r.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=n.Util._getFirstPointerId(t));var s=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(s){if(!e.isDragging){var o=r.dragDistance()
;if(Math.max(Math.abs(s.x-e.startPointerPos.x),Math.abs(s.y-e.startPointerPos.y))<o)return;if(e.isDragging=!0,r.fire("dragstart",{type:"dragstart",target:r,evt:t},!0),!r.isDragging())return}r._setDragPosition(t,e),r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)}}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(i,n){var a=i.node.getStage();if(a.setPointersPositions(t),a._changedPointerPositions.find((function(t){return t.id===i.pointerId}))){i.isDragging&&(e.DD.justDragged=!0,r.Konva.listenClickTap=!1),i.dragStopped=!0,i.isDragging=!1;var s=i.node.getLayer()||i.node instanceof r.Konva.Stage&&i.node;s&&s.draw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(i,r){i.dragStopped&&(i.node.fire("dragend",{type:"dragend",target:i.node,evt:t},!0),e.DD._dragElements.delete(r))}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},function(t,e,i){var r=i(21),n=i(89),a=i(10),s=i(56),o=i(88),h=i(234),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,i,c,p){var f,u,d,g,m,v,y=s(e,i,c?2:1);if(p)f=t;else{if("function"!=typeof(u=o(t)))throw TypeError("Target is not iterable");if(n(u)){for(d=0,g=a(t.length);g>d;d++)if((m=c?y(r(v=t[d])[0],v[1]):y(t[d]))&&m instanceof l)return m;return new l(!1)}f=u.call(t)}for(;!(v=f.next()).done;)if((m=h(f,y,v.value,c))&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,i){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(e){i=new Blob([t])}return new Worker(r.createObjectURL(i))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(188),o=i(179),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to groups.")},e}(s.Container);e.Group=h,h.prototype.nodeType="Group",o._registerNode(h),a.Collection.mapMethods(h)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(179),n=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},a=function(){function t(e,i){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=e,this.setLayers(i)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,i=this.layers,r=i.length;for(e=0;e<r;e++)if(i[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,i=t.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),t._addAnimation(this),this},t.prototype.stop=function(){
return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,i=t.id,r=this.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===i){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,i,r,a,s,o,h,l={},c=this.animations;for(r=0;r<c.length;r++)if(e=(t=c[r]).layers,i=t.func,t._updateFrameObject(n()),s=e.length,!i||!1!==i.call(t,t.frame))for(a=0;a<s;a++)void 0!==(o=e[a])._id&&(l[o._id]=o);for(h in l)l.hasOwnProperty(h)&&l[h].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=a},function(t,e,i){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=i(37),a=i(16),s=i(11),o=i(17).f,h=i(36),l=i(233),c=h("meta"),p=0,f=Object.isExtensible||function(){return!0},u=function(t){o(t,c,{value:{objectID:"O"+ ++p,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!s(t,c)){if(!f(t))return"F";if(!e)return"E";u(t)}return t[c].objectID},getWeakData:function(t,e){if(!s(t,c)){if(!f(t))return!0;if(!e)return!1;u(t)}return t[c].weakData},onFreeze:function(t){return l&&d.REQUIRED&&f(t)&&!s(t,c)&&u(t),t}};n[c]=!0},,,function(t,e,i){"use strict";t.exports=function(t,e,i,r){for(var n=65535&t|0,a=t>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{a=a+(n=n+e[r++]|0)|0}while(--s);n%=65521,a%=65521}return n|a<<16|0}},function(t,e,i){"use strict";var r=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,e,i,n){var a=r,s=n+i;t^=-1;for(var o=n;o<s;o++)t=t>>>8^a[255&(t^e[o])];return-1^t}},function(t,e,i){"use strict";var r=i(186),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new r.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function h(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",s=0;s<e;s++)i+=String.fromCharCode(t[s]);return i}s[254]=s[254]=1,e.string2buf=function(t){var e,i,n,a,s,o=t.length,h=0;for(a=0;a<o;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),h+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(h),s=0,a=0;s<h;a++)55296==(64512&(i=t.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=t.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?e[s++]=i:i<2048?(e[s++]=192|i>>>6,e[s++]=128|63&i):i<65536?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},e.buf2binstring=function(t){return h(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,r,n,a,o=e||t.length,l=new Array(2*o);for(r=0,i=0;i<o;)if((n=t[i++])<128)l[r++]=n;else if((a=s[n])>4)l[r++]=65533,i+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&i<o;)n=n<<6|63&t[i++],a--;a>1?l[r++]=65533:n<65536?l[r++]=n:(n-=65536,l[r++]=55296|n>>10&1023,l[r++]=56320|1023&n)}return h(l,r)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+s[t[i]]>e?i:e}},function(t,e,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,
this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,i){var r=i(384).Konva;r._injectGlobal(r),e.default=r,t.exports=e.default},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(179),o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),s.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.getFillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.getStrokeEnabled()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},t.prototype.getTrace=function(t){var e,i,r,n,s=this.traceArr,o=s.length,h="";for(e=0;e<o;e++)(r=(i=s[e]).method)?(n=i.args,h+=r,t?h+="()":a.Util._isArray(n[0])?h+="(["+n.join(",")+"])":h+="("+n.join(",")+")"):(h+=i.property,t||(h+="="+i.val)),h+=";";return h},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,i,r,n,a){this._context.arc(t,e,i,r,n,a)},t.prototype.arcTo=function(t,e,i,r,n,a){this._context.arc(t,e,i,r,n,a)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,i,r,n,a){this._context.bezierCurveTo(t,e,i,r,n,a)},t.prototype.clearRect=function(t,e,i,r){this._context.clearRect(t,e,i,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,i,r){return this._context.createLinearGradient(t,e,i,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,r,n,a){return this._context.createRadialGradient(t,e,i,r,n,a)},t.prototype.drawImage=function(t,e,i,r,n,a,s,o,h){var l=arguments,c=this._context
;3===l.length?c.drawImage(t,e,i):5===l.length?c.drawImage(t,e,i,r,n):9===l.length&&c.drawImage(t,e,i,r,n,a,s,o,h)},t.prototype.ellipse=function(t,e,i,r,n,a,s,o){this._context.ellipse(t,e,i,r,n,a,s,o)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,i,r){this._context.fillRect(t,e,i,r)},t.prototype.strokeRect=function(t,e,i,r){this._context.strokeRect(t,e,i,r)},t.prototype.fillText=function(t,e,i){this._context.fillText(t,e,i)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,i,r){this._context.rect(t,e,i,r)},t.prototype.putImageData=function(t,e,i){this._context.putImageData(t,e,i)},t.prototype.quadraticCurveTo=function(t,e,i,r){this._context.quadraticCurveTo(t,e,i,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,i,r,n,a){this._context.setTransform(t,e,i,r,n,a)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,i,r){this._context.strokeText(t,e,i,r)},t.prototype.transform=function(t,e,i,r,n,a){this._context.transform(t,e,i,r,n,a)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,i=this,r=o.length,n=a.Util._simplifyArray,s=this.setAttr,h=function(t){var r,a=i[t];i[t]=function(){return e=n(Array.prototype.slice.call(arguments,0)),r=a.apply(i,arguments),i._trace({method:t,args:e}),r}};for(t=0;t<r;t++)h(o[t]);i.setAttr=function(){s.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=h,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(h.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),i=t.getFillPatternY(),r=t.getFillPatternScaleX(),n=t.getFillPatternScaleY(),a=s.Konva.getAngle(t.getFillPatternRotation()),o=t.getFillPatternOffsetX(),h=t.getFillPatternOffsetY();(e||i)&&this.translate(e||0,i||0),a&&this.rotate(a),(r||n)&&this.scale(r,n),(o||h)&&this.translate(-1*o,-1*h),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===i)this._fillPattern(t);else{var n=t.getFillLinearGradientColorStops()
;if(n&&"linear-gradient"===i)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):n?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),n=this.createLinearGradient(e.x,e.y,i.x,i.y);if(r){for(var a=0;a<r.length;a+=2)n.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",n)}},e.prototype._stroke=function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}},e.prototype._applyShadow=function(t){var e=a.Util,i=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),n=e.get(t.getShadowOffset(),{x:0,y:0}),s=t.getAbsoluteScale(),o=this.canvas.getPixelRatio(),h=s.x*o,l=s.y*o;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r*Math.min(Math.abs(h),Math.abs(l))),this.setAttr("shadowOffsetX",n.x*h),this.setAttr("shadowOffsetY",n.y*l)},e}(h);e.SceneContext=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype._stroke=function(t){if(t.hasStroke()&&t.hitStrokeWidth()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),n="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(h);e.HitContext=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(179),n=new Map,a=void 0!==r.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function o(t,e){var i=n.get(t);if(i){var r=i.getStage();r&&r.content,n.delete(t),a&&i._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=function(t){return n.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return n.get(t)===e},e.setPointerCapture=function(t,e){o(t),e.getStage()&&(n.set(t,e),a&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(188),o=i(183),h=i(178),l=i(190),c=function(t){function e(e){var i=t.call(this,e)||this;return i.canvas=new l.SceneCanvas,i._waitingForDraw=!1,i.on("visibleChange",i._checkVisibility),i._checkVisibility(),i.on("imageSmoothingEnabledChange",i._checkSmooth),i._checkSmooth(),i}return n(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var i=this.getStage();return i&&(i.content.removeChild(this.getCanvas()._canvas),
e<i.getChildren().length-1?i.content.insertBefore(this.getCanvas()._canvas,i.getChildren()[e+1].getCanvas()._canvas):i.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){o.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!o.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(o.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(o.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.hitGraphEnabled=function(){return!0},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return o.Node.prototype.remove.call(this),t&&t.parentNode&&a.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,i=t.height;return this.canvas.setSize(e,i),this},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._checkSmooth=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.getIntersection=function(t,e){return null},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype._applyTransform=function(t,e,i){var r=t.getAbsoluteTransform(i).getMatrix();e.transform(r[0],r[1],r[2],r[3],r[4],r[5])},e}(s.Container);e.BaseLayer=c,c.prototype.nodeType="BaseLayer",h.Factory.addGetterSetter(c,"imageSmoothingEnabled",!0),h.Factory.addGetterSetter(c,"clearBeforeDraw",!0),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(e){var i=t.call(this,e)||this;return i.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,r,n=this.points(),a=n.length,s=this.tension(),o=this.closed(),h=this.bezier();if(a){if(t.beginPath(),t.moveTo(n[0],n[1]),0!==s&&a>4){for(i=(e=this.getTensionPoints()).length,r=o?0:4,
o||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<i-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);o||t.quadraticCurveTo(e[i-2],e[i-1],n[a-2],n[a-1])}else if(h)for(r=2;r<a;)t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);else for(r=2;r<a;r+=2)t.lineTo(n[r],n[r+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,i=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),s=a.Util._expandPoints(t,i);return[r[2],r[3]].concat(s).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){for(var t,e,i,r=(t=0!==this.tension()?this._getTensionPoints():this.points())[0],n=t[0],a=t[1],s=t[1],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],r=Math.min(r,e),n=Math.max(n,e),a=Math.min(a,i),s=Math.max(s,i);return{x:Math.round(r),y:Math.round(a),width:Math.round(n-r),height:Math.round(s-a)}},e}(o.Shape);e.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],l._registerNode(c),s.Factory.addGetterSetter(c,"closed",!1),s.Factory.addGetterSetter(c,"bezier",!1),s.Factory.addGetterSetter(c,"tension",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"points",[],h.getNumberArrayValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(179),l=function(t){function e(i){var r=t.call(this,i)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var n=0;n<r.dataArray.length;++n)r.pathLength+=r.dataArray[n].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var i=0;i<e.length;i++){var r=e[i].command,n=e[i].points;switch(r){case"L":t.lineTo(n[0],n[1]);break;case"M":t.moveTo(n[0],n[1]);break;case"C":t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var a=n[0],s=n[1],o=n[2],h=n[3],l=n[4],c=n[5],p=n[6],f=n[7],u=o>h?o:h,d=o>h?1:o/h,g=o>h?h/o:1;t.translate(a,s),t.rotate(p),t.scale(d,g),t.arc(0,0,u,l,l+c,1-f),t.scale(1/d,1/g),t.rotate(-p),t.translate(-a,-s);break;case"z":t.closePath()}}t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(e){t=t.concat(e.points)}));for(var e,i,r=t[0],n=t[0],a=t[1],s=t[1],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],isNaN(e)||(r=Math.min(r,e),n=Math.max(n,e)),isNaN(i)||(a=Math.min(a,i),s=Math.max(s,i));return{x:Math.round(r),y:Math.round(a),width:Math.round(n-r),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var i,r=0,n=this.dataArray.length;if(!n)return null;for(;r<n&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===n)return{x:(i=this.dataArray[r-1].points.slice(-2))[0],y:i[1]};if(t<.01)return{x:(i=this.dataArray[r].points.slice(0,2))[0],y:i[1]};var a=this.dataArray[r],s=a.points;switch(a.command){case"L":return e.getPointOnLine(t,a.start.x,a.start.y,s[0],s[1])
;case"C":return e.getPointOnCubicBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return e.getPointOnQuadraticBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3]);case"A":var o=s[0],h=s[1],l=s[2],c=s[3],p=s[4],f=s[5],u=s[6];return p+=f*t/a.pathLength,e.getPointOnEllipticalArc(o,h,l,c,p,u)}return null},e.getLineLength=function(t,e,i,r){return Math.sqrt((i-t)*(i-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,i,r,n,a,s){void 0===a&&(a=e),void 0===s&&(s=i);var o=(n-i)/(r-e+1e-8),h=Math.sqrt(t*t/(1+o*o));r<e&&(h*=-1);var l,c=o*h;if(r===e)l={x:a,y:s+c};else if((s-i)/(a-e+1e-8)===o)l={x:a+h,y:s+c};else{var p,f,u=this.getLineLength(e,i,r,n);if(u<1e-8)return;var d=(a-e)*(r-e)+(s-i)*(n-i);p=e+(d/=u*u)*(r-e),f=i+d*(n-i);var g=this.getLineLength(a,s,p,f),m=Math.sqrt(t*t-g*g);h=Math.sqrt(m*m/(1+o*o)),r<e&&(h*=-1),l={x:p+h,y:f+(c=o*h)}}return l},e.getPointOnCubicBezier=function(t,e,i,r,n,a,s,o,h){function l(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function p(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:o*l(t)+a*c(t)+r*p(t)+e*f(t),y:h*l(t)+s*c(t)+n*p(t)+i*f(t)}},e.getPointOnQuadraticBezier=function(t,e,i,r,n,a,s){function o(t){return t*t}function h(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:a*o(t)+r*h(t)+e*l(t),y:s*o(t)+n*h(t)+i*l(t)}},e.getPointOnEllipticalArc=function(t,e,i,r,n,a){var s=Math.cos(a),o=Math.sin(a),h=i*Math.cos(n),l=r*Math.sin(n);return{x:t+(h*s-l*o),y:e+(h*o+l*s)}},e.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<i.length;r++)e=e.replace(new RegExp(i[r],"g"),"|"+i[r]);var n,a=e.split("|"),s=[],o=[],h=0,l=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<a.length;r++){var p=a[r],f=p.charAt(0);for(p=p.slice(1),o.length=0;n=c.exec(p);)o.push(n[0]);for(var u=[],d=0,g=o.length;d<g;d++){var m=parseFloat(o[d]);isNaN(m)?u.push(0):u.push(m)}for(;u.length>0&&!isNaN(u[0]);){var v,y,_,b,w,x,S,k,C,P,A=null,M=[],F=h,T=l;switch(f){case"l":h+=u.shift(),l+=u.shift(),A="L",M.push(h,l);break;case"L":h=u.shift(),l=u.shift(),M.push(h,l);break;case"m":var D=u.shift(),E=u.shift();if(h+=D,l+=E,A="M",s.length>2&&"z"===s[s.length-1].command)for(var O=s.length-2;O>=0;O--)if("M"===s[O].command){h=s[O].points[0]+D,l=s[O].points[1]+E;break}M.push(h,l),f="l";break;case"M":h=u.shift(),l=u.shift(),A="M",M.push(h,l),f="L";break;case"h":h+=u.shift(),A="L",M.push(h,l);break;case"H":h=u.shift(),A="L",M.push(h,l);break;case"v":l+=u.shift(),A="L",M.push(h,l);break;case"V":l=u.shift(),A="L",M.push(h,l);break;case"C":M.push(u.shift(),u.shift(),u.shift(),u.shift()),h=u.shift(),l=u.shift(),M.push(h,l);break;case"c":M.push(h+u.shift(),l+u.shift(),h+u.shift(),l+u.shift()),h+=u.shift(),l+=u.shift(),A="C",M.push(h,l);break;case"S":y=h,_=l,"C"===(v=s[s.length-1]).command&&(y=h+(h-v.points[2]),_=l+(l-v.points[3])),M.push(y,_,u.shift(),u.shift()),h=u.shift(),l=u.shift(),A="C",M.push(h,l);break;case"s":y=h,_=l,"C"===(v=s[s.length-1]).command&&(y=h+(h-v.points[2]),_=l+(l-v.points[3])),M.push(y,_,h+u.shift(),l+u.shift()),h+=u.shift(),l+=u.shift(),A="C",M.push(h,l);break;case"Q":M.push(u.shift(),u.shift()),h=u.shift(),l=u.shift(),M.push(h,l);break;case"q":M.push(h+u.shift(),l+u.shift()),h+=u.shift(),l+=u.shift(),A="Q",M.push(h,l);break;case"T":y=h,_=l,"Q"===(v=s[s.length-1]).command&&(y=h+(h-v.points[0]),_=l+(l-v.points[1])),h=u.shift(),l=u.shift(),A="Q",M.push(y,_,h,l);break;case"t":y=h,_=l,"Q"===(v=s[s.length-1]).command&&(y=h+(h-v.points[0]),_=l+(l-v.points[1])),h+=u.shift(),l+=u.shift(),A="Q",M.push(y,_,h,l);break;case"A":b=u.shift(),w=u.shift(),x=u.shift(),S=u.shift(),k=u.shift(),C=h,P=l,h=u.shift(),l=u.shift(),A="A",M=this.convertEndpointToCenterParameterization(C,P,h,l,S,k,b,w,x);break;case"a":b=u.shift(),w=u.shift(),x=u.shift(),S=u.shift(),k=u.shift(),C=h,P=l,h+=u.shift(),l+=u.shift(),A="A",M=this.convertEndpointToCenterParameterization(C,P,h,l,S,k,b,w,x)}s.push({command:A||f,points:M,start:{x:F,y:T},
pathLength:this.calcLength(F,T,A||f,M)})}"z"!==f&&"Z"!==f||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s},e.calcLength=function(t,i,r,n){var a,s,o,h,l=e;switch(r){case"L":return l.getLineLength(t,i,n[0],n[1]);case"C":for(a=0,s=l.getPointOnCubicBezier(0,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),h=.01;h<=1;h+=.01)o=l.getPointOnCubicBezier(h,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"Q":for(a=0,s=l.getPointOnQuadraticBezier(0,t,i,n[0],n[1],n[2],n[3]),h=.01;h<=1;h+=.01)o=l.getPointOnQuadraticBezier(h,t,i,n[0],n[1],n[2],n[3]),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"A":a=0;var c=n[4],p=n[5],f=n[4]+p,u=Math.PI/180;if(Math.abs(c-f)<u&&(u=Math.abs(c-f)),s=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),p<0)for(h=c-u;h>f;h-=u)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(h=c+u;h<f;h+=u)o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),a+=l.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=l.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],f,0),a+=l.getLineLength(s.x,s.y,o.x,o.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,i,r,n,a,s,o,h){var l=h*(Math.PI/180),c=Math.cos(l)*(t-i)/2+Math.sin(l)*(e-r)/2,p=-1*Math.sin(l)*(t-i)/2+Math.cos(l)*(e-r)/2,f=c*c/(s*s)+p*p/(o*o);f>1&&(s*=Math.sqrt(f),o*=Math.sqrt(f));var u=Math.sqrt((s*s*(o*o)-s*s*(p*p)-o*o*(c*c))/(s*s*(p*p)+o*o*(c*c)));n===a&&(u*=-1),isNaN(u)&&(u=0);var d=u*s*p/o,g=u*-o*c/s,m=(t+i)/2+Math.cos(l)*d-Math.sin(l)*g,v=(e+r)/2+Math.sin(l)*d+Math.cos(l)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(c-d)/s,(p-g)/o]),x=[(c-d)/s,(p-g)/o],S=[(-1*c-d)/s,(-1*p-g)/o],k=b(x,S);return _(x,S)<=-1&&(k=Math.PI),_(x,S)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),[m,v,s,o,w,k,l,a]},e}(o.Shape);e.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],h._registerNode(l),s.Factory.addGetterSetter(l,"data"),a.Collection.mapMethods(l)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(179),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),i=this.width(),r=this.height();if(t.beginPath(),e){var n=0,a=0,s=0,o=0;"number"==typeof e?n=a=s=o=Math.min(e,i/2,r/2):(n=Math.min(e[0],i/2,r/2),a=Math.min(e[1],i/2,r/2),o=Math.min(e[2],i/2,r/2),s=Math.min(e[3],i/2,r/2)),t.moveTo(n,0),t.lineTo(i-a,0),t.arc(i-a,a,a,3*Math.PI/2,0,!1),t.lineTo(i,r-o),t.arc(i-o,r-o,o,0,Math.PI/2,!1),t.lineTo(s,r),t.arc(s,r-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,i,r);t.closePath(),t.fillStrokeShape(this)},e}(o.Shape);e.Rect=l,l.prototype.className="Rect",h._registerNode(l),s.Factory.addGetterSetter(l,"cornerRadius",0),a.Collection.mapMethods(l)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,s=i(181),o=i(178),h=i(184),l=i(179),c=i(180),p=i(179),f="Change.konva",u="2d",d=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],g=d.length;function m(){return a||(a=s.Util.createCanvasElement().getContext(u))}
var v=function(t){function e(e){var i=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;i._partialTextX=0,i._partialTextY=0;for(var r=0;r<g;r++)i.on(d[r]+f,i._setTextData);return i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){var e,i=this.padding(),r=this.fontSize(),n=this.lineHeight()*r,a=this.textArr,s=a.length,o=this.verticalAlign(),h=0,l=this.align(),c=this.getWidth(),p=this.letterSpacing(),f=this.fill(),u=this.textDecoration(),d=-1!==u.indexOf("underline"),g=-1!==u.indexOf("line-through"),m=0,v=(m=n/2,0),y=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===o?h=(this.getHeight()-s*n-2*i)/2:"bottom"===o&&(h=this.getHeight()-s*n-2*i),t.translate(i,h+i),e=0;e<s;e++){v=0,y=0;var _,b,w,x=a[e],S=x.text,k=x.width,C=e!==s-1;if(t.save(),"right"===l?v+=c-k-2*i:"center"===l&&(v+=(c-k-2*i)/2),d&&(t.save(),t.beginPath(),t.moveTo(v,m+y+Math.round(r/2)),b=0===(_=S.split(" ").length-1),w="justify"===l&&C&&!b?c-2*i:k,t.lineTo(v+Math.round(w),m+y+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=f,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(v,m+y),b=0===(_=S.split(" ").length-1),w="justify"===l&&C&&!b?c-2*i:k,t.lineTo(v+Math.round(w),m+y),t.lineWidth=r/15,t.strokeStyle=f,t.stroke(),t.restore()),0!==p||"justify"===l){_=S.split(" ").length-1;for(var P=0;P<S.length;P++){var A=S[P];" "===A&&e!==s-1&&"justify"===l&&(v+=Math.floor((c-2*i-k)/_)),this._partialTextX=v,this._partialTextY=m+y,this._partialText=A,t.fillStrokeShape(this),v+=Math.round(this.measureSize(A).width)+p}}else this._partialTextX=v,this._partialTextY=m+y,this._partialText=S,t.fillStrokeShape(this);t.restore(),s>1&&(m+=n)}},e.prototype._hitFunc=function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=s.Util._isString(t)?t:(t||"").toString();return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return s.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,i=m(),r=this.fontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return l.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily()},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),i=t.length;return m().measureText(t).width+(i?e*(i-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,r=this.lineHeight()*e,n=this.attrs.width,a=this.attrs.height,s="auto"!==n&&void 0!==n,o="auto"!==a&&void 0!==a,h=this.padding(),l=n-2*h,c=a-2*h,p=0,f=this.wrap(),u="none"!==f,d="char"!==f&&u,g=this.ellipsis()&&!u;this.textArr=[],m().font=this._getContextFont();for(var v=g?this._getTextWidth("…"):0,y=0,_=t.length;y<_;++y){var b=t[y],w=this._getTextWidth(b);if(s&&w>l)for(;b.length>0;){for(var x=0,S=b.length,k="",C=0;x<S;){var P=x+S>>>1,A=b.slice(0,P+1),M=this._getTextWidth(A)+v;M<=l?(x=P+1,k=A+(g?"…":""),C=M):S=P}if(!k)break;if(d){var F,T=b[k.length];(F=(" "===T||"-"===T)&&C<=l?k.length:Math.max(k.lastIndexOf(" "),k.lastIndexOf("-"))+1)>0&&(x=F,k=k.slice(0,x),C=this._getTextWidth(k))}
if(k=k.trimRight(),this._addTextLine(k),i=Math.max(i,C),p+=r,!u||o&&p+r>c)break;if((b=(b=b.slice(x)).trimLeft()).length>0&&(w=this._getTextWidth(b))<=l){this._addTextLine(b),p+=r,i=Math.max(i,w);break}}else this._addTextLine(b),p+=r,i=Math.max(i,w);if(o&&p+r>c)break}this.textHeight=e,this.textWidth=i},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(h.Shape);e.Text=v,v.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},v.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},v.prototype.className="Text",v.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],p._registerNode(v),o.Factory.overWriteSetter(v,"width",c.getNumberOrAutoValidator()),o.Factory.overWriteSetter(v,"height",c.getNumberOrAutoValidator()),o.Factory.addGetterSetter(v,"fontFamily","Arial"),o.Factory.addGetterSetter(v,"fontSize",12,c.getNumberValidator()),o.Factory.addGetterSetter(v,"fontStyle","normal"),o.Factory.addGetterSetter(v,"fontVariant","normal"),o.Factory.addGetterSetter(v,"padding",0,c.getNumberValidator()),o.Factory.addGetterSetter(v,"align","left"),o.Factory.addGetterSetter(v,"verticalAlign","top"),o.Factory.addGetterSetter(v,"lineHeight",1,c.getNumberValidator()),o.Factory.addGetterSetter(v,"wrap","word"),o.Factory.addGetterSetter(v,"ellipsis",!1),o.Factory.addGetterSetter(v,"letterSpacing",0,c.getNumberValidator()),o.Factory.addGetterSetter(v,"text","",c.getStringValidator()),o.Factory.addGetterSetter(v,"textDecoration",""),s.Collection.mapMethods(v)},,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(230),i(239),i(241),i(243),i(245)},function(t,e,i){i(91),i(231),i(237);var r=i(84);t.exports=r.WeakSet},function(t,e,i){"use strict";i(232)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i(236),!1,!0)},function(t,e,i){"use strict";var r=i(55),n=i(6),a=i(85),s=i(23),o=i(197),h=i(192),l=i(57),c=i(16),p=i(8),f=i(86),u=i(39),d=i(235);t.exports=function(t,e,i,g,m){var v=n[t],y=v&&v.prototype,_=v,b=g?"set":"add",w={},x=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(a(t,"function"!=typeof v||!(m||y.forEach&&!p((function(){(new v).entries().next()})))))_=i.getConstructor(e,t,g,b),o.REQUIRED=!0;else if(a(t,!0)){var S=new _,k=S[b](m?{}:-0,1)!=S,C=p((function(){S.has(1)})),P=f((function(t){new v(t)})),A=!m&&p((function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)}));P||((_=e((function(e,i){l(e,_,t);var r=d(new v,e,_);return null!=i&&h(i,r[b],r,g),r}))).prototype=y,y.constructor=_),(C||A)&&(x("delete"),x("has"),g&&x("get")),(A||k)&&x(b),m&&y.clear&&delete y.clear}return w[t]=_,r({global:!0,forced:_!=v},w),u(_,t),m||i.setStrong(_,t,g),_}},function(t,e,i){var r=i(8);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,i){var r=i(21);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e,i){var r=i(16),n=i(38);t.exports=function(t,e,i){var a,s;return n&&"function"==typeof(a=e.constructor)&&a!==i&&r(s=a.prototype)&&s!==i.prototype&&n(t,s),t}},function(t,e,i){"use strict";var r=i(87),n=i(197).getWeakData,a=i(21),s=i(16),o=i(57),h=i(192),l=i(18),c=i(11),p=i(27),f=p.set,u=p.getterFor,d=l.find,g=l.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},_=function(t,e){return d(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var i=_(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={
getConstructor:function(t,e,i,l){var p=t((function(t,r){o(t,p,e),f(t,{type:e,id:m++,frozen:void 0}),null!=r&&h(r,t[l],t,i)})),d=u(e),g=function(t,e,i){var r=d(t),s=n(a(e),!0);return!0===s?v(r).set(e,i):s[r.id]=i,t};return r(p.prototype,{delete:function(t){var e=d(this);if(!s(t))return!1;var i=n(t);return!0===i?v(e).delete(t):i&&c(i,e.id)&&delete i[e.id]},has:function(t){var e=d(this);if(!s(t))return!1;var i=n(t);return!0===i?v(e).has(t):i&&c(i,e.id)}}),r(p.prototype,i?{get:function(t){var e=d(this);if(s(t)){var i=n(t);return!0===i?v(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),p}}},function(t,e,i){var r=i(6),n=i(238),a=i(90),s=i(12),o=i(7),h=o("iterator"),l=o("toStringTag"),c=a.values;for(var p in n){var f=r[p],u=f&&f.prototype;if(u){if(u[h]!==c)try{s(u,h,c)}catch(t){u[h]=c}if(u[l]||s(u,l,p),n[p])for(var d in a)if(u[d]!==a[d])try{s(u,d,a[d])}catch(t){u[d]=a[d]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var r=i(55),n=i(34),a=i(240);r({target:"WeakSet",proto:!0,real:!0,forced:n},{addAll:function(){return a.apply(this,arguments)}})},function(t,e,i){"use strict";var r=i(21),n=i(33);t.exports=function(){for(var t=r(this),e=n(t.add),i=0,a=arguments.length;i<a;i++)e.call(t,arguments[i]);return t}},function(t,e,i){"use strict";var r=i(55),n=i(34),a=i(242);r({target:"WeakSet",proto:!0,real:!0,forced:n},{deleteAll:function(){return a.apply(this,arguments)}})},function(t,e,i){"use strict";var r=i(21),n=i(33);t.exports=function(){for(var t=r(this),e=n(t.delete),i=!0,a=0,s=arguments.length;a<s;a++)i=i&&e.call(t,arguments[a]);return!!i}},function(t,e,i){i(55)({target:"WeakSet",stat:!0},{from:i(244)})},function(t,e,i){"use strict";var r=i(33),n=i(56),a=i(192);t.exports=function(t){var e,i,s,o,h=arguments.length,l=h>1?arguments[1]:void 0;return r(this),(e=void 0!==l)&&r(l),null==t?new this:(i=[],e?(s=0,o=n(l,h>2?arguments[2]:void 0,2),a(t,(function(t){i.push(o(t,s++))}))):a(t,i.push,i),new this(i))}},function(t,e,i){i(55)({target:"WeakSet",stat:!0},{of:i(246)})},function(t,e,i){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,i){t.exports=i(248)},function(t,e,i){i(249);var r=i(253);t.exports=r("String","endsWith")},function(t,e,i){"use strict";var r=i(55),n=i(10),a=i(250),s=i(58),o=i(252),h="".endsWith,l=Math.min;r({target:"String",proto:!0,forced:!o("endsWith")},{endsWith:function(t){var e=String(s(this));a(t);var i=arguments.length>1?arguments[1]:void 0,r=n(e.length),o=void 0===i?r:l(n(i),r),c=String(t);return h?h.call(e,c,o):e.slice(o-c.length,o)===c}})},function(t,e,i){var r=i(251);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,i){var r=i(16),n=i(35),a=i(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},function(t,e,i){var r=i(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,i){var r=i(6),n=i(56),a=Function.call;t.exports=function(t,e,i){return n(a,r[t].prototype[e],i)}},,function(t,e){(function(e){t.exports=e}).call(this,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var r={};(0,i(186).assign)(r,i(376),i(379),i(204)),t.exports=r},function(t,e,i){"use strict";var r=i(377),n=i(186),a=i(202),s=i(194),o=i(203),h=Object.prototype.toString,l=0,c=-1,p=0,f=8;function u(t){
if(!(this instanceof u))return new u(t);this.options=n.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==l)throw new Error(s[i]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=r.deflateSetDictionary(this.strm,d))!==l)throw new Error(s[i]);this._dict_set=!0}}function d(t,e){var i=new u(e);if(i.push(t,!0),i.err)throw i.msg||s[i.err];return i.result}u.prototype.push=function(t,e){var i,s,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=a.string2buf(t):"[object ArrayBuffer]"===h.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(c),o.next_out=0,o.avail_out=c),1!==(i=r.deflate(o,s))&&i!==l)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===s?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l):2!==s||(this.onEnd(l),o.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=d,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},function(t,e,i){"use strict";var r,n=i(186),a=i(378),s=i(200),o=i(201),h=i(194),l=0,c=1,p=3,f=4,u=5,d=0,g=1,m=-2,v=-3,y=-5,_=-1,b=1,w=2,x=3,S=4,k=0,C=2,P=8,A=9,M=15,F=8,T=286,D=30,E=19,O=2*T+1,I=15,L=3,R=258,G=R+L+1,N=32,z=42,B=69,V=73,U=91,j=103,W=113,H=666,Y=1,X=2,K=3,q=4,Z=3;function J(t,e){return t.msg=h[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function et(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function nt(t,e){var i,r,n=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-G?t.strstart-(t.w_size-G):0,l=t.window,c=t.w_mask,p=t.prev,f=t.strstart+R,u=l[a+s-1],d=l[a+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(l[(i=e)+s]===d&&l[i+s-1]===u&&l[i]===l[a]&&l[++i]===l[a+1]){a+=2,i++;do{}while(l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&a<f);if(r=R-(f-a),a=f-R,r>s){if(t.match_start=e,s=r,r>=o)break;u=l[a+s-1],d=l[a+s]}}}while((e=p[e&c])>h&&0!=--n);return s<=t.lookahead?s:t.lookahead}function at(t){var e,i,r,a,h,l,c,p,f,u,d=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-G)){n.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=i=t.hash_size;do{r=t.head[--e],t.head[e]=r>=d?r-d:0}while(--i);e=i=d;do{r=t.prev[--e],t.prev[e]=r>=d?r-d:0}while(--i);a+=d}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,p=t.strstart+t.lookahead,f=a,u=void 0,(u=l.avail_in)>f&&(u=f),i=0===u?0:(l.avail_in-=u,n.arraySet(c,l.input,l.next_in,u,p),
1===l.state.wrap?l.adler=s(l.adler,c,u,p):2===l.state.wrap&&(l.adler=o(l.adler,c,u,p)),l.next_in+=u,l.total_in+=u,u),t.lookahead+=i,t.lookahead+t.insert>=L)for(h=t.strstart-t.insert,t.ins_h=t.window[h],t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[h+L-1])&t.hash_mask,t.prev[h&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=h,h++,t.insert--,!(t.lookahead+t.insert<L)););}while(t.lookahead<G&&0!==t.strm.avail_in)}function st(t,e){for(var i,r;;){if(t.lookahead<G){if(at(t),t.lookahead<G&&e===l)return Y;if(0===t.lookahead)break}if(i=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-G&&(t.match_length=nt(t,i)),t.match_length>=L)if(r=a._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(et(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:X}function ot(t,e){for(var i,r,n;;){if(t.lookahead<G){if(at(t),t.lookahead<G&&e===l)return Y;if(0===t.lookahead)break}if(i=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-G&&(t.match_length=nt(t,i),t.match_length<=5&&(t.strategy===b||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-L,r=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return Y}else if(t.match_available){if((r=a._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Y}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,e===f?(et(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:X}function ht(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*O),this.dyn_dtree=new n.Buf16(2*(2*D+1)),this.bl_tree=new n.Buf16(2*(2*E+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(I+1),this.heap=new n.Buf16(2*T+1),$(this.heap),this.heap_len=0,this.heap_max=0,
this.depth=new n.Buf16(2*T+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=C,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?z:W,t.adler=2===e.wrap?0:1,e.last_flush=l,a._tr_init(e),d):J(t,m)}function pt(t){var e,i=ct(t);return i===d&&((e=t.state).window_size=2*e.w_size,$(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0),i}function ft(t,e,i,r,a,s){if(!t)return m;var o=1;if(e===_&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>A||i!==P||r<8||r>15||e<0||e>9||s<0||s>S)return J(t,m);8===r&&(r=9);var h=new lt;return t.state=h,h.strm=t,h.wrap=o,h.gzhead=null,h.w_bits=r,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=a+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+L-1)/L),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<a+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,pt(t)}r=[new ht(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===l)return Y;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out))return Y;if(t.strstart-t.block_start>=t.w_size-G&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:q):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),Y)})),new ht(4,4,8,4,st),new ht(4,5,16,8,st),new ht(4,6,32,32,st),new ht(4,4,16,16,ot),new ht(8,16,32,32,ot),new ht(8,16,128,128,ot),new ht(8,32,128,256,ot),new ht(32,128,258,1024,ot),new ht(32,258,258,4096,ot)],e.deflateInit=function(t,e){return ft(t,e,P,M,F,k)},e.deflateInit2=ft,e.deflateReset=pt,e.deflateResetKeep=ct,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,d):m},e.deflate=function(t,e){var i,n,s,h;if(!t||!t.state||e>u||e<0)return t?J(t,m):m;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===H&&e!==f)return J(t,0===t.avail_out?y:m);if(n.strm=t,i=n.last_flush,n.last_flush=e,n.status===z)if(2===n.wrap)t.adler=0,it(n,31),it(n,139),it(n,8),n.gzhead?(it(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),it(n,255&n.gzhead.time),it(n,n.gzhead.time>>8&255),it(n,n.gzhead.time>>16&255),it(n,n.gzhead.time>>24&255),it(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),it(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(it(n,255&n.gzhead.extra.length),it(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=B):(it(n,0),it(n,0),it(n,0),it(n,0),it(n,0),it(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),it(n,Z),n.status=W);else{var v=P+(n.w_bits-8<<4)<<8;v|=(n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(v|=N),v+=31-v%31,n.status=W,rt(n,v),0!==n.strstart&&(rt(n,t.adler>>>16),rt(n,65535&t.adler)),t.adler=1}if(n.status===B)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending!==n.pending_buf_size));)it(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=V)}else n.status=V;if(n.status===V)if(n.gzhead.name){s=n.pending;do{
if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,it(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===h&&(n.gzindex=0,n.status=U)}else n.status=U;if(n.status===U)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),tt(t),s=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,it(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>s&&(t.adler=o(t.adler,n.pending_buf,n.pending-s,s)),0===h&&(n.status=j)}else n.status=j;if(n.status===j&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tt(t),n.pending+2<=n.pending_buf_size&&(it(n,255&t.adler),it(n,t.adler>>8&255),t.adler=0,n.status=W)):n.status=W),0!==n.pending){if(tt(t),0===t.avail_out)return n.last_flush=-1,d}else if(0===t.avail_in&&Q(e)<=Q(i)&&e!==f)return J(t,y);if(n.status===H&&0!==t.avail_in)return J(t,y);if(0!==t.avail_in||0!==n.lookahead||e!==l&&n.status!==H){var _=n.strategy===w?function(t,e){for(var i;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===l)return Y;break}if(t.match_length=0,i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:X}(n,e):n.strategy===x?function(t,e){for(var i,r,n,s,o=t.window;;){if(t.lookahead<=R){if(at(t),t.lookahead<=R&&e===l)return Y;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(r=o[n=t.strstart-1])===o[++n]&&r===o[++n]&&r===o[++n]){s=t.strstart+R;do{}while(r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<s);t.match_length=R-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(i=a._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(et(t,!1),0===t.strm.avail_out))return Y}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Y:X}(n,e):r[n.level].func(n,e);if(_!==K&&_!==q||(n.status=H),_===Y||_===K)return 0===t.avail_out&&(n.last_flush=-1),d;if(_===X&&(e===c?a._tr_align(n):e!==u&&(a._tr_stored_block(n,0,0,!1),e===p&&($(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tt(t),0===t.avail_out))return n.last_flush=-1,d}return e!==f?d:n.wrap<=0?g:(2===n.wrap?(it(n,255&t.adler),it(n,t.adler>>8&255),it(n,t.adler>>16&255),it(n,t.adler>>24&255),it(n,255&t.total_in),it(n,t.total_in>>8&255),it(n,t.total_in>>16&255),it(n,t.total_in>>24&255)):(rt(n,t.adler>>>16),rt(n,65535&t.adler)),tt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?d:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==z&&e!==B&&e!==V&&e!==U&&e!==j&&e!==W&&e!==H?J(t,m):(t.state=null,e===W?J(t,v):d):m},e.deflateSetDictionary=function(t,e){var i,r,a,o,h,l,c,p,f=e.length;if(!t||!t.state)return m;if(2===(o=(i=t.state).wrap)||1===o&&i.status!==z||i.lookahead)return m;for(1===o&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===o&&($(i.head),i.strstart=0,i.block_start=0,i.insert=0),p=new n.Buf8(i.w_size),n.arraySet(p,e,f-i.w_size,i.w_size,0),e=p,f=i.w_size),h=t.avail_in,l=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,at(i);i.lookahead>=L;){r=i.strstart,a=i.lookahead-(L-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+L-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--a);i.strstart=r,i.lookahead=L-1,at(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=L-1,i.match_available=0,t.next_in=l,t.input=c,t.avail_in=h,i.wrap=o,d},e.deflateInfo="pako deflate (from Nodeca project)"
},function(t,e,i){"use strict";var r=i(186),n=4,a=0,s=1,o=2;function h(t){for(var e=t.length;--e>=0;)t[e]=0}var l=0,c=1,p=2,f=29,u=256,d=u+1+f,g=30,m=19,v=2*d+1,y=15,_=16,b=7,w=256,x=16,S=17,k=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(d+2));h(F);var T=new Array(2*g);h(T);var D=new Array(512);h(D);var E=new Array(256);h(E);var O=new Array(f);h(O);var I,L,R,G=new Array(g);function N(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function B(t){return t<256?D[t]:D[256+(t>>>7)]}function V(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function U(t,e,i){t.bi_valid>_-i?(t.bi_buf|=e<<t.bi_valid&65535,V(t,t.bi_buf),t.bi_buf=e>>_-t.bi_valid,t.bi_valid+=i-_):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function j(t,e,i){U(t,i[2*e],i[2*e+1])}function W(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function H(t,e,i){var r,n,a=new Array(y+1),s=0;for(r=1;r<=y;r++)a[r]=s=s+i[r-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=W(a[o]++,o))}}function Y(t){var e;for(e=0;e<d;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function X(t){t.bi_valid>8?V(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function K(t,e,i,r){var n=2*e,a=2*i;return t[n]<t[a]||t[n]===t[a]&&r[e]<=r[i]}function q(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&K(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!K(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function Z(t,e,i){var r,n,a,s,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===r?j(t,n,e):(j(t,(a=E[n])+u+1,e),0!==(s=C[a])&&U(t,n-=O[a],s),j(t,a=B(--r),i),0!==(s=P[a])&&U(t,r-=G[a],s))}while(o<t.last_lit);j(t,w,e)}function J(t,e){var i,r,n,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=v,i=0;i<h;i++)0!==a[2*i]?(t.heap[++t.heap_len]=l=i,t.depth[i]=0):a[2*i+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=l,i=t.heap_len>>1;i>=1;i--)q(t,a,i);n=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],q(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,a[2*n]=a[2*i]+a[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,a[2*i+1]=a[2*r+1]=n,t.heap[1]=n++,q(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,r,n,a,s,o,h=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,p=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(a=0;a<=y;a++)t.bl_count[a]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<v;i++)(a=h[2*h[2*(r=t.heap[i])+1]+1]+1)>d&&(a=d,g++),h[2*r+1]=a,r>l||(t.bl_count[a]++,s=0,r>=u&&(s=f[r-u]),o=h[2*r],t.opt_len+=o*(a+s),p&&(t.static_len+=o*(c[2*r+1]+s)));if(0!==g){do{for(a=d-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(a=d;0!==a;a--)for(r=t.bl_count[a];0!==r;)(n=t.heap[--i])>l||(h[2*n+1]!==a&&(t.opt_len+=(a-h[2*n+1])*h[2*n],h[2*n+1]=a),r--)}}(t,e),H(a,l,t.bl_count)}function Q(t,e,i){var r,n,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(i+1)+1]=65535,r=0;r<=i;r++)n=s,s=e[2*(r+1)+1],++o<h&&n===s||(o<l?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*x]++):o<=10?t.bl_tree[2*S]++:t.bl_tree[2*k]++,o=0,a=n,0===s?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4))}function $(t,e,i){var r,n,a=-1,s=e[1],o=0,h=7,l=4;for(0===s&&(h=138,l=3),r=0;r<=i;r++)if(n=s,s=e[2*(r+1)+1],!(++o<h&&n===s)){if(o<l)do{j(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==a&&(j(t,n,t.bl_tree),o--),j(t,x,t.bl_tree),
U(t,o-3,2)):o<=10?(j(t,S,t.bl_tree),U(t,o-3,3)):(j(t,k,t.bl_tree),U(t,o-11,7));o=0,a=n,0===s?(h=138,l=3):n===s?(h=6,l=3):(h=7,l=4)}}h(G);var tt=!1;function et(t,e,i,n){U(t,(l<<1)+(n?1:0),3),function(t,e,i,n){X(t),n&&(V(t,i),V(t,~i)),r.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}e._tr_init=function(t){tt||(!function(){var t,e,i,r,n,a=new Array(y+1);for(i=0,r=0;r<f-1;r++)for(O[r]=i,t=0;t<1<<C[r];t++)E[i++]=r;for(E[i-1]=r,n=0,r=0;r<16;r++)for(G[r]=n,t=0;t<1<<P[r];t++)D[n++]=r;for(n>>=7;r<g;r++)for(G[r]=n<<7,t=0;t<1<<P[r]-7;t++)D[256+n++]=r;for(e=0;e<=y;e++)a[e]=0;for(t=0;t<=143;)F[2*t+1]=8,t++,a[8]++;for(;t<=255;)F[2*t+1]=9,t++,a[9]++;for(;t<=279;)F[2*t+1]=7,t++,a[7]++;for(;t<=287;)F[2*t+1]=8,t++,a[8]++;for(H(F,d+1,a),t=0;t<g;t++)T[2*t+1]=5,T[2*t]=W(t,5);I=new N(F,C,u+1,d,y),L=new N(T,P,0,g,y),R=new N(new Array(0),A,0,m,b)}(),tt=!0),t.l_desc=new z(t.dyn_ltree,I),t.d_desc=new z(t.dyn_dtree,L),t.bl_desc=new z(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,Y(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,i,r){var h,l,f=0;t.level>0?(t.strm.data_type===o&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return s;return a}(t)),J(t,t.l_desc),J(t,t.d_desc),f=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),J(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*M[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),h=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=h&&(h=l)):h=l=i+5,i+4<=h&&-1!==e?et(t,e,i,r):t.strategy===n||l===h?(U(t,(c<<1)+(r?1:0),3),Z(t,F,T)):(U(t,(p<<1)+(r?1:0),3),function(t,e,i,r){var n;for(U(t,e-257,5),U(t,i-1,5),U(t,r-4,4),n=0;n<r;n++)U(t,t.bl_tree[2*M[n]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),Z(t,t.dyn_ltree,t.dyn_dtree)),Y(t),r&&X(t)},e._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(E[i]+u+1)]++,t.dyn_dtree[2*B(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){U(t,c<<1,3),j(t,w,F),function(t){16===t.bi_valid?(V(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,i){"use strict";var r=i(380),n=i(186),a=i(202),s=i(204),o=i(194),h=i(203),l=i(383),c=Object.prototype.toString;function p(t){if(!(this instanceof p))return new p(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,e.windowBits);if(i!==s.Z_OK)throw new Error(o[i]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=r.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(o[i])}function f(t,e){var i=new p(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}p.prototype.push=function(t,e){var i,o,h,l,p,f=this.strm,u=this.options.chunkSize,d=this.options.dictionary,g=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(u),f.next_out=0,f.avail_out=u),(i=r.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(i=r.inflateSetDictionary(this.strm,d)),
i===s.Z_BUF_ERROR&&!0===g&&(i=s.Z_OK,g=!1),i!==s.Z_STREAM_END&&i!==s.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==s.Z_STREAM_END&&(0!==f.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(h=a.utf8border(f.output,f.next_out),l=f.next_out-h,p=a.buf2string(f.output,h),f.next_out=l,f.avail_out=u-l,l&&n.arraySet(f.output,f.output,h,l,0),this.onData(p)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==s.Z_STREAM_END);return i===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=p,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,i){"use strict";var r=i(186),n=i(200),a=i(201),s=i(381),o=i(382),h=0,l=1,c=2,p=4,f=5,u=6,d=0,g=1,m=2,v=-2,y=-3,_=-4,b=-5,w=8,x=1,S=2,k=3,C=4,P=5,A=6,M=7,F=8,T=9,D=10,E=11,O=12,I=13,L=14,R=15,G=16,N=17,z=18,B=19,V=20,U=21,j=22,W=23,H=24,Y=25,X=26,K=27,q=28,Z=29,J=30,Q=31,$=32,tt=852,et=592,it=15;function rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function nt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(tt),e.distcode=e.distdyn=new r.Buf32(et),e.sane=1,e.back=-1,d):v}function st(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,at(t)):v}function ot(t,e){var i,r;return t&&t.state?(r=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,st(t))):v}function ht(t,e){var i,r;return t?(r=new nt,t.state=r,r.window=null,(i=ot(t,e))!==d&&(t.state=null),i):v}var lt,ct,pt=!0;function ft(t){if(pt){var e;for(lt=new r.Buf32(512),ct=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(l,t.lens,0,288,lt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(c,t.lens,0,32,ct,0,t.work,{bits:5}),pt=!1}t.lencode=lt,t.lenbits=9,t.distcode=ct,t.distbits=5}function ut(t,e,i,n){var a,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),n>=s.wsize?(r.arraySet(s.window,e,i-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>n&&(a=n),r.arraySet(s.window,e,i-n,a,s.wnext),(n-=a)?(r.arraySet(s.window,e,i-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}e.inflateReset=st,e.inflateReset2=ot,e.inflateResetKeep=at,e.inflateInit=function(t){return ht(t,it)},e.inflateInit2=ht,e.inflate=function(t,e){var i,tt,et,it,nt,at,st,ot,ht,lt,ct,pt,dt,gt,mt,vt,yt,_t,bt,wt,xt,St,kt,Ct,Pt=0,At=new r.Buf8(4),Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(i=t.state).mode===O&&(i.mode=I),nt=t.next_out,et=t.output,st=t.avail_out,it=t.next_in,tt=t.input,at=t.avail_in,ot=i.hold,ht=i.bits,lt=at,ct=st,St=d;t:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=I;break}for(;ht<16;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(2&i.wrap&&35615===ot){i.check=0,
At[0]=255&ot,At[1]=ot>>>8&255,i.check=a(i.check,At,2,0),ot=0,ht=0,i.mode=S;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&ot)<<8)+(ot>>8))%31){t.msg="incorrect header check",i.mode=J;break}if((15&ot)!==w){t.msg="unknown compression method",i.mode=J;break}if(ht-=4,xt=8+(15&(ot>>>=4)),0===i.wbits)i.wbits=xt;else if(xt>i.wbits){t.msg="invalid window size",i.mode=J;break}i.dmax=1<<xt,t.adler=i.check=1,i.mode=512&ot?D:O,ot=0,ht=0;break;case S:for(;ht<16;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(i.flags=ot,(255&i.flags)!==w){t.msg="unknown compression method",i.mode=J;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=J;break}i.head&&(i.head.text=ot>>8&1),512&i.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,i.check=a(i.check,At,2,0)),ot=0,ht=0,i.mode=k;case k:for(;ht<32;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.head&&(i.head.time=ot),512&i.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,At[2]=ot>>>16&255,At[3]=ot>>>24&255,i.check=a(i.check,At,4,0)),ot=0,ht=0,i.mode=C;case C:for(;ht<16;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.head&&(i.head.xflags=255&ot,i.head.os=ot>>8),512&i.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,i.check=a(i.check,At,2,0)),ot=0,ht=0,i.mode=P;case P:if(1024&i.flags){for(;ht<16;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.length=ot,i.head&&(i.head.extra_len=ot),512&i.flags&&(At[0]=255&ot,At[1]=ot>>>8&255,i.check=a(i.check,At,2,0)),ot=0,ht=0}else i.head&&(i.head.extra=null);i.mode=A;case A:if(1024&i.flags&&((pt=i.length)>at&&(pt=at),pt&&(i.head&&(xt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,tt,it,pt,xt)),512&i.flags&&(i.check=a(i.check,tt,pt,it)),at-=pt,it+=pt,i.length-=pt),i.length))break t;i.length=0,i.mode=M;case M:if(2048&i.flags){if(0===at)break t;pt=0;do{xt=tt[it+pt++],i.head&&xt&&i.length<65536&&(i.head.name+=String.fromCharCode(xt))}while(xt&&pt<at);if(512&i.flags&&(i.check=a(i.check,tt,pt,it)),at-=pt,it+=pt,xt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=F;case F:if(4096&i.flags){if(0===at)break t;pt=0;do{xt=tt[it+pt++],i.head&&xt&&i.length<65536&&(i.head.comment+=String.fromCharCode(xt))}while(xt&&pt<at);if(512&i.flags&&(i.check=a(i.check,tt,pt,it)),at-=pt,it+=pt,xt)break t}else i.head&&(i.head.comment=null);i.mode=T;case T:if(512&i.flags){for(;ht<16;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(ot!==(65535&i.check)){t.msg="header crc mismatch",i.mode=J;break}ot=0,ht=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=O;break;case D:for(;ht<32;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}t.adler=i.check=rt(ot),ot=0,ht=0,i.mode=E;case E:if(0===i.havedict)return t.next_out=nt,t.avail_out=st,t.next_in=it,t.avail_in=at,i.hold=ot,i.bits=ht,m;t.adler=i.check=1,i.mode=O;case O:if(e===f||e===u)break t;case I:if(i.last){ot>>>=7&ht,ht-=7&ht,i.mode=K;break}for(;ht<3;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}switch(i.last=1&ot,ht-=1,3&(ot>>>=1)){case 0:i.mode=L;break;case 1:if(ft(i),i.mode=V,e===u){ot>>>=2,ht-=2;break t}break;case 2:i.mode=N;break;case 3:t.msg="invalid block type",i.mode=J}ot>>>=2,ht-=2;break;case L:for(ot>>>=7&ht,ht-=7&ht;ht<32;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if((65535&ot)!=(ot>>>16^65535)){t.msg="invalid stored block lengths",i.mode=J;break}if(i.length=65535&ot,ot=0,ht=0,i.mode=R,e===u)break t;case R:i.mode=G;case G:if(pt=i.length){if(pt>at&&(pt=at),pt>st&&(pt=st),0===pt)break t;r.arraySet(et,tt,it,pt,nt),at-=pt,it+=pt,st-=pt,nt+=pt,i.length-=pt;break}i.mode=O;break;case N:for(;ht<14;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(i.nlen=257+(31&ot),ot>>>=5,ht-=5,i.ndist=1+(31&ot),ot>>>=5,ht-=5,i.ncode=4+(15&ot),ot>>>=4,ht-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=J;break}i.have=0,i.mode=z;case z:for(;i.have<i.ncode;){for(;ht<3;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.lens[Mt[i.have++]]=7&ot,ot>>>=3,ht-=3}for(;i.have<19;)i.lens[Mt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,kt={bits:i.lenbits},St=o(h,i.lens,0,19,i.lencode,0,i.work,kt),i.lenbits=kt.bits,St){
t.msg="invalid code lengths set",i.mode=J;break}i.have=0,i.mode=B;case B:for(;i.have<i.nlen+i.ndist;){for(;vt=(Pt=i.lencode[ot&(1<<i.lenbits)-1])>>>16&255,yt=65535&Pt,!((mt=Pt>>>24)<=ht);){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(yt<16)ot>>>=mt,ht-=mt,i.lens[i.have++]=yt;else{if(16===yt){for(Ct=mt+2;ht<Ct;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(ot>>>=mt,ht-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=J;break}xt=i.lens[i.have-1],pt=3+(3&ot),ot>>>=2,ht-=2}else if(17===yt){for(Ct=mt+3;ht<Ct;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}ht-=mt,xt=0,pt=3+(7&(ot>>>=mt)),ot>>>=3,ht-=3}else{for(Ct=mt+7;ht<Ct;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}ht-=mt,xt=0,pt=11+(127&(ot>>>=mt)),ot>>>=7,ht-=7}if(i.have+pt>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=J;break}for(;pt--;)i.lens[i.have++]=xt}}if(i.mode===J)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=J;break}if(i.lenbits=9,kt={bits:i.lenbits},St=o(l,i.lens,0,i.nlen,i.lencode,0,i.work,kt),i.lenbits=kt.bits,St){t.msg="invalid literal/lengths set",i.mode=J;break}if(i.distbits=6,i.distcode=i.distdyn,kt={bits:i.distbits},St=o(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,kt),i.distbits=kt.bits,St){t.msg="invalid distances set",i.mode=J;break}if(i.mode=V,e===u)break t;case V:i.mode=U;case U:if(at>=6&&st>=258){t.next_out=nt,t.avail_out=st,t.next_in=it,t.avail_in=at,i.hold=ot,i.bits=ht,s(t,ct),nt=t.next_out,et=t.output,st=t.avail_out,it=t.next_in,tt=t.input,at=t.avail_in,ot=i.hold,ht=i.bits,i.mode===O&&(i.back=-1);break}for(i.back=0;vt=(Pt=i.lencode[ot&(1<<i.lenbits)-1])>>>16&255,yt=65535&Pt,!((mt=Pt>>>24)<=ht);){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(vt&&0==(240&vt)){for(_t=mt,bt=vt,wt=yt;vt=(Pt=i.lencode[wt+((ot&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&Pt,!(_t+(mt=Pt>>>24)<=ht);){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}ot>>>=_t,ht-=_t,i.back+=_t}if(ot>>>=mt,ht-=mt,i.back+=mt,i.length=yt,0===vt){i.mode=X;break}if(32&vt){i.back=-1,i.mode=O;break}if(64&vt){t.msg="invalid literal/length code",i.mode=J;break}i.extra=15&vt,i.mode=j;case j:if(i.extra){for(Ct=i.extra;ht<Ct;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.length+=ot&(1<<i.extra)-1,ot>>>=i.extra,ht-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=W;case W:for(;vt=(Pt=i.distcode[ot&(1<<i.distbits)-1])>>>16&255,yt=65535&Pt,!((mt=Pt>>>24)<=ht);){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(0==(240&vt)){for(_t=mt,bt=vt,wt=yt;vt=(Pt=i.distcode[wt+((ot&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&Pt,!(_t+(mt=Pt>>>24)<=ht);){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}ot>>>=_t,ht-=_t,i.back+=_t}if(ot>>>=mt,ht-=mt,i.back+=mt,64&vt){t.msg="invalid distance code",i.mode=J;break}i.offset=yt,i.extra=15&vt,i.mode=H;case H:if(i.extra){for(Ct=i.extra;ht<Ct;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}i.offset+=ot&(1<<i.extra)-1,ot>>>=i.extra,ht-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=J;break}i.mode=Y;case Y:if(0===st)break t;if(pt=ct-st,i.offset>pt){if((pt=i.offset-pt)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=J;break}pt>i.wnext?(pt-=i.wnext,dt=i.wsize-pt):dt=i.wnext-pt,pt>i.length&&(pt=i.length),gt=i.window}else gt=et,dt=nt-i.offset,pt=i.length;pt>st&&(pt=st),st-=pt,i.length-=pt;do{et[nt++]=gt[dt++]}while(--pt);0===i.length&&(i.mode=U);break;case X:if(0===st)break t;et[nt++]=i.length,st--,i.mode=U;break;case K:if(i.wrap){for(;ht<32;){if(0===at)break t;at--,ot|=tt[it++]<<ht,ht+=8}if(ct-=st,t.total_out+=ct,i.total+=ct,ct&&(t.adler=i.check=i.flags?a(i.check,et,ct,nt-ct):n(i.check,et,ct,nt-ct)),ct=st,(i.flags?ot:rt(ot))!==i.check){t.msg="incorrect data check",i.mode=J;break}ot=0,ht=0}i.mode=q;case q:if(i.wrap&&i.flags){for(;ht<32;){if(0===at)break t;at--,ot+=tt[it++]<<ht,ht+=8}if(ot!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=J;break}ot=0,ht=0}i.mode=Z;case Z:St=g;break t;case J:St=y;break t;case Q:return _;case $:default:return v}return t.next_out=nt,t.avail_out=st,t.next_in=it,t.avail_in=at,i.hold=ot,i.bits=ht,
(i.wsize||ct!==t.avail_out&&i.mode<J&&(i.mode<K||e!==p))&&ut(t,t.output,t.next_out,ct-t.avail_out)?(i.mode=Q,_):(lt-=t.avail_in,ct-=t.avail_out,t.total_in+=lt,t.total_out+=ct,i.total+=ct,i.wrap&&ct&&(t.adler=i.check=i.flags?a(i.check,et,ct,t.next_out-ct):n(i.check,et,ct,t.next_out-ct)),t.data_type=i.bits+(i.last?64:0)+(i.mode===O?128:0)+(i.mode===V||i.mode===R?256:0),(0===lt&&0===ct||e===p)&&St===d&&(St=b),St)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,d},e.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?v:(i.head=e,e.done=!1,d):v},e.inflateSetDictionary=function(t,e){var i,r=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==E?v:i.mode===E&&n(1,e,r,0)!==i.check?y:ut(t,e,r,r)?(i.mode=Q,_):(i.havedict=1,d):v},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,i){"use strict";t.exports=function(t,e){var i,r,n,a,s,o,h,l,c,p,f,u,d,g,m,v,y,_,b,w,x,S,k,C,P;i=t.state,r=t.next_in,C=t.input,n=r+(t.avail_in-5),a=t.next_out,P=t.output,s=a-(e-t.avail_out),o=a+(t.avail_out-257),h=i.dmax,l=i.wsize,c=i.whave,p=i.wnext,f=i.window,u=i.hold,d=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{d<15&&(u+=C[r++]<<d,d+=8,u+=C[r++]<<d,d+=8),_=g[u&v];e:for(;;){if(u>>>=b=_>>>24,d-=b,0===(b=_>>>16&255))P[a++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(u&(1<<b)-1)];continue e}if(32&b){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&_,(b&=15)&&(d<b&&(u+=C[r++]<<d,d+=8),w+=u&(1<<b)-1,u>>>=b,d-=b),d<15&&(u+=C[r++]<<d,d+=8,u+=C[r++]<<d,d+=8),_=m[u&y];i:for(;;){if(u>>>=b=_>>>24,d-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(u&(1<<b)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&_,d<(b&=15)&&(u+=C[r++]<<d,(d+=8)<b&&(u+=C[r++]<<d,d+=8)),(x+=u&(1<<b)-1)>h){t.msg="invalid distance too far back",i.mode=30;break t}if(u>>>=b,d-=b,x>(b=a-s)){if((b=x-b)>c&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(S=0,k=f,0===p){if(S+=l-b,b<w){w-=b;do{P[a++]=f[S++]}while(--b);S=a-x,k=P}}else if(p<b){if(S+=l+p-b,(b-=p)<w){w-=b;do{P[a++]=f[S++]}while(--b);if(S=0,p<w){w-=b=p;do{P[a++]=f[S++]}while(--b);S=a-x,k=P}}}else if(S+=p-b,b<w){w-=b;do{P[a++]=f[S++]}while(--b);S=a-x,k=P}for(;w>2;)P[a++]=k[S++],P[a++]=k[S++],P[a++]=k[S++],w-=3;w&&(P[a++]=k[S++],w>1&&(P[a++]=k[S++]))}else{S=a-x;do{P[a++]=P[S++],P[a++]=P[S++],P[a++]=P[S++],w-=3}while(w>2);w&&(P[a++]=P[S++],w>1&&(P[a++]=P[S++]))}break}}break}}while(r<n&&a<o);r-=w=d>>3,u&=(1<<(d-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=a<o?o-a+257:257-(a-o),i.hold=u,i.bits=d}},function(t,e,i){"use strict";var r=i(186),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,i,h,l,c,p,f){var u,d,g,m,v,y,_,b,w,x=f.bits,S=0,k=0,C=0,P=0,A=0,M=0,F=0,T=0,D=0,E=0,O=null,I=0,L=new r.Buf16(16),R=new r.Buf16(16),G=null,N=0;for(S=0;S<=15;S++)L[S]=0;for(k=0;k<h;k++)L[e[i+k]]++;for(A=x,P=15;P>=1&&0===L[P];P--);if(A>P&&(A=P),0===P)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(C=1;C<P&&0===L[C];C++);for(A<C&&(A=C),T=1,S=1;S<=15;S++)if(T<<=1,(T-=L[S])<0)return-1;if(T>0&&(0===t||1!==P))return-1;for(R[1]=0,S=1;S<15;S++)R[S+1]=R[S]+L[S];for(k=0;k<h;k++)0!==e[i+k]&&(p[R[e[i+k]]++]=k);if(0===t?(O=G=p,y=19):1===t?(O=n,I-=257,G=a,N-=257,y=256):(O=s,G=o,y=-1),E=0,k=0,S=C,v=c,M=A,F=0,g=-1,m=(D=1<<A)-1,1===t&&D>852||2===t&&D>592)return 1;for(;;){_=S-F,p[k]<y?(b=0,w=p[k]):p[k]>y?(b=G[N+p[k]],w=O[I+p[k]]):(b=96,w=0),u=1<<S-F,C=d=1<<M;do{l[v+(E>>F)+(d-=u)]=_<<24|b<<16|w|0}while(0!==d);for(u=1<<S-1;E&u;)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,k++,0==--L[S]){if(S===P)break;S=e[i+p[k]]}if(S>A&&(E&m)!==g){for(0===F&&(F=A),v+=C,
T=1<<(M=S-F);M+F<P&&!((T-=L[M+F])<=0);)M++,T<<=1;if(D+=1<<M,1===t&&D>852||2===t&&D>592)return 1;l[g=E&m]=A<<24|M<<16|v-c|0}}return 0!==E&&(l[v+E]=S-F<<24|64<<16|0),f.bits=A,0}},function(t,e,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(385),n=i(390),a=i(391),s=i(392),o=i(393),h=i(394),l=i(395),c=i(209),p=i(210),f=i(211),u=i(396),d=i(397),g=i(398),m=i(399),v=i(212),y=i(400),_=i(401),b=i(402),w=i(403),x=i(404),S=i(405),k=i(406),C=i(407),P=i(408),A=i(409),M=i(410),F=i(411),T=i(412),D=i(413),E=i(414),O=i(415),I=i(416),L=i(417),R=i(418),G=i(419),N=i(420),z=i(421);e.Konva=r.Konva.Util._assign(r.Konva,{Arc:n.Arc,Arrow:a.Arrow,Circle:s.Circle,Ellipse:o.Ellipse,Image:h.Image,Label:l.Label,Tag:l.Tag,Line:c.Line,Path:p.Path,Rect:f.Rect,RegularPolygon:u.RegularPolygon,Ring:d.Ring,Sprite:g.Sprite,Star:m.Star,Text:v.Text,TextPath:y.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:x.Brighten,Contrast:S.Contrast,Emboss:k.Emboss,Enhance:C.Enhance,Grayscale:P.Grayscale,HSL:A.HSL,HSV:M.HSV,Invert:F.Invert,Kaleidoscope:T.Kaleidoscope,Mask:D.Mask,Noise:E.Noise,Pixelate:O.Pixelate,Posterize:I.Posterize,RGB:L.RGB,RGBA:R.RGBA,Sepia:G.Sepia,Solarize:N.Solarize,Threshold:z.Threshold}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(179),n=i(181),a=i(183),s=i(188),o=i(386),h=i(387),l=i(388),c=i(195),p=i(191),f=i(184),u=i(196),d=i(389),g=i(206),m=i(190);e.Konva=n.Util._assign(r.Konva,{Collection:n.Collection,Util:n.Util,Node:a.Node,ids:a.ids,names:a.names,Container:s.Container,Stage:o.Stage,stages:o.stages,Layer:h.Layer,FastLayer:l.FastLayer,Group:c.Group,DD:p.DD,Shape:f.Shape,shapes:f.shapes,Animation:u.Animation,Tween:d.Tween,Easings:d.Easings,Context:g.Context,Canvas:m.Canvas})},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(181),o=i(178),h=i(188),l=i(179),c=i(190),p=i(191),f=i(179),u=i(207),d="_",g=["mouseenter","mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu","pointerdown","pointermove","pointerup","pointercancel","lostpointercapture"],m=g.length;function v(t,e){t.content.addEventListener(e,(function(i){t[d+e](i)}),!1)}function y(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&s.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var _=function(t){function i(i){var r=t.call(this,y(i))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){y(r.attrs)})),r._checkVisibility(),r}return a(i,t),i.prototype._validateAdd=function(t){var e="Layer"===t.getType(),i="FastLayer"===t.getType();e||i||s.Util.throw("You may only add layers to the stage.")},i.prototype._checkVisibility=function(){var t=this.visible()?"":"none";this.content.style.display=t},i.prototype.setContainer=function(t){if("string"===r(t)){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}
if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},i.prototype.shouldDrawHit=function(){return!0},i.prototype.clear=function(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this},i.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),h.Container.prototype.clone.call(this,t)},i.prototype.destroy=function(){t.prototype.destroy.call(this);var i=this.content;i&&s.Util._isInDocument(i)&&this.container().removeChild(i);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},i.prototype.getPointerPosition=function(){var t=this._pointerPositions[0];return t||s.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),{x:t.x,y:t.y}},i.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},i.prototype.getPointersPositions=function(){return this._pointerPositions},i.prototype.getStage=function(){return this},i.prototype.getContent=function(){return this.content},i.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,i=t.y||0,r=new c.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),n=r.getContext()._context,a=this.children;return(e||i)&&n.translate(-1*e,-1*i),a.each((function(r){if(r.isVisible()){var a=r._toKonvaCanvas(t);n.drawImage(a._canvas,e,i,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}})),r},i.prototype.getIntersection=function(t,e){var i,r,n=this.children;for(i=n.length-1;i>=0;i--)if(r=n[i].getIntersection(t,e))return r;return null},i.prototype._resizeDOM=function(){if(this.content){var t,e,i=this.width(),r=this.height(),n=this.getChildren(),a=n.length;for(this.content.style.width=i+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(i,r),this.bufferHitCanvas.setSize(i,r),t=0;t<a;t++)(e=n[t]).setSize({width:i,height:r}),e.draw()}},i.prototype.add=function(e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>5&&s.Util.warn("The stage has "+r+" layers. Recommended maximin number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e._setCanvasSize(this.width(),this.height()),e.draw(),l.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},i.prototype.getParent=function(){return null},i.prototype.getLayer=function(){return null},i.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},i.prototype.getLayers=function(){return this.getChildren()},i.prototype._bindContentEvents=function(){if(l.Konva.isBrowser)for(var t=0;t<m;t++)v(this,g[t])},i.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire("mouseenter",{evt:t,target:this,currentTarget:this})},i.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire("mouseover",{evt:t,target:this,currentTarget:this})},i.prototype._mouseout=function(t){this.setPointersPositions(t);var e=this.targetShape,i=!p.DD.isDragging||l.Konva.hitOnDragEnabled;e&&i?(e._fireAndBubble("mouseout",{evt:t}),e._fireAndBubble("mouseleave",{evt:t}),this.targetShape=null):i&&(this._fire("mouseleave",{evt:t,target:this,currentTarget:this}),this._fire("mouseout",{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},i.prototype._mousemove=function(t){if(l.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,i=s.Util._getFirstPointerId(t),r=!p.DD.isDragging||l.Konva.hitOnDragEnabled
;if(r){if((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()){var n=!this.targetShape||this.targetShape!==e;r&&n?(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i},e),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i},e)),e._fireAndBubble("mouseover",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mouseenter",{evt:t,pointerId:i},this.targetShape),e._fireAndBubble("mousemove",{evt:t,pointerId:i}),this.targetShape=e):e._fireAndBubble("mousemove",{evt:t,pointerId:i})}else this.targetShape&&r&&(this.targetShape._fireAndBubble("mouseout",{evt:t,pointerId:i}),this.targetShape._fireAndBubble("mouseleave",{evt:t,pointerId:i}),this._fire("mouseover",{evt:t,target:this,currentTarget:this,pointerId:i}),this.targetShape=null),this._fire("mousemove",{evt:t,target:this,currentTarget:this,pointerId:i});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},i.prototype._mousedown=function(t){if(l.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition());l.Konva.listenClickTap=!0,i&&i.isListening()?(this.clickStartShape=i,i._fireAndBubble("mousedown",{evt:t,pointerId:e})):this._fire("mousedown",{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},i.prototype._mouseup=function(t){if(l.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=s.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,n=this.clickEndShape,a=!1;l.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):p.DD.justDragged?p.DD&&(p.DD.justDragged=!1):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow),i&&i.isListening()?(this.clickEndShape=i,i._fireAndBubble("mouseup",{evt:t,pointerId:e}),l.Konva.listenClickTap&&r&&r._id===i._id&&(i._fireAndBubble("click",{evt:t,pointerId:e}),a&&n&&n===i&&i._fireAndBubble("dblclick",{evt:t,pointerId:e}))):(this._fire("mouseup",{evt:t,target:this,currentTarget:this,pointerId:e}),l.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire("dblclick",{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),a&&this._fire("contentDblclick",{evt:t})),l.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},i.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("contextmenu",{evt:t}):this._fire("contextmenu",{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},i.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((function(r){var n=e.getIntersection(r);l.Konva.listenClickTap=!0,n&&n.isListening()&&(l.Konva.captureTouchEventsEnabled&&n.setPointerCapture(r.id),e.tapStartShape=n,n._fireAndBubble("touchstart",{evt:t,pointerId:r.id},e),i=!0,n.isListening()&&n.preventDefault()&&t.cancelable&&t.preventDefault())})),i||this._fire("touchstart",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},i.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!p.DD.isDragging||l.Konva.hitOnDragEnabled){var i=!1,r={};this._changedPointerPositions.forEach((function(n){var a=u.getCapturedShape(n.id)||e.getIntersection(n);a&&a.isListening()&&(r[a._id]||(r[a._id]=!0,a._fireAndBubble("touchmove",{evt:t,pointerId:n.id}),i=!0,a.isListening()&&a.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire("touchmove",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}p.DD.isDragging&&p.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},
i.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var i=this.clickEndShape,r=!1;l.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):(l.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){l.Konva.inDblClickWindow=!1}),l.Konva.dblClickWindow);var n=!1,a={};this._changedPointerPositions.forEach((function(s){var o=u.getCapturedShape(s.id)||e.getIntersection(s);o&&o.releaseCapture(s.id),o&&o.isListening()&&(a[o._id]||(a[o._id]=!0,e.clickEndShape=o,o._fireAndBubble("touchend",{evt:t,pointerId:s.id}),n=!0,l.Konva.listenClickTap&&e.tapStartShape&&o._id===e.tapStartShape._id&&(o._fireAndBubble("tap",{evt:t,pointerId:s.id}),r&&i&&i===o&&o._fireAndBubble("dbltap",{evt:t,pointerId:s.id})),o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire("touchend",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva.listenClickTap&&this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r&&this._fire("dbltap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),l.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),l.Konva.listenClickTap=!1},i.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble("wheel",{evt:t}):this._fire("wheel",{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},i.prototype._pointerdown=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerdown",u.createEvent(t))}},i.prototype._pointermove=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointermove",u.createEvent(t))}},i.prototype._pointerup=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",u.createEvent(t)),u.releaseCapture(t.pointerId)}},i.prototype._pointercancel=function(t){if(l.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble("pointerup",u.createEvent(t)),u.releaseCapture(t.pointerId)}},i.prototype._lostpointercapture=function(t){u.releaseCapture(t.pointerId)},i.prototype.setPointersPositions=function(t){var e=this,i=this._getContentPosition(),r=null,n=null;if(void 0!==(t=t||window.event).touches){if(this._pointerPositions=[],this._changedPointerPositions=[],s.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})})),s.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:t.clientX-i.left,y:t.clientY-i.top})})),t.touches.length>0){var a=t.touches[0];r=a.clientX-i.left,n=a.clientY-i.top}}else r=t.clientX-i.left,n=t.clientY-i.top,this.pointerPos={x:r,y:n},this._pointerPositions=[{x:r,y:n,id:s.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:n,id:s.Util._getFirstPointerId(t)}]},i.prototype._setPointerPosition=function(t){s.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},i.prototype._getContentPosition=function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},i.prototype._buildDOM=function(){if(this.bufferCanvas=new c.SceneCanvas,this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1}),l.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",
this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},i.prototype.cache=function(){return s.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},i.prototype.clearCache=function(){return this},i.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},i}(h.Container);e.Stage=_,_.prototype.nodeType="Stage",f._registerNode(_),o.Factory.addGetterSetter(_,"container")},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(188),o=i(178),h=i(208),l=i(190),c=i(184),p=i(180),f=i(179),u=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],d=u.length,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCanvas=new l.HitCanvas({pixelRatio:1}),e}return n(e,t),e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._checkSmooth()},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&a.Util.throw("You may only add groups and shapes to a layer.")},e.prototype.getIntersection=function(t,e){var i,r,n,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var s=1,o=!1;;){for(r=0;r<d;r++){if(n=u[r],(a=(i=this._getIntersection({x:t.x+n.x*s,y:t.y+n.y*s})).shape)&&e)return a.findAncestor(e,!0);if(a)return a;if(o=!!i.antialiased,!i.antialiased)break}if(!o)return null;s+=1}},e.prototype._getIntersection=function(t){var e,i,r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,s=n[3];return 255===s?(e=a.Util._rgbToHex(n[0],n[1],n[2]),(i=c.shapes["#"+e])?{shape:i}:{antialiased:!0}):s>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),s.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var i=this.getLayer(),r=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,r,e),this},e.prototype.clear=function(t){return h.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e.prototype.setSize=function(e){var i=e.width,r=e.height;return t.prototype.setSize.call(this,{width:i,height:r}),this.hitCanvas.setSize(i,r),this},e}(h.BaseLayer);e.Layer=g,g.prototype.nodeType="Layer",f._registerNode(g),o.Factory.addGetterSetter(g,"hitGraphEnabled",!0,p.getBooleanValidator()),a.Collection.mapMethods(g)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(188),o=i(208),h=i(179),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._validateAdd=function(t){
"Shape"!==t.getType()&&a.Util.throw("You may only add shapes to a fast layer.")},e.prototype._setCanvasSize=function(t,e){this.canvas.setSize(t,e),this._checkSmooth()},e.prototype.hitGraphEnabled=function(){return!1},e.prototype.drawScene=function(t){var e=this.getLayer(),i=t||e&&e.getCanvas();return this.clearBeforeDraw()&&i.getContext().clear(),s.Container.prototype.drawScene.call(this,i),this},e.prototype.draw=function(){return this.drawScene(),this},e}(o.BaseLayer);e.FastLayer=l,l.prototype.nodeType="FastLayer",h._registerNode(l),a.Collection.mapMethods(l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(181),n=i(196),a=i(183),s=i(179),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=0,l=["fill","stroke","shadowColor"],c=function(){function t(t,e,i,r,n,a,s){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=n-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time))},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),p=function(){function t(i){var a,l,p=this,f=i.node,u=f._id,d=i.easing||e.Easings.Linear,g=!!i.yoyo;a=void 0===i.duration?.3:0===i.duration?.001:i.duration,this.node=f,this._id=h++;var m=f.getLayer()||(f instanceof s.Konva.Stage?f.getLayers():null);for(l in m||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){p.tween.onEnterFrame()}),m),this.tween=new c(l,(function(t){p._tweenFunc(t)}),d,0,1,1e3*a,g),this._addListeners(),t.attrs[u]||(t.attrs[u]={}),t.attrs[u][this._id]||(t.attrs[u][this._id]={}),t.tweens[u]||(t.tweens[u]={}),i)void 0===o[l]&&this._addAttr(l,i[l]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset}return t.prototype._addAttr=function(e,i){var n,a,s,o,h,c,p,f,u=this.node,d=u._id;if((s=t.tweens[d][e])&&delete t.attrs[d][s][e],n=u.getAttr(e),r.Util._isArray(i))if(a=[],h=Math.max(i.length,n.length),"points"===e&&i.length!==n.length&&(i.length>n.length?(p=n,n=r.Util._prepareArrayForTween(n,i,u.closed())):(c=i,i=r.Util._prepareArrayForTween(i,n,u.closed()))),0===e.indexOf("fill"))for(o=0;o<h;o++)if(o%2==0)a.push(i[o]-n[o]);else{var g=r.Util.colorToRGBA(n[o]);f=r.Util.colorToRGBA(i[o]),n[o]=g,a.push({r:f.r-g.r,g:f.g-g.g,b:f.b-g.b,a:f.a-g.a})}else for(o=0;o<h;o++)a.push(i[o]-n[o]);else-1!==l.indexOf(e)?(n=r.Util.colorToRGBA(n),a={r:(f=r.Util.colorToRGBA(i)).r-n.r,g:f.g-n.g,b:f.b-n.b,a:f.a-n.a}):a=i-n;t.attrs[d][this._id][e]={start:n,diff:a,end:i,trueEnd:c,trueStart:p},t.tweens[d][e]=this._id},t.prototype._tweenFunc=function(e){
var i,n,a,s,o,h,c,p,f=this.node,u=t.attrs[f._id][this._id];for(i in u){if(a=(n=u[i]).start,s=n.diff,p=n.end,r.Util._isArray(a))if(o=[],c=Math.max(a.length,p.length),0===i.indexOf("fill"))for(h=0;h<c;h++)h%2==0?o.push((a[h]||0)+s[h]*e):o.push("rgba("+Math.round(a[h].r+s[h].r*e)+","+Math.round(a[h].g+s[h].g*e)+","+Math.round(a[h].b+s[h].b*e)+","+(a[h].a+s[h].a*e)+")");else for(h=0;h<c;h++)o.push((a[h]||0)+s[h]*e);else o=-1!==l.indexOf(i)?"rgba("+Math.round(a.r+s.r*e)+","+Math.round(a.g+s.g*e)+","+Math.round(a.b+s.b*e)+","+(a.a+s.a*e)+")":a+s*e;f.setAttr(i,o)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueEnd&&i.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueStart&&i.points(r.points.trueStart),e.onReset&&e.onReset()}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,i=this.node._id,r=this._id,n=t.tweens[i];for(e in this.pause(),n)delete t.tweens[i][e];delete t.attrs[i][r]},t.attrs={},t.tweens={},t}();e.Tween=p,a.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new p(t).play()},e.Easings={BackEaseIn:function(t,e,i,r){var n=1.70158;return i*(t/=r)*t*((n+1)*t-n)+e},BackEaseOut:function(t,e,i,r){var n=1.70158;return i*((t=t/r-1)*t*((n+1)*t+n)+1)+e},BackEaseInOut:function(t,e,i,r){var n=1.70158;return(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ElasticEaseIn:function(t,e,i,r,n,a){var s=0;return 0===t?e:1==(t/=r)?e+i:(a||(a=.3*r),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)+e)},ElasticEaseOut:function(t,e,i,r,n,a){var s=0;return 0===t?e:1==(t/=r)?e+i:(a||(a=.3*r),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/a)+i+e)},ElasticEaseInOut:function(t,e,i,r,n,a){var s=0;return 0===t?e:2==(t/=r/2)?e+i:(a||(a=r*(.3*1.5)),!n||n<Math.abs(i)?(n=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/a)*.5+i+e)},BounceEaseOut:function(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,i,r,n){return r-e.Easings.BounceEaseOut(n-t,0,r,n)+i},BounceEaseInOut:function(t,i,r,n){return t<n/2?.5*e.Easings.BounceEaseIn(2*t,0,r,n)+i:.5*e.Easings.BounceEaseOut(2*t-n,0,r,n)+.5*r+i},EaseIn:function(t,e,i,r){return i*(t/=r)*t+e},EaseOut:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},EaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,r){return i*t/r+e}}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(179),l=i(180),c=i(179),p=function(t){
function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=h.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Arc=p,p.prototype._centroid=!0,p.prototype.className="Arc",p.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(p),s.Factory.addGetterSetter(p,"innerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"outerRadius",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clockwise",!1,l.getBooleanValidator()),a.Collection.mapMethods(p)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(209),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var i=2*Math.PI,r=this.points(),n=r,a=0!==this.tension()&&r.length>4;a&&(n=this.getTensionPoints());var s,o,h=r.length;a?(s=r[h-2]-(n[n.length-2]+n[n.length-4])/2,o=r[h-1]-(n[n.length-1]+n[n.length-3])/2):(s=r[h-2]-r[h-4],o=r[h-1]-r[h-3]);var l=(Math.atan2(o,s)+i)%i,c=this.pointerLength(),p=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[h-2],r[h-1]),e.rotate(l),e.moveTo(0,0),e.lineTo(-c,p/2),e.lineTo(-c,-p/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),a?(s=(n[0]+n[2])/2-r[0],o=(n[1]+n[3])/2-r[1]):(s=r[2]-r[0],o=r[3]-r[1]),e.rotate((Math.atan2(-o,-s)+i)%i),e.moveTo(0,0),e.lineTo(-c,p/2),e.lineTo(-c,-p/2),e.closePath(),e.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},e}(o.Line);e.Arrow=c,c.prototype.className="Arrow",l._registerNode(c),s.Factory.addGetterSetter(c,"pointerLength",10,h.getNumberValidator()),s.Factory.addGetterSetter(c,"pointerWidth",10,h.getNumberValidator()),s.Factory.addGetterSetter(c,"pointerAtBeginning",!1),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(o.Shape);e.Circle=c,c.prototype._centroid=!0,c.prototype.className="Circle",c.prototype._attrsAffectingSize=["radius"],l._registerNode(c),s.Factory.addGetterSetter(c,"radius",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){
for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(o.Shape);e.Ellipse=c,c.prototype.className="Ellipse",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(c),s.Factory.addComponentsGetterSetter(c,"radius",["x","y"]),s.Factory.addGetterSetter(c,"radiusX",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"radiusY",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},e.prototype._sceneFunc=function(t){var e,i,r,n=this.width(),a=this.height(),s=this.image();s&&(e=this.cropWidth(),i=this.cropHeight(),r=e&&i?[s,this.cropX(),this.cropY(),e,i,0,0,n,a]:[s,0,0,n,a]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,n,a),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,r)},e.prototype._hitFunc=function(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t=this.image();return this.attrs.width||(t?t.width:0)},e.prototype.getHeight=function(){var t=this.image();return this.attrs.height||(t?t.height:0)},e.fromURL=function(t,i){var r=a.Util.createImageElement();r.onload=function(){var t=new e({image:r});i(t)},r.crossOrigin="Anonymous",r.src=t},e}(o.Shape);e.Image=c,c.prototype.className="Image",l._registerNode(c),s.Factory.addGetterSetter(c,"image"),s.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(c,"cropX",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropY",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropWidth",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"cropHeight",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(195),l=i(180),c=i(179),p=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],f=p.length,u=function(t){function e(e){var i=t.call(this,e)||this;return i.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),i}return n(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,i=this,r=function(){i._sync()};for(e=0;e<f;e++)t.on(p[e]+"Change.konva",r)},e.prototype.getWidth=function(){
return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,i,r,n,a,s,o=this.getText(),h=this.getTag();if(o&&h){switch(t=o.width(),e=o.height(),i=h.pointerDirection(),r=h.pointerWidth(),s=h.pointerHeight(),n=0,a=0,i){case"up":n=t/2,a=-1*s;break;case"right":n=t+r,a=e/2;break;case"down":n=t/2,a=e+s;break;case"left":n=-1*r,a=e/2}h.setAttrs({x:-1*n,y:-1*a,width:t,height:e}),o.setAttrs({x:-1*n,y:-1*a})}},e}(h.Group);e.Label=u,u.prototype.className="Label",c._registerNode(u),a.Collection.mapMethods(u);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),i=this.height(),r=this.pointerDirection(),n=this.pointerWidth(),a=this.pointerHeight(),s=Math.min(this.cornerRadius(),e/2,i/2);t.beginPath(),s?t.moveTo(s,0):t.moveTo(0,0),"up"===r&&(t.lineTo((e-n)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+n)/2,0)),s?(t.lineTo(e-s,0),t.arc(e-s,s,s,3*Math.PI/2,0,!1)):t.lineTo(e,0),"right"===r&&(t.lineTo(e,(i-a)/2),t.lineTo(e+n,i/2),t.lineTo(e,(i+a)/2)),s?(t.lineTo(e,i-s),t.arc(e-s,i-s,s,0,Math.PI/2,!1)):t.lineTo(e,i),"down"===r&&(t.lineTo((e+n)/2,i),t.lineTo(e/2,i+a),t.lineTo((e-n)/2,i)),s?(t.lineTo(s,i),t.arc(s,i-s,s,Math.PI/2,Math.PI,!1)):t.lineTo(0,i),"left"===r&&(t.lineTo(0,(i+a)/2),t.lineTo(-1*n,i/2),t.lineTo(0,(i-a)/2)),s&&(t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,i=this.pointerWidth(),r=this.pointerHeight(),n=this.pointerDirection(),a=this.width(),s=this.height();return"up"===n?(e-=r,s+=r):"down"===n?s+=r:"left"===n?(t-=1.5*i,a+=i):"right"===n&&(a+=1.5*i),{x:t,y:e,width:a,height:s}},e}(o.Shape);e.Tag=d,d.prototype.className="Tag",c._registerNode(d),s.Factory.addGetterSetter(d,"pointerDirection","none"),s.Factory.addGetterSetter(d,"pointerWidth",0,l.getNumberValidator()),s.Factory.addGetterSetter(d,"pointerHeight",0,l.getNumberValidator()),s.Factory.addGetterSetter(d,"cornerRadius",0,l.getNumberValidator()),a.Collection.mapMethods(d)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e,i,r,n=this.sides(),a=this.radius();for(t.beginPath(),t.moveTo(0,0-a),e=1;e<n;e++)i=a*Math.sin(2*e*Math.PI/n),r=-1*a*Math.cos(2*e*Math.PI/n),t.lineTo(i,r);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.RegularPolygon=c,c.prototype.className="RegularPolygon",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],l._registerNode(c),s.Factory.addGetterSetter(c,"radius",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"sides",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=2*Math.PI,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,c,!1),t.moveTo(this.outerRadius(),0),
t.arc(0,0,this.outerRadius(),c,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Ring=p,p.prototype.className="Ring",p.prototype._centroid=!0,p.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(p),s.Factory.addGetterSetter(p,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(p,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(p)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(196),l=i(180),c=i(179),p=function(t){function e(e){var i=t.call(this,e)||this;return i._updated=!0,i.anim=new h.Animation((function(){var t=i._updated;return i._updated=!1,t})),i.on("animationChange.konva",(function(){this.frameIndex(0)})),i.on("frameIndexChange.konva",(function(){this._updated=!0})),i.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),i}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],a=this.frameOffsets(),s=n[r+0],o=n[r+1],h=n[r+2],l=n[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,l),t.closePath(),t.fillStrokeShape(this)),c)if(a){var p=a[e],f=2*i;t.drawImage(c,s,o,h,l,p[f+0],p[f+1],h,l)}else t.drawImage(c,s,o,h,l,0,0,h,l)},e.prototype._hitFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],a=this.frameOffsets(),s=n[r+2],o=n[r+3];if(t.beginPath(),a){var h=a[e],l=2*i;t.rect(h[l+0],h[l+1],s,o)}else t.rect(0,0,s,o);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(o.Shape);e.Sprite=p,p.prototype.className="Sprite",c._registerNode(p),s.Factory.addGetterSetter(p,"animation"),s.Factory.addGetterSetter(p,"animations"),s.Factory.addGetterSetter(p,"frameOffsets"),s.Factory.addGetterSetter(p,"image"),s.Factory.addGetterSetter(p,"frameIndex",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"frameRate",17,l.getNumberValidator()),s.Factory.backCompat(p,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(p)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(180),l=i(179),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var n=1;n<2*r;n++){
var a=n%2==0?i:e,s=a*Math.sin(n*Math.PI/r),o=-1*a*Math.cos(n*Math.PI/r);t.lineTo(s,o)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(o.Shape);e.Star=c,c.prototype.className="Star",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(c),s.Factory.addGetterSetter(c,"numPoints",5,h.getNumberValidator()),s.Factory.addGetterSetter(c,"innerRadius",0,h.getNumberValidator()),s.Factory.addGetterSetter(c,"outerRadius",0,h.getNumberValidator()),a.Collection.mapMethods(c)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(210),l=i(212),c=i(180),p=i(179);function f(t){t.fillText(this.partialText,0,0)}function u(t){t.strokeText(this.partialText,0,0)}var d=function(t){function e(e){var i=t.call(this,e)||this;return i.dummyCanvas=a.Util.createCanvasElement(),i.dataArray=[],i.dataArray=h.Path.parsePathData(i.attrs.data),i.on("dataChange.konva",(function(){this.dataArray=h.Path.parsePathData(this.attrs.data),this._setTextData()})),i.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",i._setTextData),e&&e.getKerning&&(a.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),i.kerningFunc(e.getKerning)),i._setTextData(),i}return n(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),r=this.fontSize(),n=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<n.length;a++){t.save();var s=n[a].p0;t.translate(s.x,s.y),t.rotate(n[a].rotation),this.partialText=n[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var r=0;r<e.length;r++){var n=e[r].p1;t.lineTo(n.x,n.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var i=e.measureText(t);return e.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),r=this.align(),n=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var s=0,o=0;o<t.dataArray.length;o++)t.dataArray[o].pathLength>0&&(s+=t.dataArray[o].pathLength);var l=0;"center"===r&&(l=Math.max(0,s/2-a/2)),"right"===r&&(l=Math.max(0,s-a));for(var c,p,f,u=this.text().split(""),d=this.text().split(" ").length-1,g=-1,m=0,v=function(){m=0;for(var e=t.dataArray,i=g+1;i<e.length;i++){if(e[i].pathLength>0)return g=i,e[i];"M"===e[i].command&&(c={x:e[i].points[0],y:e[i].points[1]})}return{}},y=function(e){
var n=t._getTextSize(e).width+i;" "===e&&"justify"===r&&(n+=(s-a)/d);var o=0,l=0;for(p=void 0;Math.abs(n-o)/n>.01&&l<25;){l++;for(var u=o;void 0===f;)(f=v())&&u+f.pathLength<n&&(u+=f.pathLength,f=void 0);if(f==={}||void 0===c)return;var g=!1;switch(f.command){case"L":h.Path.getLineLength(c.x,c.y,f.points[0],f.points[1])>n?p=h.Path.getPointOnLine(n,c.x,c.y,f.points[0],f.points[1],c.x,c.y):f=void 0;break;case"A":var y=f.points[4],_=f.points[5],b=f.points[4]+_;0===m?m=y+1e-8:n>o?m+=Math.PI/180*_/Math.abs(_):m-=Math.PI/360*_/Math.abs(_),(_<0&&m<b||_>=0&&m>b)&&(m=b,g=!0),p=h.Path.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],m,f.points[6]);break;case"C":0===m?m=n>f.pathLength?1e-8:n/f.pathLength:n>o?m+=(n-o)/f.pathLength:m-=(o-n)/f.pathLength,m>1&&(m=1,g=!0),p=h.Path.getPointOnCubicBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===m?m=n/f.pathLength:n>o?m+=(n-o)/f.pathLength:m-=(o-n)/f.pathLength,m>1&&(m=1,g=!0),p=h.Path.getPointOnQuadraticBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}void 0!==p&&(o=h.Path.getLineLength(c.x,c.y,p.x,p.y)),g&&(g=!1,f=void 0)}},_=t._getTextSize("C").width+i,b=0;b<l/_&&(y("C"),void 0!==c&&void 0!==p);b++)c=p;for(var w=0;w<u.length&&(y(u[w]),void 0!==c&&void 0!==p);w++){var x=h.Path.getLineLength(c.x,c.y,p.x,p.y),S=0;if(n)try{S=n(u[w-1],u[w])*this.fontSize()}catch(t){S=0}c.x+=S,p.x+=S,this.textWidth+=S;var k=h.Path.getPointOnLine(S+x/2,c.x,c.y,p.x,p.y),C=Math.atan2(p.y-c.y,p.x-c.x);this.glyphInfo.push({transposeX:k.x,transposeY:k.y,text:u[w],rotation:C,p0:c,p1:p}),c=p}},e.prototype.getSelfRect=function(){var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,i,r=t[0],n=t[0],a=t[0],s=t[0],o=0;o<t.length/2;o++)e=t[2*o],i=t[2*o+1],r=Math.min(r,e),n=Math.max(n,e),a=Math.min(a,i),s=Math.max(s,i);var h=this.fontSize();return{x:Math.round(r)-h/2,y:Math.round(a)-h/2,width:Math.round(n-r)+h,height:Math.round(s-a)+h}},e}(o.Shape);e.TextPath=d,d.prototype._fillFunc=f,d.prototype._strokeFunc=u,d.prototype._fillFuncHit=f,d.prototype._strokeFuncHit=u,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],p._registerNode(d),s.Factory.addGetterSetter(d,"data"),s.Factory.addGetterSetter(d,"fontFamily","Arial"),s.Factory.addGetterSetter(d,"fontSize",12,c.getNumberValidator()),s.Factory.addGetterSetter(d,"fontStyle","normal"),s.Factory.addGetterSetter(d,"align","left"),s.Factory.addGetterSetter(d,"letterSpacing",0,c.getNumberValidator()),s.Factory.addGetterSetter(d,"textBaseline","middle"),s.Factory.addGetterSetter(d,"fontVariant","normal"),s.Factory.addGetterSetter(d,"text",""),s.Factory.addGetterSetter(d,"textDecoration",null),s.Factory.addGetterSetter(d,"kerningFunc",null),a.Collection.mapMethods(d)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(183),h=i(184),l=i(211),c=i(195),p=i(179),f=i(180),u=i(179),d=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,
"bottom-center":180,"bottom-right":135};var v=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],y=function(t){function e(e){var i=t.call(this,e)||this;return i._transforming=!1,i._createElements(),i._handleMouseMove=i._handleMouseMove.bind(i),i._handleMouseUp=i._handleMouseUp.bind(i),i.update=i.update.bind(i),i.on(d,i.update),i.getNode()&&i.update(),i}return n(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){var e=this;this._node&&this.detach(),this._node=t,this._resetTransformCache();var i=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),r=function(){e._resetTransformCache(),e._transforming||e.update()};return t.on(i,r),t.on(g,r),t.on("xChange.tr-konva yChange.tr-konva",(function(){return e._resetTransformCache()})),!!this.findOne(".top-left")&&this.update(),this},e.prototype.getNode=function(){return this._node},e.prototype.detach=function(){this.getNode()&&(this.getNode().off(".tr-konva"),this._node=void 0),this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodeRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodeRect",this.__getNodeRect)},e.prototype.__getNodeRect=function(){var t=this.getNode();if(!t)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};t.parent&&this.parent&&t.parent!==this.parent&&a.Util.warn("Transformer and attached node have different parents. Konva does not support such case right now. Please move Transformer to the parent of attaching node.");var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=p.Konva.getAngle(t.rotation()),r=e.x*t.scaleX()-t.offsetX()*t.scaleX(),n=e.y*t.scaleY()-t.offsetY()*t.scaleY();return{x:t.x()+r*Math.cos(i)+n*Math.sin(-i),y:t.y()+n*Math.cos(i)+r*Math.sin(i),width:e.width*t.scaleX(),height:e.height*t.scaleY(),rotation:t.rotation()}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getRotation=function(){return this._getNodeRect().rotation},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),v.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,i=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0}),r=this;i.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),i.on("dragstart",(function(t){t.cancelBubble=!0})),i.on("dragmove",(function(t){t.cancelBubble=!0})),i.on("dragend",(function(t){t.cancelBubble=!0})),i.on("mouseenter",(function(){var r=p.Konva.getAngle(e.rotation()),n=e.getNode().getAbsoluteScale(),s=n.y*n.x<0,o=function(t,e,i){if("rotater"===t)return"crosshair";e+=a.Util._degToRad(m[t]||0),i&&(e*=-1);var r=(a.Util._radToDeg(e)%360+360)%360;return a.Util._inRange(r,337.5,360)||a.Util._inRange(r,0,22.5)?"ns-resize":a.Util._inRange(r,22.5,67.5)?"nesw-resize":a.Util._inRange(r,67.5,112.5)?"ew-resize":a.Util._inRange(r,112.5,157.5)?"nwse-resize":a.Util._inRange(r,157.5,202.5)?"ns-resize":a.Util._inRange(r,202.5,247.5)?"nesw-resize":a.Util._inRange(r,247.5,292.5)?"ew-resize":a.Util._inRange(r,292.5,337.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(t,r,s);i.getStage().content.style.cursor=o,e._cursorChange=!0})),i.on("mouseout",(function(){i.getStage()&&i.getParent()&&(i.getStage().content.style.cursor="",e._cursorChange=!1)})),this.add(i)},e.prototype._createBack=function(){var t=new h.Shape({name:"back",width:0,height:0,listening:!1,sceneFunc:function(t){var e=this.getParent(),i=e.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),
e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*a.Util._sign(this.height())),t.fillStrokeShape(this)}});this.add(t)},e.prototype._handleMouseDown=function(t){this.movingResizer=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,r=e.height,n=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/n),this.cos=Math.abs(i/n),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0,this._fire("transformstart",{evt:t}),this.getNode()._fire("transformstart",{evt:t})},e.prototype._handleMouseMove=function(t){var e,i,r,n=this.findOne("."+this.movingResizer),s=n.getStage().getContent().getBoundingClientRect(),o=s.left,h=s.top,l={x:(void 0!==t.clientX?t.clientX:t.touches[0].clientX)-o,y:(void 0!==t.clientX?t.clientY:t.touches[0].clientY)-h};n.setAbsolutePosition(l);var c=this.keepRatio()||t.shiftKey;if("top-left"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x()-n.x(),2)+Math.pow(this.findOne(".bottom-right").y()-n.y(),2));var f=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1;e=r*this.cos*f,i=r*this.sin*f,this.findOne(".top-left").x(this.findOne(".bottom-right").x()-e),this.findOne(".top-left").y(this.findOne(".bottom-right").y()-i)}}else if("top-center"===this.movingResizer)this.findOne(".top-left").y(n.y());else if("top-right"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-left").x()-n.x(),2)+Math.pow(this.findOne(".bottom-left").y()-n.y(),2));f=this.findOne(".top-right").x()<this.findOne(".top-left").x()?-1:1;e=r*this.cos*f,i=r*this.sin*f,this.findOne(".top-right").x(e),this.findOne(".top-right").y(this.findOne(".bottom-left").y()-i)}var u=n.position();this.findOne(".top-left").y(u.y),this.findOne(".bottom-right").x(u.x)}else if("middle-left"===this.movingResizer)this.findOne(".top-left").x(n.x());else if("middle-right"===this.movingResizer)this.findOne(".bottom-right").x(n.x());else if("bottom-left"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".top-right").x()-n.x(),2)+Math.pow(this.findOne(".top-right").y()-n.y(),2));f=this.findOne(".top-right").x()<this.findOne(".bottom-left").x()?-1:1;e=r*this.cos*f,i=r*this.sin*f,this.findOne(".bottom-left").x(this.findOne(".top-right").x()-e),this.findOne(".bottom-left").y(i)}u=n.position(),this.findOne(".top-left").x(u.x),this.findOne(".bottom-right").y(u.y)}else if("bottom-center"===this.movingResizer)this.findOne(".bottom-right").y(n.y());else if("bottom-right"===this.movingResizer){if(c){r=Math.sqrt(Math.pow(this.findOne(".bottom-right").x(),2)+Math.pow(this.findOne(".bottom-right").y(),2));f=this.findOne(".top-left").x()>this.findOne(".bottom-right").x()?-1:1;e=r*this.cos*f,i=r*this.sin*f,this.findOne(".bottom-right").x(e),this.findOne(".bottom-right").y(i)}}else if("rotater"===this.movingResizer){var d=this.padding(),g=this._getNodeRect();e=n.x()-g.width/2,i=-n.y()+g.height/2;var m=Math.atan2(-i,e)+Math.PI/2;g.height<0&&(m-=Math.PI);for(var v=p.Konva.getAngle(this.rotation()),y=a.Util._radToDeg(v)+a.Util._radToDeg(m),_=p.Konva.getAngle(this.getNode().rotation()),b=a.Util._degToRad(y),w=this.rotationSnaps(),x=0;x<w.length;x++){var S=p.Konva.getAngle(w[x]);Math.abs(S-a.Util._degToRad(y))%(2*Math.PI)<.1&&(y=a.Util._radToDeg(S),b=a.Util._degToRad(y))}var k=d,C=d;this._fitNodeInto({rotation:p.Konva.angleDeg?y:a.Util._degToRad(y),x:g.x+(g.width/2+d)*(Math.cos(_)-Math.cos(b))+(g.height/2+d)*(Math.sin(-_)-Math.sin(-b))-(k*Math.cos(v)+C*Math.sin(-v)),y:g.y+(g.height/2+d)*(Math.cos(_)-Math.cos(b))+(g.width/2+d)*(Math.sin(_)-Math.sin(b))-(C*Math.cos(v)+k*Math.sin(v)),width:g.width+2*d,height:g.height+2*d},t)}else console.error(new Error("Wrong position argument of selection resizer: "+this.movingResizer));if("rotater"!==this.movingResizer){var P=this.findOne(".top-left").getAbsolutePosition(this.getParent());if(this.centeredScaling()||t.altKey){
var A=this.findOne(".top-left"),M=this.findOne(".bottom-right"),F=A.x(),T=A.y(),D=this.getWidth()-M.x(),E=this.getHeight()-M.y();M.move({x:-F,y:-T}),A.move({x:D,y:E}),P=A.getAbsolutePosition(this.getParent())}e=P.x,i=P.y;var O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),I=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodeInto({x:e+this.offsetX(),y:i+this.offsetY(),width:O,height:I},t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),this._fire("transformend",{evt:t});var e=this.getNode();e&&e.fire("transformend",{evt:t})}},e.prototype._fitNodeInto=function(t,e){var i=this.boundBoxFunc();if(i){var r=this._getNodeRect();t=i.call(this,r,t)}var n=this.getNode();void 0!==t.rotation&&this.getNode().rotation(t.rotation);var a=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=this.padding(),o=(t.width-2*s)/a.width,h=(t.height-2*s)/a.height,l=p.Konva.getAngle(n.rotation()),c=a.x*o-s-n.offsetX()*o,f=a.y*h-s-n.offsetY()*h;this.getNode().setAttrs({scaleX:o,scaleY:h,x:t.x-(c*Math.cos(l)+f*Math.sin(-l)),y:t.y-(f*Math.cos(l)+c*Math.sin(l))}),this._fire("transform",{evt:e}),this.getNode()._fire("transform",{evt:e}),this.update(),this.getLayer().batchDraw()},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype.update=function(){var t=this,e=this._getNodeRect(),i=this.getNode(),r={x:1,y:1};i&&i.getParent()&&(r=i.getParent().getAbsoluteScale());var n={x:1/r.x,y:1/r.y},s=e.width,o=e.height,h=this.enabledAnchors(),l=this.resizeEnabled(),c=this.padding(),p=this.anchorSize();this.find("._anchor").each((function(e){return e.setAttrs({width:p,height:p,offsetX:p/2,offsetY:p/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this.findOne(".top-left").setAttrs({x:-c,y:-c,scale:n,visible:l&&h.indexOf("top-left")>=0}),this.findOne(".top-center").setAttrs({x:s/2,y:-c,scale:n,visible:l&&h.indexOf("top-center")>=0}),this.findOne(".top-right").setAttrs({x:s+c,y:-c,scale:n,visible:l&&h.indexOf("top-right")>=0}),this.findOne(".middle-left").setAttrs({x:-c,y:o/2,scale:n,visible:l&&h.indexOf("middle-left")>=0}),this.findOne(".middle-right").setAttrs({x:s+c,y:o/2,scale:n,visible:l&&h.indexOf("middle-right")>=0}),this.findOne(".bottom-left").setAttrs({x:-c,y:o+c,scale:n,visible:l&&h.indexOf("bottom-left")>=0}),this.findOne(".bottom-center").setAttrs({x:s/2,y:o+c,scale:n,visible:l&&h.indexOf("bottom-center")>=0}),this.findOne(".bottom-right").setAttrs({x:s+c,y:o+c,scale:n,visible:l&&h.indexOf("bottom-right")>=0});var f=-this.rotateAnchorOffset()*Math.abs(n.y);this.findOne(".rotater").setAttrs({x:s/2,y:f*a.Util._sign(o),scale:n,visible:this.rotateEnabled()}),this.findOne(".back").setAttrs({width:s*r.x,height:o*r.y,scale:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash()})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this.movingResizer);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return o.Node.prototype.toObject.call(this)},e}(c.Group);e.Transformer=y,y.prototype.className="Transformer",u._registerNode(y),s.Factory.addGetterSetter(y,"enabledAnchors",v,(function(t){return t instanceof Array||a.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){
-1===v.indexOf(t)&&a.Util.warn("Unknown anchor name: "+t+". Available names are: "+v.join(", "))})),t||[]})),s.Factory.addGetterSetter(y,"resizeEnabled",!0),s.Factory.addGetterSetter(y,"anchorSize",10,f.getNumberValidator()),s.Factory.addGetterSetter(y,"rotateEnabled",!0),s.Factory.addGetterSetter(y,"rotationSnaps",[]),s.Factory.addGetterSetter(y,"rotateAnchorOffset",50,f.getNumberValidator()),s.Factory.addGetterSetter(y,"borderEnabled",!0),s.Factory.addGetterSetter(y,"anchorStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(y,"anchorStrokeWidth",1,f.getNumberValidator()),s.Factory.addGetterSetter(y,"anchorFill","white"),s.Factory.addGetterSetter(y,"anchorCornerRadius",0,f.getNumberValidator()),s.Factory.addGetterSetter(y,"borderStroke","rgb(0, 161, 255)"),s.Factory.addGetterSetter(y,"borderStrokeWidth",1,f.getNumberValidator()),s.Factory.addGetterSetter(y,"borderDash"),s.Factory.addGetterSetter(y,"keepRatio",!0),s.Factory.addGetterSetter(y,"centeredScaling",!1),s.Factory.addGetterSetter(y,"ignoreStroke",!1),s.Factory.addGetterSetter(y,"padding",0,f.getNumberValidator()),s.Factory.addGetterSetter(y,"node"),s.Factory.addGetterSetter(y,"boundBoxFunc"),s.Factory.backCompat(y,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),a.Collection.mapMethods(y)},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a=i(181),s=i(178),o=i(184),h=i(179),l=i(180),c=i(179),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,h.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(o.Shape);e.Wedge=p,p.prototype.className="Wedge",p.prototype._centroid=!0,p.prototype._attrsAffectingSize=["radius"],c._registerNode(p),s.Factory.addGetterSetter(p,"radius",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"angle",0,l.getNumberValidator()),s.Factory.addGetterSetter(p,"clockwise",!1),s.Factory.backCompat(p,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(p)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}
var o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var i,r,n,a,l,c,p,f,u,d,g,m,v,y,_,b,w,x,S,k,C,P,A,M,F=t.data,T=t.width,D=t.height,E=e+e+1,O=T-1,I=D-1,L=e+1,R=L*(L+1)/2,G=new s,N=null,z=G,B=null,V=null,U=o[e],j=h[e];for(n=1;n<E;n++)z=z.next=new s,n===L&&(N=z);for(z.next=G,p=c=0,r=0;r<D;r++){for(b=w=x=S=f=u=d=g=0,m=L*(k=F[c]),v=L*(C=F[c+1]),y=L*(P=F[c+2]),_=L*(A=F[c+3]),f+=R*k,u+=R*C,d+=R*P,g+=R*A,z=G,n=0;n<L;n++)z.r=k,z.g=C,z.b=P,z.a=A,z=z.next;for(n=1;n<L;n++)a=c+((O<n?O:n)<<2),f+=(z.r=k=F[a])*(M=L-n),u+=(z.g=C=F[a+1])*M,d+=(z.b=P=F[a+2])*M,g+=(z.a=A=F[a+3])*M,b+=k,w+=C,x+=P,S+=A,z=z.next;for(B=G,V=N,i=0;i<T;i++)F[c+3]=A=g*U>>j,0!==A?(A=255/A,F[c]=(f*U>>j)*A,F[c+1]=(u*U>>j)*A,F[c+2]=(d*U>>j)*A):F[c]=F[c+1]=F[c+2]=0,f-=m,u-=v,d-=y,g-=_,m-=B.r,v-=B.g,y-=B.b,_-=B.a,a=p+((a=i+e+1)<O?a:O)<<2,f+=b+=B.r=F[a],u+=w+=B.g=F[a+1],d+=x+=B.b=F[a+2],g+=S+=B.a=F[a+3],B=B.next,m+=k=V.r,v+=C=V.g,y+=P=V.b,_+=A=V.a,b-=k,w-=C,x-=P,S-=A,V=V.next,c+=4;p+=T}for(i=0;i<T;i++){for(w=x=S=b=u=d=g=f=0,m=L*(k=F[c=i<<2]),v=L*(C=F[c+1]),y=L*(P=F[c+2]),_=L*(A=F[c+3]),f+=R*k,u+=R*C,d+=R*P,g+=R*A,z=G,n=0;n<L;n++)z.r=k,z.g=C,z.b=P,z.a=A,z=z.next;for(l=T,n=1;n<=e;n++)c=l+i<<2,f+=(z.r=k=F[c])*(M=L-n),u+=(z.g=C=F[c+1])*M,d+=(z.b=P=F[c+2])*M,g+=(z.a=A=F[c+3])*M,b+=k,w+=C,x+=P,S+=A,z=z.next,n<I&&(l+=T);for(c=i,B=G,V=N,r=0;r<D;r++)F[(a=c<<2)+3]=A=g*U>>j,A>0?(A=255/A,F[a]=(f*U>>j)*A,F[a+1]=(u*U>>j)*A,F[a+2]=(d*U>>j)*A):F[a]=F[a+1]=F[a+2]=0,f-=m,u-=v,d-=y,g-=_,m-=B.r,v-=B.g,y-=B.b,_-=B.a,a=i+((a=r+L)<I?a:I)*T<<2,f+=b+=B.r=F[a],u+=w+=B.g=F[a+1],d+=x+=B.b=F[a+2],g+=S+=B.a=F[a+3],B=B.next,m+=k=V.r,v+=C=V.g,y+=P=V.b,_+=A=V.a,b-=k,w-=C,x-=P,S-=A,V=V.next,c+=T}}(t,e)},r.Factory.addGetterSetter(n.Node,"blurRadius",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.Brighten=function(t){var e,i=255*this.brightness(),r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]+=i,r[e+1]+=i,r[e+2]+=i},r.Factory.addGetterSetter(n.Node,"brightness",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.Contrast=function(t){
var e,i=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,a=150,s=150,o=150;for(e=0;e<n;e+=4)a=r[e],s=r[e+1],o=r[e+2],a/=255,a-=.5,a*=i,a+=.5,s/=255,s-=.5,s*=i,s+=.5,o/=255,o-=.5,o*=i,o+=.5,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,o=(o*=255)<0?0:o>255?255:o,r[e]=a,r[e+1]=s,r[e+2]=o},r.Factory.addGetterSetter(n.Node,"contrast",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(181),s=i(180);e.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),r=this.embossDirection(),n=this.embossBlend(),s=0,o=0,h=t.data,l=t.width,c=t.height,p=4*l,f=c;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:a.Util.error("Unknown emboss direction: "+r)}do{var u=(f-1)*p,d=s;f+d<1&&(d=0),f+d>c&&(d=0);var g=(f-1+d)*l*4,m=l;do{var v=u+4*(m-1),y=o;m+y<1&&(y=0),m+y>l&&(y=0);var _=g+4*(m-1+y),b=h[v]-h[_],w=h[v+1]-h[_+1],x=h[v+2]-h[_+2],S=b,k=S>0?S:-S;if((w>0?w:-w)>k&&(S=w),(x>0?x:-x)>k&&(S=x),S*=e,n){var C=h[v]+S,P=h[v+1]+S,A=h[v+2]+S;h[v]=C>255?255:C<0?0:C,h[v+1]=P>255?255:P<0?0:P,h[v+2]=A>255?255:A<0?0:A}else{var M=i-S;M<0?M=0:M>255&&(M=255),h[v]=h[v+1]=h[v+2]=M}}while(--m)}while(--f)},r.Factory.addGetterSetter(n.Node,"embossStrength",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);function s(t,e,i,r,n){var a=i-e,s=n-r;return 0===a?r+s/2:0===s?r:s*((t-e)/a)+r}e.Enhance=function(t){var e,i,r,n,a=t.data,o=a.length,h=a[0],l=h,c=a[1],p=c,f=a[2],u=f,d=this.enhance();if(0!==d){for(n=0;n<o;n+=4)(e=a[n+0])<h?h=e:e>l&&(l=e),(i=a[n+1])<c?c=i:i>p&&(p=i),(r=a[n+2])<f?f=r:r>u&&(u=r);var g,m,v,y,_,b,w,x,S;for(l===h&&(l=255,h=0),p===c&&(p=255,c=0),u===f&&(u=255,f=0),d>0?(m=l+d*(255-l),v=h-d*(h-0),_=p+d*(255-p),b=c-d*(c-0),x=u+d*(255-u),S=f-d*(f-0)):(m=l+d*(l-(g=.5*(l+h))),v=h+d*(h-g),_=p+d*(p-(y=.5*(p+c))),b=c+d*(c-y),x=u+d*(u-(w=.5*(u+f))),S=f+d*(f-w)),n=0;n<o;n+=4)a[n+0]=s(a[n+0],h,l,v,m),a[n+1]=s(a[n+1],c,p,b,_),a[n+2]=s(a[n+2],f,u,S,x)}},r.Factory.addGetterSetter(n.Node,"enhance",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,i,r=t.data,n=r.length;for(e=0;e<n;e+=4)i=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=i,r[e+1]=i,r[e+2]=i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);r.Factory.addGetterSetter(n.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"luminance",0,a.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){var e,i,r,n,a,s=t.data,o=s.length,h=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=127*this.luminance(),p=1*h*Math.cos(l*Math.PI/180),f=1*h*Math.sin(l*Math.PI/180),u=.299+.701*p+.167*f,d=.587-.587*p+.33*f,g=.114-.114*p-.497*f,m=.299-.299*p-.328*f,v=.587+.413*p+.035*f,y=.114-.114*p+.293*f,_=.299-.3*p+1.25*f,b=.587-.586*p-1.05*f,w=.114+.886*p-.2*f;for(e=0;e<o;e+=4)i=s[e+0],r=s[e+1],n=s[e+2],a=s[e+3],s[e+0]=u*i+d*r+g*n+c,s[e+1]=m*i+v*r+y*n+c,s[e+2]=_*i+b*r+w*n+c,s[e+3]=a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.HSV=function(t){
var e,i,r,n,a,s=t.data,o=s.length,h=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,p=h*l*Math.cos(c*Math.PI/180),f=h*l*Math.sin(c*Math.PI/180),u=.299*h+.701*p+.167*f,d=.587*h-.587*p+.33*f,g=.114*h-.114*p-.497*f,m=.299*h-.299*p-.328*f,v=.587*h+.413*p+.035*f,y=.114*h-.114*p+.293*f,_=.299*h-.3*p+1.25*f,b=.587*h-.586*p-1.05*f,w=.114*h+.886*p-.2*f;for(e=0;e<o;e+=4)i=s[e+0],r=s[e+1],n=s[e+2],a=s[e+3],s[e+0]=u*i+d*r+g*n,s[e+1]=m*i+v*r+y*n,s[e+2]=_*i+b*r+w*n,s[e+3]=a},r.Factory.addGetterSetter(n.Node,"hue",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"value",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(181),s=i(180);e.Kaleidoscope=function(t){var e,i,r,n,s,o,h,l,c,p=t.width,f=t.height,u=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),g=Math.floor(p*(d%360)/360);if(!(u<1)){var m=a.Util.createCanvasElement();m.width=p,m.height=f;var v=m.getContext("2d").getImageData(0,0,p,f);!function(t,e,i){var r,n,a,s,o=t.data,h=e.data,l=t.width,c=t.height,p=i.polarCenterX||l/2,f=i.polarCenterY||c/2,u=0,d=0,g=0,m=0,v=Math.sqrt(p*p+f*f);n=l-p,a=c-f,v=(s=Math.sqrt(n*n+a*a))>v?s:v;var y,_,b,w,x=c,S=l,k=360/S*Math.PI/180;for(_=0;_<S;_+=1)for(b=Math.sin(_*k),w=Math.cos(_*k),y=0;y<x;y+=1)n=Math.floor(p+v*y/x*w),u=o[(r=4*((a=Math.floor(f+v*y/x*b))*l+n))+0],d=o[r+1],g=o[r+2],m=o[r+3],h[(r=4*(_+y*l))+0]=u,h[r+1]=d,h[r+2]=g,h[r+3]=m}(t,v,{polarCenterX:p/2,polarCenterY:f/2});for(var y=p/Math.pow(2,u);y<=8;)y*=2,u-=1;var _=y=Math.ceil(y),b=0,w=_,x=1;for(g+y>p&&(b=_,w=0,x=-1),i=0;i<f;i+=1)for(e=b;e!==w;e+=x)l=4*(p*i+Math.round(e+g)%p),n=v.data[l+0],s=v.data[l+1],o=v.data[l+2],h=v.data[l+3],c=4*(p*i+e),v.data[c+0]=n,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=h;for(i=0;i<f;i+=1)for(_=Math.floor(y),r=0;r<u;r+=1){for(e=0;e<_+1;e+=1)l=4*(p*i+e),n=v.data[l+0],s=v.data[l+1],o=v.data[l+2],h=v.data[l+3],c=4*(p*i+2*_-e-1),v.data[c+0]=n,v.data[c+1]=s,v.data[c+2]=o,v.data[c+3]=h;_*=2}!function(t,e,i){var r,n,a,s,o,h,l=t.data,c=e.data,p=t.width,f=t.height,u=i.polarCenterX||p/2,d=i.polarCenterY||f/2,g=0,m=0,v=0,y=0,_=Math.sqrt(u*u+d*d);n=p-u,a=f-d,_=(h=Math.sqrt(n*n+a*a))>_?h:_;var b,w,x,S=f,k=p,C=i.polarRotation||0;for(n=0;n<p;n+=1)for(a=0;a<f;a+=1)s=n-u,o=a-d,b=Math.sqrt(s*s+o*o)*S/_,w=(w=(180*Math.atan2(o,s)/Math.PI+360+C)%360)*k/360,x=Math.floor(w),g=l[(r=4*(Math.floor(b)*p+x))+0],m=l[r+1],v=l[r+2],y=l[r+3],c[(r=4*(a*p+n))+0]=g,c[r+1]=m,c[r+2]=v,c[r+3]=y}(v,t,{polarRotation:0})}},r.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,s.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);function s(t,e,i){var r=4*(i*t.width+e),n=[];return n.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),n}function o(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var i=s(t,0,0),r=s(t,t.width-1,0),n=s(t,0,t.height-1),a=s(t,t.width-1,t.height-1),h=e||10;if(o(i,r)<h&&o(r,a)<h&&o(a,n)<h&&o(n,i)<h){for(var l=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,i,a,n]),c=[],p=0;p<t.width*t.height;p++){var f=o(l,[t.data[4*p],t.data[4*p+1],t.data[4*p+2]]);c[p]=f<h?0:255}return c}}(t,this.threshold());return e&&function(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}(t,e=function(t,e,i){
for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,p=0;p<n;p++)for(var f=0;f<n;f++){var u=o+p-a,d=h+f-a;if(u>=0&&u<i&&d>=0&&d<e){var g=r[p*n+f];c+=t[u*e+d]*g}}s[l]=c}return s}(e=function(t,e,i){for(var r=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,p=0;p<n;p++)for(var f=0;f<n;f++){var u=o+p-a,d=h+f-a;if(u>=0&&u<i&&d>=0&&d<e){var g=r[p*n+f];c+=t[u*e+d]*g}}s[l]=c>=1020?255:0}return s}(e=function(t,e,i){for(var r=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var l=o*e+h,c=0,p=0;p<n;p++)for(var f=0;f<n;f++){var u=o+p-a,d=h+f-a;if(u>=0&&u<i&&d>=0&&d<e){var g=r[p*n+f];c+=t[u*e+d]*g}}s[l]=2040===c?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(n.Node,"threshold",0,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.Noise=function(t){var e,i=255*this.noise(),r=t.data,n=r.length,a=i/2;for(e=0;e<n;e+=4)r[e+0]+=a-2*a*Math.random(),r[e+1]+=a-2*a*Math.random(),r[e+2]+=a-2*a*Math.random()},r.Factory.addGetterSetter(n.Node,"noise",.2,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(181),a=i(183),s=i(180);e.Pixelate=function(t){var e,i,r,a,s,o,h,l,c,p,f,u,d,g,m=Math.ceil(this.pixelSize()),v=t.width,y=t.height,_=Math.ceil(v/m),b=Math.ceil(y/m),w=t.data;if(m<=0)n.Util.error("pixelSize value can not be <= 0");else for(u=0;u<_;u+=1)for(d=0;d<b;d+=1){for(a=0,s=0,o=0,h=0,c=(l=u*m)+m,f=(p=d*m)+m,g=0,e=l;e<c;e+=1)if(!(e>=v))for(i=p;i<f;i+=1)i>=y||(a+=w[(r=4*(v*i+e))+0],s+=w[r+1],o+=w[r+2],h+=w[r+3],g+=1);for(a/=g,s/=g,o/=g,h/=g,e=l;e<c;e+=1)if(!(e>=v))for(i=p;i<f;i+=1)i>=y||(w[(r=4*(v*i+e))+0]=a,w[r+1]=s,w[r+2]=o,w[r+3]=h)}},r.Factory.addGetterSetter(a.Node,"pixelSize",8,s.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,r=t.data,n=r.length,a=255/i;for(e=0;e<n;e+=1)r[e]=Math.floor(r[e]/a)*a},r.Factory.addGetterSetter(n.Node,"levels",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.RGB=function(t){var e,i,r=t.data,n=r.length,a=this.red(),s=this.green(),o=this.blue();for(e=0;e<n;e+=4)i=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=i*a,r[e+1]=i*s,r[e+2]=i*o,r[e+3]=r[e+3]},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.RGBA=function(t){var e,i,r=t.data,n=r.length,a=this.red(),s=this.green(),o=this.blue(),h=this.alpha();for(e=0;e<n;e+=4)i=1-h,r[e]=a*h+r[e]*i,r[e+1]=s*h+r[e+1]*i,r[e+2]=o*h+r[e+2]*i},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,a.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,i,r,n,a=t.data,s=a.length;for(e=0;e<s;e+=4)i=a[e+0],r=a[e+1],n=a[e+2],a[e+0]=Math.min(255,.393*i+.769*r+.189*n),a[e+1]=Math.min(255,.349*i+.686*r+.168*n),
a[e+2]=Math.min(255,.272*i+.534*r+.131*n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,i=t.width,r=4*i,n=t.height;do{var a=(n-1)*r,s=i;do{var o=a+4*(s-1),h=e[o],l=e[o+1],c=e[o+2];h>127&&(h=255-h),l>127&&(l=255-l),c>127&&(c=255-c),e[o]=h,e[o+1]=l,e[o+2]=c}while(--s)}while(--n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),n=i(183),a=i(180);e.Threshold=function(t){var e,i=255*this.threshold(),r=t.data,n=r.length;for(e=0;e<n;e+=1)r[e]=r[e]<i?0:255},r.Factory.addGetterSetter(n.Node,"threshold",.5,a.getNumberValidator(),r.Factory.afterSetFilter)},function(t,e,i){var r,n;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof navigator&&(n=window||{},void 0===(r=function(){return function(t){"use strict";var e,i="http://www.w3.org/2000/svg",r="",n=-999999,s=!0,o=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Math.round,Math.pow),h=Math.sqrt,l=(Math.abs,Math.floor),c=(Math.max,Math.min),p={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)p[e[t]]=Math[e[t]]})(),p.random=Math.random,p.abs=function(t){if("object"===a(t)&&t.length){var e,i=T(t.length),r=t.length;for(e=0;e<r;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var f=150,u=Math.PI/180;function d(t){t&&Math.round}function g(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function m(t,e){this.type=t,this.direction=e<0?-1:1}function v(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function y(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function _(t,e){this.type=t,this.target=e}d(!1);var b,w=(b=0,function(){return"__lottie_element_"+ ++b});function x(t,e,i){var r,n,a,s,o,h,l,c;switch(h=i*(1-e),l=i*(1-(o=6*t-(s=Math.floor(6*t)))*e),c=i*(1-(1-o)*e),s%6){case 0:r=i,n=c,a=h;break;case 1:r=l,n=i,a=h;break;case 2:r=h,n=i,a=c;break;case 3:r=h,n=l,a=i;break;case 4:r=c,n=h,a=i;break;case 5:r=i,n=h,a=l}return[r,n,a]}function S(t,e,i){var r,n=Math.max(t,e,i),a=Math.min(t,e,i),s=n-a,o=0===n?0:s/n,h=n/255;switch(n){case a:r=0;break;case t:r=e-i+s*(e<i?6:0),r/=6*s;break;case e:r=i-t+2*s,r/=6*s;break;case i:r=t-e+4*s,r/=6*s}return[r,o,h]}function k(t,e){var i=S(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),x(i[0],i[1],i[2])}function C(t,e){var i=S(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),x(i[0],i[1],i[2])}function P(t,e){var i=S(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),x(i[0],i[1],i[2])}var A=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1==e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+i[t]+i[e]+i[r]}}();function M(){}M.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t].length,r=0;r<i;r++)this._cbs[t][r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,r=this._cbs[t].length;i<r;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,r-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var F="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var i,r=0,n=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<e;r+=1)n.push(i);return n}
;function T(t){return Array.apply(null,{length:t})}function D(t){return document.createElementNS(i,t)}function E(t){return document.createElement(t)}function O(){}O.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var I,L=(I={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return I[t]||""}),R=function(){var t=Math.cos,e=Math.sin,i=Math.tan,r=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function s(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1)}function o(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1)}function h(i){if(0===i)return this;var r=t(i),n=e(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function c(t,e){return this.shear(i(t),i(e))}function p(r,n){var a=t(n),s=e(n);return this._t(a,s,0,0,-s,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(r),1,0,0,0,0,1,0,0,0,0,1)._t(a,-s,0,0,s,a,0,0,0,0,1,0,0,0,0,1)}function f(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function u(t,e,i,r,n,a,s,o,h,l,c,p,f,u,d,g){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=r,this.props[4]=n,this.props[5]=a,this.props[6]=s,this.props[7]=o,this.props[8]=h,this.props[9]=l,this.props[10]=c,this.props[11]=p,this.props[12]=f,this.props[13]=u,this.props[14]=d,this.props[15]=g,this}function d(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function g(t,e,i,r,n,a,s,o,h,l,c,p,f,u,d,g){var m=this.props;if(1===t&&0===e&&0===i&&0===r&&0===n&&1===a&&0===s&&0===o&&0===h&&0===l&&1===c&&0===p)return m[12]=m[12]*t+m[15]*f,m[13]=m[13]*a+m[15]*u,m[14]=m[14]*c+m[15]*d,m[15]=m[15]*g,this._identityCalculated=!1,this;var v=m[0],y=m[1],_=m[2],b=m[3],w=m[4],x=m[5],S=m[6],k=m[7],C=m[8],P=m[9],A=m[10],M=m[11],F=m[12],T=m[13],D=m[14],E=m[15];return m[0]=v*t+y*n+_*h+b*f,m[1]=v*e+y*a+_*l+b*u,m[2]=v*i+y*s+_*c+b*d,m[3]=v*r+y*o+_*p+b*g,m[4]=w*t+x*n+S*h+k*f,m[5]=w*e+x*a+S*l+k*u,m[6]=w*i+x*s+S*c+k*d,m[7]=w*r+x*o+S*p+k*g,m[8]=C*t+P*n+A*h+M*f,m[9]=C*e+P*a+A*l+M*u,m[10]=C*i+P*s+A*c+M*d,m[11]=C*r+P*o+A*p+M*g,m[12]=F*t+T*n+D*h+E*f,m[13]=F*e+T*a+D*l+E*u,m[14]=F*i+T*s+D*c+E*d,m[15]=F*r+T*o+D*p+E*g,this._identityCalculated=!1,this}function m(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function y(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function w(t,e,i){
return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function x(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function S(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function k(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,a=this.props[0]/e,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*i+t[1]*n+s,t[0]*r+t[1]*a+o,0]}function C(t){var e,i=t.length,r=[];for(e=0;e<i;e+=1)r[e]=k(t[e]);return r}function P(t,e,i){var r=F("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=i[0],r[5]=i[1];else{var n=this.props[0],a=this.props[1],s=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];r[0]=t[0]*n+t[1]*s+h,r[1]=t[0]*a+t[1]*o+l,r[2]=e[0]*n+e[1]*s+h,r[3]=e[0]*a+e[1]*o+l,r[4]=i[0]*n+i[1]*s+h,r[5]=i[0]*a+i[1]*o+l}return r}function A(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function M(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function T(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=r(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?r(1e4*t)/1e4:t}function E(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=n,this.rotate=a,this.rotateX=s,this.rotateY=o,this.rotateZ=h,this.skew=c,this.skewFromAxis=p,this.shear=l,this.scale=f,this.setTransform=u,this.translate=d,this.transform=g,this.applyToPoint=b,this.applyToX=w,this.applyToY=x,this.applyToZ=S,this.applyToPointArray=A,this.applyToTriplePoints=P,this.applyToPointStringified=M,this.toCSS=T,this.to2dCSS=E,this.clone=y,this.cloneFromProps=_,this.equals=v,this.inversePoints=C,this.inversePoint=k,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=F("float32",16),this.reset()}}();!function(t,e){var i,r=this,n=256,s=6,o="random",h=e.pow(n,s),l=e.pow(2,52),c=2*l,p=n-1;function f(t){var e,i=t.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];for(i||(t=[i++]);a<n;)o[a]=a++;for(a=0;a<n;a++)o[a]=o[s=p&s+t[a%i]+(e=o[a])],o[s]=e;r.g=function(t){for(var e,i=0,a=r.i,s=r.j,o=r.S;t--;)e=o[a=p&a+1],i=i*n+o[p&(o[a]=o[s=p&s+e])+(o[s]=e)];return r.i=a,r.j=s,i}}function u(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){for(var i,r=t+"",n=0;n<r.length;)e[p&n]=p&(i^=19*e[p&n])+r.charCodeAt(n++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}e["seed"+o]=function(p,m,v){var y=[],_=d(function t(e,i){var r,n=[],s=a(e);if(i&&"object"==s)for(r in e)try{n.push(t(e[r],i-1))}catch(t){}return n.length?n:"string"==s?e:e+"\0"}((m=!0===m?{entropy:!0}:m||{}).entropy?[p,g(t)]:null===p?function(){try{if(i)return g(i.randomBytes(n));var e=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(e),g(e)}catch(e){var a=r.navigator,s=a&&a.plugins;return[+new Date,r,s,r.screen,g(t)]}}():p,3),y),b=new f(y),w=function(){for(var t=b.g(s),e=h,i=0;t<l;)t=(t+i)*n,e*=n,i=b.g(1);for(;t>=c;)t/=2,e/=2,i>>>=1;return(t+i)/e};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,d(g(b.S),t),(m.pass||v||function(t,i,r,n){return n&&(n.S&&u(n,b),t.state=function(){return u(b,{})}),r?(e[o]=t,i):t})(w,_,"global"in m?m.global:this==e,m.state)},d(e.random(),t)}([],p);var G=function(){var t={getBezierEasing:function(t,i,r,n,a){var s=a||("bez_"+t+"_"+i+"_"+r+"_"+n).replace(/\./g,"p");if(e[s])return e[s];var o=new u([t,i,r,n]);return e[s]=o,o}},e={},i=4,r=1e-7,n=10,a=11,s=1/(a-1),o="function"==typeof Float32Array;function h(t,e){return 1-3*e+3*t}function l(t,e){return 3*e-6*t}function c(t){return 3*t}function p(t,e,i){
return((h(e,i)*t+l(e,i))*t+c(e))*t}function f(t,e,i){return 3*h(e,i)*t*t+2*l(e,i)*t+c(e)}function u(t){this._p=t,this._mSampleValues=o?new Float32Array(a):new Array(a),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(t){var e=this._p[0],i=this._p[1],r=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===i&&r===n?t:0===t?0:1===t?1:p(this._getTForX(t),i,n)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&i===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<a;++i)this._mSampleValues[i]=p(i*s,t,e)},_getTForX:function(t){for(var e=this._p[0],o=this._p[2],h=this._mSampleValues,l=0,c=1,u=a-1;c!==u&&h[c]<=t;++c)l+=s;var d=l+(t-h[--c])/(h[c+1]-h[c])*s,g=f(d,e,o);return g>=.001?function(t,e,r,n){for(var a=0;a<i;++a){var s=f(e,r,n);if(0===s)return e;e-=(p(e,r,n)-t)/s}return e}(t,d,e,o):0===g?d:function(t,e,i,a,s){var o,h,l=0;do{(o=p(h=e+(i-e)/2,a,s)-t)>0?i=h:e=h}while(Math.abs(o)>r&&++l<n);return h}(t,l,l+s,e,o)}},t}();function N(t,e){var i,r,n=t.length;for(i=0;i<n;i+=1)for(var a in r=t[i].prototype)r.hasOwnProperty(a)&&(e.prototype[a]=r[a])}function z(t){function e(){}return e.prototype=t,e}!function(){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),a=setTimeout((function(){t(r+n)}),n);return e=r+n,a}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var B=function(){function t(t,e,i,r,n,a){var s=t*r+e*n+i*a-n*r-a*t-i*e;return s>-.001&&s<.001}Math;var e=function(t,e,i,r){var n,a,s,l,c,p,u=f,d=0,g=[],m=[],v=_t.newElement();for(s=i.length,n=0;n<u;n+=1){for(c=n/(u-1),p=0,a=0;a<s;a+=1)l=o(1-c,3)*t[a]+3*o(1-c,2)*c*i[a]+3*(1-c)*o(c,2)*r[a]+o(c,3)*e[a],g[a]=l,null!==m[a]&&(p+=o(g[a]-m[a],2)),m[a]=g[a];p&&(d+=p=h(p)),v.percents[n]=c,v.lengths[n]=d}return v.addedLength=d,v};function i(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var n,a=(n={},function(e,a,s,l){var c=(e[0]+"_"+e[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]+"_"+l[0]+"_"+l[1]).replace(/\./g,"p");if(!n[c]){var p,u,d,g,m,v,y,_=f,b=0,w=null;2===e.length&&(e[0]!=a[0]||e[1]!=a[1])&&t(e[0],e[1],a[0],a[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],a[0],a[1],a[0]+l[0],a[1]+l[1])&&(_=2);var x=new i(_);for(d=s.length,p=0;p<_;p+=1){for(y=T(d),m=p/(_-1),v=0,u=0;u<d;u+=1)g=o(1-m,3)*e[u]+3*o(1-m,2)*m*(e[u]+s[u])+3*(1-m)*o(m,2)*(a[u]+l[u])+o(m,3)*a[u],y[u]=g,null!==w&&(v+=o(y[u]-w[u],2));b+=v=h(v),x.points[p]=new r(v,y),w=y}x.segmentLength=b,n[c]=x}return n[c]});function s(t,e){var i=e.percents,r=e.lengths,n=i.length,a=l((n-1)*t),s=t*e.addedLength,o=0;if(a===n-1||0===a||s===r[a])return i[a];for(var h=r[a]>s?-1:1,c=!0;c;)if(r[a]<=s&&r[a+1]>s?(o=(s-r[a])/(r[a+1]-r[a]),c=!1):a+=h,a<0||a>=n-1){if(a===n-1)return i[a];c=!1}return i[a]+(i[a+1]-i[a])*o}var c=F("float32",8);return{getSegmentsLength:function(t){var i,r=yt.newElement(),n=t.c,a=t.v,s=t.o,o=t.i,h=t._length,l=r.lengths,c=0;for(i=0;i<h-1;i+=1)l[i]=e(a[i],a[i+1],s[i],o[i+1]),c+=l[i].addedLength;return n&&h&&(l[i]=e(a[i],a[0],s[i],o[0]),c+=l[i].addedLength),r.totalLength=c,r},getNewSegment:function(t,e,i,r,n,a,o){var h,l=s(n=n<0?0:n>1?1:n,o),p=s(a=a>1?1:a,o),f=t.length,u=1-l,d=1-p,g=u*u*u,m=l*u*u*3,v=l*l*u*3,y=l*l*l,_=u*u*d,b=l*u*d+u*l*d+u*u*p,w=l*l*d+u*l*p+l*u*p,x=l*l*p,S=u*d*d,k=l*d*d+u*p*d+u*d*p,C=l*p*d+u*p*p+l*d*p,P=l*p*p,A=d*d*d,M=p*d*d+d*p*d+d*d*p,F=p*p*d+d*p*p+p*d*p,T=p*p*p;for(h=0;h<f;h+=1)c[4*h]=Math.round(1e3*(g*t[h]+m*i[h]+v*r[h]+y*e[h]))/1e3,c[4*h+1]=Math.round(1e3*(_*t[h]+b*i[h]+w*r[h]+x*e[h]))/1e3,c[4*h+2]=Math.round(1e3*(S*t[h]+k*i[h]+C*r[h]+P*e[h]))/1e3,c[4*h+3]=Math.round(1e3*(A*t[h]+M*i[h]+F*r[h]+T*e[h]))/1e3;return c},getPointInSegment:function(t,e,i,r,n,a){var o=s(n,a),h=1-o
;return[Math.round(1e3*(h*h*h*t[0]+(o*h*h+h*o*h+h*h*o)*i[0]+(o*o*h+h*o*o+o*h*o)*r[0]+o*o*o*e[0]))/1e3,Math.round(1e3*(h*h*h*t[1]+(o*h*h+h*o*h+h*h*o)*i[1]+(o*o*h+h*o*o+o*h*o)*r[1]+o*o*o*e[1]))/1e3]},buildBezierData:a,pointOnLine2D:t,pointOnLine3D:function(e,i,r,n,a,s,o,h,l){if(0===r&&0===s&&0===l)return t(e,i,n,a,o,h);var c,p=Math.sqrt(Math.pow(n-e,2)+Math.pow(a-i,2)+Math.pow(s-r,2)),f=Math.sqrt(Math.pow(o-e,2)+Math.pow(h-i,2)+Math.pow(l-r,2)),u=Math.sqrt(Math.pow(o-n,2)+Math.pow(h-a,2)+Math.pow(l-s,2));return(c=p>f?p>u?p-f-u:u-f-p:u>f?u-f-p:f-p-u)>-1e-4&&c<1e-4}}}(),V=function(){function t(t,e){for(var i=0,r=e.length;i<r;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}}function e(t){var r,n,a;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty)if(t[r].ks.k.i)i(t[r].ks.k);else for(a=t[r].ks.k.length,n=0;n<a;n+=1)t[r].ks.k[n].s&&i(t[r].ks.k[n].s[0]),t[r].ks.k[n].e&&i(t[r].ks.k[n].e[0]);else"gr"==t[r].ty&&e(t[r].it)}function i(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&void 0))}var n,a=function(){var t=[4,4,14];function e(t){var e,i,r,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(i=t[e],r=void 0,r=i.t.d,i.t.d={k:[{s:r,t:0}]})}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,a=i.assets.length;for(n=0;n<a;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),s=(n=[4,7,99],function(t){if(t.chars&&!r(n,t.v)){var e,a,s,o,h,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(s=(h=t.chars[e].data.shapes[0].it).length,a=0;a<s;a+=1)(o=h[a].ks.k).__converted||(i(h[a].ks.k),o.__converted=!0)}}),o=function(){var t=[4,1,9];function e(t){var i,r,n,a=t.length;for(i=0;i<a;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(n=t[i].c.k.length,r=0;r<n;r+=1)t[i].c.k[r].s&&(t[i].c.k[r].s[0]/=255,t[i].c.k[r].s[1]/=255,t[i].c.k[r].s[2]/=255,t[i].c.k[r].s[3]/=255),t[i].c.k[r].e&&(t[i].c.k[r].e[0]/=255,t[i].c.k[r].e[1]/=255,t[i].c.k[r].e[2]/=255,t[i].c.k[r].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,r=t.length;for(i=0;i<r;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var i,r,n;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(n=t[i].ks.k.length,r=0;r<n;r+=1)t[i].ks.k[r].s&&(t[i].ks.k[r].s[0].c=t[i].closed),t[i].ks.k[r].e&&(t[i].ks.k[r].e[0].c=t[i].closed);else"gr"==t[i].ty&&e(t[i].it)}function i(t){var i,r,n,a,s,o,h=t.length;for(r=0;r<h;r+=1){if((i=t[r]).hasMask){var l=i.masksProperties;for(a=l.length,n=0;n<a;n+=1)if(l[n].pt.k.i)l[n].pt.k.c=l[n].cl;else for(o=l[n].pt.k.length,s=0;s<o;s+=1)l[n].pt.k[s].s&&(l[n].pt.k[s].s[0].c=l[n].cl),l[n].pt.k[s].e&&(l[n].pt.k[s].e[0].c=l[n].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,a=e.assets.length;for(n=0;n<a;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}();var l={completeData:function(r,n){r.__complete||(o(r),a(r),s(r),h(r),function r(n,a,s){var o,h,l,c,p,f,u,d=n.length;for(h=0;h<d;h+=1)if("ks"in(o=n[h])&&!o.completed){if(o.completed=!0,o.tt&&(n[h-1].td=o.tt),o.hasMask){var g=o.masksProperties;for(c=g.length,l=0;l<c;l+=1)if(g[l].pt.k.i)i(g[l].pt.k);else for(f=g[l].pt.k.length,p=0;p<f;p+=1)g[l].pt.k[p].s&&i(g[l].pt.k[p].s[0]),g[l].pt.k[p].e&&i(g[l].pt.k[p].e[0])}0===o.ty?(o.layers=t(o.refId,a),r(o.layers,a,s)):4===o.ty?e(o.shapes):5==o.ty&&(0!==(u=o).t.a.length||"m"in u.t.p||(u.singleShape=!0))}}(r.layers,r.assets,n),r.__complete=!0)}};return l}(),U=function(){var t=5e3,e={w:0,size:0,shapes:[]},i=[];function r(t,e){var i=E("span");i.style.fontFamily=e;var r=E("span");r.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",
i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var n=r.offsetWidth;return r.style.fontFamily=t+", "+e,{node:r,w:n,parent:i}}function n(t,e){var i=D("text");return i.style.fontSize="100px",i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",e.fStyle),i.setAttribute("font-weight",e.fWeight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),E("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var a=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return a.getCombinedCharacterCodes=function(){return i},a.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,i,r,n=t.length,a=this.chars.length;for(e=0;e<n;e+=1){for(i=0,r=!1;i<a;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(r=!0),i+=1;r||(this.chars.push(t[e]),a+=1)}}},a.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var i,a=t.list,s=a.length,o=s;for(i=0;i<s;i+=1){var h,l,c=!0;if(a[i].loaded=!1,a[i].monoCase=r(a[i].fFamily,"monospace"),a[i].sansCase=r(a[i].fFamily,"sans-serif"),a[i].fPath){if("p"===a[i].fOrigin||3===a[i].origin){if((h=document.querySelectorAll('style[f-forigin="p"][f-family="'+a[i].fFamily+'"], style[f-origin="3"][f-family="'+a[i].fFamily+'"]')).length>0&&(c=!1),c){var p=E("style");p.setAttribute("f-forigin",a[i].fOrigin),p.setAttribute("f-origin",a[i].origin),p.setAttribute("f-family",a[i].fFamily),p.type="text/css",p.innerHTML="@font-face {font-family: "+a[i].fFamily+"; font-style: normal; src: url('"+a[i].fPath+"');}",e.appendChild(p)}}else if("g"===a[i].fOrigin||1===a[i].origin){for(h=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<h.length;l++)-1!==h[l].href.indexOf(a[i].fPath)&&(c=!1);if(c){var f=E("link");f.setAttribute("f-forigin",a[i].fOrigin),f.setAttribute("f-origin",a[i].origin),f.type="text/css",f.rel="stylesheet",f.href=a[i].fPath,document.body.appendChild(f)}}else if("t"===a[i].fOrigin||2===a[i].origin){for(h=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<h.length;l++)a[i].fPath===h[l].src&&(c=!1);if(c){var u=E("link");u.setAttribute("f-forigin",a[i].fOrigin),u.setAttribute("f-origin",a[i].origin),u.setAttribute("rel","stylesheet"),u.setAttribute("href",a[i].fPath),e.appendChild(u)}}}else a[i].loaded=!0,o-=1;a[i].helper=n(e,a[i]),a[i].cache={},this.fonts.push(a[i])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},a.prototype.getCharData=function(t,i,r){for(var n=0,a=this.chars.length;n<a;){if(this.chars[n].ch===t&&this.chars[n].style===i&&this.chars[n].fFamily===r)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",t,i,r),e},a.prototype.getFontByName=function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},a.prototype.measureText=function(t,e,i){var r=this.getFontByName(e),n=t.charCodeAt(0);if(!r.cache[n+1]){var a=r.helper;if(" "===t){a.textContent="|"+t+"|";var s=a.getComputedTextLength();a.textContent="||";var o=a.getComputedTextLength();r.cache[n+1]=(s-o)/100}else a.textContent=t,r.cache[n+1]=a.getComputedTextLength()/100}return r.cache[n+1]*i},a.prototype.checkLoadedFonts=function(){var e,i,r,n=this.fonts.length,a=n;for(e=0;e<n;e+=1)this.fonts[e].loaded?a-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(i=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,
i.offsetWidth!==r?(a-=1,this.fonts[e].loaded=!0):(i=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,i.offsetWidth!==r&&(a-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==a&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},a.prototype.loaded=function(){return this.isLoaded},a}(),j=function(){var t=n,e=Math.abs;function i(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=F("float32",this.pv.length));for(var a,s,o,h,l,c,p,f,d=e.lastIndex,g=d,m=this.keyframes.length-1,v=!0;v;){if(a=this.keyframes[g],s=this.keyframes[g+1],g===m-1&&t>=s.t-n){a.h&&(a=s),d=0;break}if(s.t-n>t){d=g;break}g<m-1?g+=1:(d=0,v=!1)}var y,_,b,w,x,S,k,C,P,A,M,T,D,E,O,I,L,R,N=s.t-n,z=a.t-n;if(a.to){a.bezierData||(a.bezierData=B.buildBezierData(a.s,s.s||a.e,a.to,a.ti));var V=a.bezierData;if(t>=N||t<z){var U=t>=N?V.points.length-1:0;for(h=V.points[U].point.length,o=0;o<h;o+=1)i[o]=V.points[U].point[o]}else{a.__fnct?f=a.__fnct:(f=G.getBezierEasing(a.o.x,a.o.y,a.i.x,a.i.y,a.n).get,a.__fnct=f),l=f((t-z)/(N-z));var j,W=V.segmentLength*l,H=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastAddedLength:0;for(p=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastPoint:0,v=!0,c=V.points.length;v;){if(H+=V.points[p].partialLength,0===W||0===l||p===V.points.length-1){for(h=V.points[p].point.length,o=0;o<h;o+=1)i[o]=V.points[p].point[o];break}if(W>=H&&W<H+V.points[p+1].partialLength){for(j=(W-H)/V.points[p+1].partialLength,h=V.points[p].point.length,o=0;o<h;o+=1)i[o]=V.points[p].point[o]+(V.points[p+1].point[o]-V.points[p].point[o])*j;break}p<c-1?p+=1:v=!1}e._lastPoint=p,e._lastAddedLength=H-V.points[p].partialLength,e._lastKeyframeIndex=g}}else{var Y,X,K,q,Z;if(m=a.s.length,y=s.s||a.e,this.sh&&1!==a.h)t>=N?(i[0]=y[0],i[1]=y[1],i[2]=y[2]):t<=z?(i[0]=a.s[0],i[1]=a.s[1],i[2]=a.s[2]):function(t,e){var i=e[0],r=e[1],n=e[2],a=e[3],s=Math.atan2(2*r*a-2*i*n,1-2*r*r-2*n*n),o=Math.asin(2*i*r+2*n*a),h=Math.atan2(2*i*a-2*r*n,1-2*i*i-2*n*n);t[0]=s/u,t[1]=o/u,t[2]=h/u}(i,(_=r(a.s),b=r(y),w=(t-z)/(N-z),A=[],M=_[0],T=_[1],D=_[2],E=_[3],O=b[0],I=b[1],L=b[2],R=b[3],(S=M*O+T*I+D*L+E*R)<0&&(S=-S,O=-O,I=-I,L=-L,R=-R),1-S>1e-6?(x=Math.acos(S),k=Math.sin(x),C=Math.sin((1-w)*x)/k,P=Math.sin(w*x)/k):(C=1-w,P=w),A[0]=C*M+P*O,A[1]=C*T+P*I,A[2]=C*D+P*L,A[3]=C*E+P*R,A));else for(g=0;g<m;g+=1)1!==a.h&&(t>=N?l=1:t<z?l=0:(a.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[g]?f=a.__fnct[g]:(Y=void 0===a.o.x[g]?a.o.x[0]:a.o.x[g],X=void 0===a.o.y[g]?a.o.y[0]:a.o.y[g],K=void 0===a.i.x[g]?a.i.x[0]:a.i.x[g],q=void 0===a.i.y[g]?a.i.y[0]:a.i.y[g],f=G.getBezierEasing(Y,X,K,q).get,a.__fnct[g]=f)):a.__fnct?f=a.__fnct:(Y=a.o.x,X=a.o.y,K=a.i.x,q=a.i.y,f=G.getBezierEasing(Y,X,K,q).get,a.__fnct=f),l=f((t-z)/(N-z)))),y=s.s||a.e,Z=1===a.h?a.s[g]:a.s[g]+(y[g]-a.s[g])*l,1===m?i=Z:i[g]=Z}return e.lastIndex=d,i}function r(t){var e=t[0]*u,i=t[1]*u,r=t[2]*u,n=Math.cos(e/2),a=Math.cos(i/2),s=Math.cos(r/2),o=Math.sin(e/2),h=Math.sin(i/2),l=Math.sin(r/2);return[o*h*s+n*a*l,o*a*s+n*h*l,n*h*s-o*a*l,n*a*s-o*h*l]}function a(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<i&&e<i))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function s(t){var i;if("unidimensional"===this.propType)i=t*this.mult,e(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)i=t[r]*this.mult,e(this.v[r]-i)>1e-5&&(this.v[r]=i,this._mdf=!0),r+=1}function o(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,
this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function h(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.addEffect=h}function c(t,e,i,r){this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,a=e.k.length;for(this.v=F("float32",a),this.pv=F("float32",a),F("float32",a),this.vel=F("float32",a),n=0;n<a;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=o,this.setVValue=s,this.addEffect=h}function p(e,r,n,l){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=n||1,this.elem=e,this.container=l,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=o,this.setVValue=s,this.interpolateValue=i,this.effectsSequence=[a.bind(this)],this.addEffect=h}function f(e,r,n,l){this.propType="multidimensional";var c,p,f,u,d,g=r.k.length;for(c=0;c<g-1;c+=1)r.k[c].to&&r.k[c].s&&r.k[c].e&&(p=r.k[c].s,f=r.k[c].e,u=r.k[c].to,d=r.k[c].ti,(2===p.length&&(p[0]!==f[0]||p[1]!==f[1])&&B.pointOnLine2D(p[0],p[1],f[0],f[1],p[0]+u[0],p[1]+u[1])&&B.pointOnLine2D(p[0],p[1],f[0],f[1],f[0]+d[0],f[1]+d[1])||3===p.length&&(p[0]!==f[0]||p[1]!==f[1]||p[2]!==f[2])&&B.pointOnLine3D(p[0],p[1],p[2],f[0],f[1],f[2],p[0]+u[0],p[1]+u[1],p[2]+u[2])&&B.pointOnLine3D(p[0],p[1],p[2],f[0],f[1],f[2],f[0]+d[0],f[1]+d[1],f[2]+d[2]))&&(r.k[c].to=null,r.k[c].ti=null),p[0]===f[0]&&p[1]===f[1]&&0===u[0]&&0===u[1]&&0===d[0]&&0===d[1]&&(2===p.length||p[2]===f[2]&&0===u[2]&&0===d[2])&&(r.k[c].to=null,r.k[c].ti=null));this.effectsSequence=[a.bind(this)],this.keyframes=r.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=e,this.container=l,this.comp=e.comp,this.getValue=o,this.setVValue=s,this.interpolateValue=i,this.frameId=-1;var m=r.k[0].s.length;for(this.v=F("float32",m),this.pv=F("float32",m),c=0;c<m;c+=1)this.v[c]=t,this.pv[c]=t;this._caching={lastFrame:t,lastIndex:0,value:F("float32",m)},this.addEffect=h}return{getProp:function(t,e,i,r,n){var a;if(e.k.length)if("number"==typeof e.k[0])a=new c(t,e,r,n);else switch(i){case 0:a=new p(t,e,r,n);break;case 1:a=new f(t,e,r,n)}else a=new l(t,e,r,n);return a.effectsSequence.length&&n.addDynamicProperty(a),a}}}(),W=function(){function t(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new R,this.pre=new R,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=j.getProp(t,e.p.x,0,0,this),this.py=j.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=j.getProp(t,e.p.z,0,0,this))):this.p=j.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=j.getProp(t,e.rx,0,u,this),this.ry=j.getProp(t,e.ry,0,u,this),this.rz=j.getProp(t,e.rz,0,u,this),e.or.k[0].ti){var r,n=e.or.k.length;for(r=0;r<n;r+=1)e.or.k[r].to=e.or.k[r].ti=null}this.or=j.getProp(t,e.or,1,u,this),this.or.sh=!0}else this.r=j.getProp(t,e.r||{k:0},0,u,this);e.sk&&(this.sk=j.getProp(t,e.sk,0,u,this),this.sa=j.getProp(t,e.sa,0,u,this)),this.a=j.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=j.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=j.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),
this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,i,r=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/r,0)):(e=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],i=[];var n=this.px,a=this.py;n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(e[0]=n.getValueAtTime((n.keyframes[0].t+.01)/r,0),e[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),i[0]=n.getValueAtTime(n.keyframes[0].t/r,0),i[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(e[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/r,0),e[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),i[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/r,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(e=[n.pv,a.pv],i[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/r,n.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}this.v.rotate(-Math.atan2(e[1]-i[1],e[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},N([O],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=O.prototype.addDynamicProperty,{getTransformProperty:function(e,i,r){return new t(e,i,r)}}}();function H(){this.c=!1,this._length=0,this._maxLength=8,
this.v=T(this._maxLength),this.o=T(this._maxLength),this.i=T(this._maxLength)}H.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=gt.newElement(),this.o[i]=gt.newElement(),this.i[i]=gt.newElement(),i+=1},H.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},H.prototype.doubleArrayLength=function(){this.v=this.v.concat(T(this._maxLength)),this.i=this.i.concat(T(this._maxLength)),this.o=this.o.concat(T(this._maxLength)),this._maxLength*=2},H.prototype.setXYAt=function(t,e,i,r,n){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[r]||a[r]&&!n)&&(a[r]=gt.newElement()),a[r][0]=t,a[r][1]=e},H.prototype.setTripleAt=function(t,e,i,r,n,a,s,o){this.setXYAt(t,e,"v",s,o),this.setXYAt(i,r,"o",s,o),this.setXYAt(n,a,"i",s,o)},H.prototype.reverse=function(){var t=new H;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),n=1);var a,s=this._length-1,o=this._length;for(a=n;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],r[s][0],r[s][1],i[s][0],i[s][1],a,!1),s-=1;return t};var Y,X,K=function(){var t=-999999;function e(t,e,i){var r,n,a,s,o,h,l,c,p,f=i.lastIndex,u=this.keyframes;if(t<u[0].t-this.offsetTime)r=u[0].s[0],a=!0,f=0;else if(t>=u[u.length-1].t-this.offsetTime)r=u[u.length-1].s?u[u.length-1].s[0]:u[u.length-2].e[0],a=!0;else{for(var d,g,m=f,v=u.length-1,y=!0;y&&(d=u[m],!((g=u[m+1]).t-this.offsetTime>t));)m<v-1?m+=1:y=!1;if(f=m,!(a=1===d.h)){if(t>=g.t-this.offsetTime)c=1;else if(t<d.t-this.offsetTime)c=0;else{var _;d.__fnct?_=d.__fnct:(_=G.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=_),c=_((t-(d.t-this.offsetTime))/(g.t-this.offsetTime-(d.t-this.offsetTime)))}n=g.s?g.s[0]:d.e[0]}r=d.s[0]}for(h=e._length,l=r.i[0].length,i.lastIndex=f,s=0;s<h;s+=1)for(o=0;o<l;o+=1)p=a?r.i[s][o]:r.i[s][o]+(n.i[s][o]-r.i[s][o])*c,e.i[s][o]=p,p=a?r.o[s][o]:r.o[s][o]+(n.o[s][o]-r.o[s][o])*c,e.o[s][o]=p,p=a?r.v[s][o]:r.v[s][o]+(n.v[s][o]-r.v[s][o])*c,e.v[s][o]=p}function i(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<i&&e<i||n>r&&e>r)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function r(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,r=t._length;for(i=0;i<r;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0})(this.v,t)||(this.v=mt.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===i?e.pt.k:e.ks.k;this.v=mt.clone(n),this.pv=mt.clone(this.v),this.localShapeCollection=vt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function h(e,n,a){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===a?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=mt.newElement(),
this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=mt.clone(this.v),this.localShapeCollection=vt.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}s.prototype.interpolateShape=e,s.prototype.getValue=a,s.prototype.setVValue=n,s.prototype.addEffect=o,h.prototype.getValue=a,h.prototype.interpolateShape=e,h.prototype.setVValue=n,h.prototype.addEffect=o;var l=function(){function t(t,e){this.v=mt.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=vt.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=j.getProp(t,e.p,1,0,this),this.s=j.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=e-r,a.v[1][0]=n?t+i:t-i,a.v[1][1]=e,a.v[2][0]=t,a.v[2][1]=e+r,a.v[3][0]=n?t-i:t+i,a.v[3][1]=e,a.i[0][0]=n?t-.5519*i:t+.5519*i,a.i[0][1]=e-r,a.i[1][0]=n?t+i:t-i,a.i[1][1]=e-.5519*r,a.i[2][0]=n?t+.5519*i:t-.5519*i,a.i[2][1]=e+r,a.i[3][0]=n?t-i:t+i,a.i[3][1]=e+.5519*r,a.o[0][0]=n?t+.5519*i:t-.5519*i,a.o[0][1]=e-r,a.o[1][0]=n?t+i:t-i,a.o[1][1]=e+.5519*r,a.o[2][0]=n?t-.5519*i:t+.5519*i,a.o[2][1]=e+r,a.o[3][0]=n?t-i:t+i,a.o[3][1]=e-.5519*r}},N([O],t),t}(),p=function(){function t(t,e){this.v=mt.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=j.getProp(t,e.ir,0,0,this),this.is=j.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=j.getProp(t,e.pt,0,0,this),this.p=j.getProp(t,e.p,1,0,this),this.r=j.getProp(t,e.r,0,u,this),this.or=j.getProp(t,e.or,0,0,this),this.os=j.getProp(t,e.os,0,.01,this),this.localShapeCollection=vt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,r,n=2*Math.floor(this.pt.v),a=2*Math.PI/n,s=!0,o=this.or.v,h=this.ir.v,l=this.os.v,c=this.is.v,p=2*Math.PI*o/(2*n),f=2*Math.PI*h/(2*n),u=-Math.PI/2;u+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){i=s?l:c,r=s?p:f;var g=(e=s?o:h)*Math.cos(u),m=e*Math.sin(u),v=0===g&&0===m?0:m/Math.sqrt(g*g+m*m),y=0===g&&0===m?0:-g/Math.sqrt(g*g+m*m);g+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(g,m,g-v*r*i*d,m-y*r*i*d,g+v*r*i*d,m+y*r*i*d,t,!0),s=!s,u+=a*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,r=this.or.v,n=this.os.v,a=2*Math.PI*r/(4*e),s=-Math.PI/2,o=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var h=r*Math.cos(s),l=r*Math.sin(s),c=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),p=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-c*a*n*o,l-p*a*n*o,h+c*a*n*o,l+p*a*n*o,t,!0),s+=i*o}this.paths.length=0,this.paths[0]=this.v}},N([O],t),t}(),f=function(){function t(t,e){this.v=mt.newElement(),this.v.c=!0,this.localShapeCollection=vt.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=j.getProp(t,e.p,1,0,this),this.s=j.getProp(t,e.s,1,0,this),this.r=j.getProp(t,e.r,0,0,this),
this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=c(i,r,this.r.v),a=n*(1-.5519);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+n,t+i,e-r+a,0,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-a,t+i,e+r-n,1,!0),0!==n?(this.v.setTripleAt(t+i-n,e+r,t+i-n,e+r,t+i-a,e+r,2,!0),this.v.setTripleAt(t-i+n,e+r,t-i+a,e+r,t-i+n,e+r,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-n,t-i,e+r-a,4,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+a,t-i,e-r+n,5,!0),this.v.setTripleAt(t-i+n,e-r,t-i+n,e-r,t-i+a,e-r,6,!0),this.v.setTripleAt(t+i-n,e-r,t+i-a,e-r,t+i-n,e-r,7,!0)):(this.v.setTripleAt(t-i,e+r,t-i+a,e+r,t-i,e+r,2),this.v.setTripleAt(t-i,e-r,t-i,e-r+a,t-i,e-r,3))):(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+a,t+i,e-r+n,0,!0),0!==n?(this.v.setTripleAt(t+i-n,e-r,t+i-n,e-r,t+i-a,e-r,1,!0),this.v.setTripleAt(t-i+n,e-r,t-i+a,e-r,t-i+n,e-r,2,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+n,t-i,e-r+a,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-a,t-i,e+r-n,4,!0),this.v.setTripleAt(t-i+n,e+r,t-i+n,e+r,t-i+a,e+r,5,!0),this.v.setTripleAt(t+i-n,e+r,t+i-a,e+r,t+i-n,e+r,6,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-n,t+i,e+r-a,7,!0)):(this.v.setTripleAt(t-i,e-r,t-i+a,e-r,t-i,e-r,1,!0),this.v.setTripleAt(t-i,e+r,t-i,e+r-a,t-i,e+r,2,!0),this.v.setTripleAt(t+i,e+r,t+i-a,e+r,t+i,e+r,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},N([O],t),t}(),d={getShapeProp:function(t,e,i){var r;return 3===i||4===i?r=(3===i?e.pt:e.ks).k.length?new h(t,e,i):new s(t,e,i):5===i?r=new f(t,e):6===i?r=new l(t,e):7===i&&(r=new p(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return h}};return d}(),q=(X={},(Y={}).registerModifier=function(t,e){X[t]||(X[t]=e)},Y.getModifier=function(t,e,i){return new X[t](e,i)},Y);function Z(){}function J(){}function Q(){}function $(){}function tt(){this._length=0,this._maxLength=4,this.shapes=T(this._maxLength)}function et(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=T(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=F("float32",e.length?e.length-1:0),this.dashoffset=F("float32",1),this.initDynamicPropertyContainer(r);var n,a,s=e.length||0;for(n=0;n<s;n+=1)a=j.getProp(t,e[n].v,0,0,this),this.k=a.k||this.k,this.dataProps[n]={n:e[n].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function it(t,e,i){this.data=e,this.c=F("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=F("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=j.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}Z.prototype.initModifierProperties=function(){},Z.prototype.addShapeToModifier=function(){},Z.prototype.addShape=function(t){if(!this.closed){var e={shape:t.sh,data:t,localShapeCollection:vt.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},Z.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=n,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},Z.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},N([O],Z),N([Z],J),J.prototype.initModifierProperties=function(t,e){this.s=j.getProp(t,e.s,0,.01,this),this.e=j.getProp(t,e.e,0,.01,this),this.o=j.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},J.prototype.addShapeToModifier=function(t){t.pathsData=[]},J.prototype.calculateShapeEdges=function(t,e,i,r,n){var a=[]
;e<=1?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var s,o,h=[],l=a.length;for(s=0;s<l;s+=1){var c,p;(o=a[s]).e*n<r||o.s*n>r+i||(c=o.s*n<=r?0:(o.s*n-r)/i,p=o.e*n>=r+i?1:(o.e*n-r)/i,h.push([c,p]))}return h.length||h.push([0,0]),h},J.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)yt.release(t[e]);return t.length=0,t},J.prototype.processShapes=function(t){var e,i,r;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+n)>(i=(this.e.v>1?1:this.e.v<0?0:this.e.v)+n)){var a=e;e=i,i=a}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var s,o,h,l,c,p,f=this.shapes.length,u=0;if(i===e)for(s=0;s<f;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection;else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(s=0;s<f;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var d,g,m=[];for(s=0;s<f;s+=1)if((d=this.shapes[s]).shape._mdf||this._mdf||t||2===this.m){if(h=(r=d.shape.paths)._length,p=0,!d.shape._mdf&&d.pathsData.length)p=d.totalShapeLength;else{for(l=this.releasePathsData(d.pathsData),o=0;o<h;o+=1)c=B.getSegmentsLength(r.shapes[o]),l.push(c),p+=c.totalLength;d.totalShapeLength=p,d.pathsData=l}u+=p,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var v,y=e,_=i,b=0;for(s=f-1;s>=0;s-=1)if((d=this.shapes[s]).shape._mdf){for((g=d.localShapeCollection).releaseShapes(),2===this.m&&f>1?(v=this.calculateShapeEdges(e,i,d.totalShapeLength,b,u),b+=d.totalShapeLength):v=[[y,_]],h=v.length,o=0;o<h;o+=1){y=v[o][0],_=v[o][1],m.length=0,_<=1?m.push({s:d.totalShapeLength*y,e:d.totalShapeLength*_}):y>=1?m.push({s:d.totalShapeLength*(y-1),e:d.totalShapeLength*(_-1)}):(m.push({s:d.totalShapeLength*y,e:d.totalShapeLength}),m.push({s:0,e:d.totalShapeLength*(_-1)}));var w=this.addShapes(d,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(d.shape.paths.shapes[d.shape.paths._length-1].c){var x=w.pop();this.addPaths(w,g),w=this.addShapes(d,m[1],x)}else this.addPaths(w,g),w=this.addShapes(d,m[1]);this.addPaths(w,g)}}d.shape.paths=g}}},J.prototype.addPaths=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)e.addShape(t[i])},J.prototype.addSegment=function(t,e,i,r,n,a,s){n.setXYAt(e[0],e[1],"o",a),n.setXYAt(i[0],i[1],"i",a+1),s&&n.setXYAt(t[0],t[1],"v",a),n.setXYAt(r[0],r[1],"v",a+1)},J.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},J.prototype.addShapes=function(t,e,i){var r,n,a,s,o,h,l,c,p=t.pathsData,f=t.shape.paths.shapes,u=t.shape.paths._length,d=0,g=[],m=!0;for(i?(o=i._length,c=i._length):(i=mt.newElement(),o=0,c=0),g.push(i),r=0;r<u;r+=1){for(h=p[r].lengths,i.c=f[r].c,a=f[r].c?h.length:h.length+1,n=1;n<a;n+=1)if(d+(s=h[n-1]).addedLength<e.s)d+=s.addedLength,i.c=!1;else{if(d>e.e){i.c=!1;break}e.s<=d&&e.e>=d+s.addedLength?(this.addSegment(f[r].v[n-1],f[r].o[n-1],f[r].i[n],f[r].v[n],i,o,m),m=!1):(l=B.getNewSegment(f[r].v[n-1],f[r].v[n],f[r].o[n-1],f[r].i[n],(e.s-d)/s.addedLength,(e.e-d)/s.addedLength,h[n-1]),this.addSegmentFromArray(l,i,o,m),m=!1,i.c=!1),d+=s.addedLength,o+=1}if(f[r].c&&h.length){if(s=h[n-1],d<=e.e){var v=h[n-1].addedLength;e.s<=d&&e.e>=d+v?(this.addSegment(f[r].v[n-1],f[r].o[n-1],f[r].i[0],f[r].v[0],i,o,m),m=!1):(l=B.getNewSegment(f[r].v[n-1],f[r].v[0],f[r].o[n-1],f[r].i[0],(e.s-d)/v,(e.e-d)/v,h[n-1]),this.addSegmentFromArray(l,i,o,m),m=!1,i.c=!1)}else i.c=!1;d+=s.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[c][0],i.v[c][1],"i",c),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),d>e.e)break;r<u-1&&(i=mt.newElement(),m=!0,g.push(i),o=0)}return g},q.registerModifier("tm",J),N([Z],Q),Q.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=j.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},Q.prototype.processPath=function(t,e){var i=mt.newElement();i.c=t.c
;var r,n,a,s,o,h,l,c,p,f,u,d,g,m=t._length,v=0;for(r=0;r<m;r+=1)n=t.v[r],s=t.o[r],a=t.i[r],n[0]===s[0]&&n[1]===s[1]&&n[0]===a[0]&&n[1]===a[1]?0!==r&&r!==m-1||t.c?(o=0===r?t.v[m-1]:t.v[r-1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=d=n[0]+(o[0]-n[0])*l,p=g=n[1]-(n[1]-o[1])*l,f=c-.5519*(c-n[0]),u=p-.5519*(p-n[1]),i.setTripleAt(c,p,f,u,d,g,v),v+=1,o=r===m-1?t.v[0]:t.v[r+1],l=(h=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(h/2,e)/h:0,c=f=n[0]+(o[0]-n[0])*l,p=u=n[1]+(o[1]-n[1])*l,d=c-.5519*(c-n[0]),g=p-.5519*(p-n[1]),i.setTripleAt(c,p,f,u,d,g,v),v+=1):(i.setTripleAt(n[0],n[1],s[0],s[1],a[0],a[1],v),v+=1):(i.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],v),v+=1);return i},Q.prototype.processShapes=function(t){var e,i,r,n,a,s,o=this.shapes.length,h=this.rd.v;if(0!==h)for(i=0;i<o;i+=1){if((a=this.shapes[i]).shape.paths,s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,n=a.shape.paths._length,r=0;r<n;r+=1)s.addShape(this.processPath(e[r],h));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},q.registerModifier("rd",Q),N([Z],$),$.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=j.getProp(t,e.c,0,null,this),this.o=j.getProp(t,e.o,0,null,this),this.tr=W.getTransformProperty(t,e.tr,this),this.so=j.getProp(t,e.tr.so,0,.01,this),this.eo=j.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new R,this.rMatrix=new R,this.sMatrix=new R,this.tMatrix=new R,this.matrix=new R},$.prototype.applyTransforms=function(t,e,i,r,n,a){var s=a?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-n),h=r.s.v[1]+(1-r.s.v[1])*(1-n);t.translate(r.p.v[0]*s*n,r.p.v[1]*s*n,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*s*n),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(a?1/o:o,a?1/h:h),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},$.prototype.init=function(t,e,i,r){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},$.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},$.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},$.prototype.changeGroupRender=function(t,e){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},$.prototype.processShapes=function(t){var e,i,r,n,a;if(this._mdf||t){var s,o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes()}for(a=0,r=0;r<=this._groups.length-1;r+=1)s=a<o,this._groups[r]._render=s,this.changeGroupRender(this._groups[r].it,s),a+=1;this._currentCopies=o;var l=this.o.v,c=l%1,p=l>0?Math.floor(l):Math.ceil(l),f=(this.tr.v.props,this.pMatrix.props),u=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var g,m,v=0;if(l>0){for(;v<p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),v+=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),v+=c)}else if(l<0){for(;v>p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),v-=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),v-=c)}
for(r=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,a=this._currentCopies;a;){if(m=(i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==v){for((0!==r&&1===n||r!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),g=0;g<m;g+=1)i[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<m;g+=1)i[g]=this.matrix.props[g];v+=1,a-=1,r+=n}}else for(a=this._currentCopies,r=0,n=1;a;)i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,r+=n},$.prototype.addShape=function(){},q.registerModifier("rp",$),tt.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(T(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},tt.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)mt.release(this.shapes[t]);this._length=0},et.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},N([O],et),it.prototype.comparePoints=function(t,e){for(var i=0,r=this.o.length/2;i<r;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},it.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},it.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,r,n=4*this.data.p;for(e=0;e<n;e+=1)i=e%4==0?100:255,r=Math.round(this.prop.v[e]*i),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)i=e%2==0?100:1,r=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},N([O],it);var rt=function(t,e,i,r){if(0===e)return"";var n,a=t.o,s=t.i,o=t.v,h=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<e;n+=1)h+=" C"+r.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+r.applyToPointStringified(s[n][0],s[n][1])+" "+r.applyToPointStringified(o[n][0],o[n][1]);return i&&e&&(h+=" C"+r.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),h+="z"),h},nt=function(){var t=function(){var t=E("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(e){var i=function(t,e,i){var r="";if(t.e)r=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),r=e+n}else r=i,r+=t.u?t.u:"",r+=t.p;return r}(e,this.assetsPath,this.path),r=E("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded.bind(this),!1),r.addEventListener("error",function(){n.img=t,this._imageLoaded()}.bind(this),!1),r.src=i;var n={img:r,assetData:e};return n}function r(t,e){this.imagesLoadedCb=e;var i,r=t.length
;for(i=0;i<r;i+=1)t[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[i])))}function n(t){this.path=t||""}function a(t){this.assetsPath=t||""}function s(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function o(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=r,this.setAssetsPath=a,this.setPath=n,this.loaded=h,this.destroy=o,this.getImage=s,this._createImageData=i,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),at=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),st=function(){var t={createFilter:function(t){var e=D("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=D("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),ot=function(){function t(t){return t.response&&"object"===a(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,i,r){var n,a=new XMLHttpRequest;a.open("GET",e,!0);try{a.responseType="json"}catch(t){}a.send(),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)n=t(a),i(n);else try{n=t(a),i(n)}catch(t){r&&r(t)}}}}}();function ht(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=T(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function lt(t,e,i){var r={propType:!1},n=j.getProp,a=e.a;this.a={r:a.r?n(t,a.r,0,u,i):r,rx:a.rx?n(t,a.rx,0,u,i):r,ry:a.ry?n(t,a.ry,0,u,i):r,sk:a.sk?n(t,a.sk,0,u,i):r,sa:a.sa?n(t,a.sa,0,u,i):r,s:a.s?n(t,a.s,1,.01,i):r,a:a.a?n(t,a.a,1,0,i):r,o:a.o?n(t,a.o,0,.01,i):r,p:a.p?n(t,a.p,1,0,i):r,sw:a.sw?n(t,a.sw,0,0,i):r,sc:a.sc?n(t,a.sc,1,0,i):r,fc:a.fc?n(t,a.fc,1,0,i):r,fh:a.fh?n(t,a.fh,0,0,i):r,fs:a.fs?n(t,a.fs,0,.01,i):r,fb:a.fb?n(t,a.fb,0,.01,i):r,t:a.t?n(t,a.t,0,0,i):r},this.s=ft.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function ct(t,e,i,r,n,a){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=n,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}function pt(t,e){this._frameId=n,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}ht.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,r=j.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new lt(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},ht.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,
this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,n,a,s,o,h,l,c,p,f,u,d,g,m,v,y,_,b,w=this._moreOptions.alignment.v,x=this._animatorsData,S=this._textData,A=this.mHelper,M=this._renderType,F=this.renderedLetters.length,T=(this.data,t.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var D,E=b.v;for(this._pathData.r&&(E=E.reverse()),s={tLength:0,segments:[]},a=E._length-1,v=0,n=0;n<a;n+=1)D=B.buildBezierData(E.v[n],E.v[n+1],[E.o[n][0]-E.v[n][0],E.o[n][1]-E.v[n][1]],[E.i[n+1][0]-E.v[n+1][0],E.i[n+1][1]-E.v[n+1][1]]),s.tLength+=D.segmentLength,s.segments.push(D),v+=D.segmentLength;n=a,b.v.c&&(D=B.buildBezierData(E.v[n],E.v[0],[E.o[n][0]-E.v[n][0],E.o[n][1]-E.v[n][1]],[E.i[0][0]-E.v[0][0],E.i[0][1]-E.v[0][1]]),s.tLength+=D.segmentLength,s.segments.push(D),v+=D.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,o=this._pathData.f.v,f=0,p=1,l=0,c=!0,g=s.segments,o<0&&b.v.c)for(s.tLength<Math.abs(o)&&(o=-Math.abs(o)%s.tLength),p=(d=g[f=g.length-1].points).length-1;o<0;)o+=d[p].partialLength,(p-=1)<0&&(p=(d=g[f-=1].points).length-1);u=(d=g[f].points)[p-1],m=(h=d[p]).partialLength}a=T.length,i=0,r=0;var O,I,L,R,G=1.2*t.finalSize*.714,N=!0;L=x.length;var z,V,U,j,W,H,Y,X,K,q,Z,J,Q,$=-1,tt=o,et=f,it=p,rt=-1,nt="",at=this.defaultPropsArray;if(2===t.j||1===t.j){var st=0,ot=0,ht=2===t.j?-.5:-1,lt=0,pt=!0;for(n=0;n<a;n+=1)if(T[n].n){for(st&&(st+=ot);lt<n;)T[lt].animatorJustifyOffset=st,lt+=1;st=0,pt=!0}else{for(I=0;I<L;I+=1)(O=x[I].a).t.propType&&(pt&&2===t.j&&(ot+=O.t.v*ht),(z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars)).length?st+=O.t.v*z[0]*ht:st+=O.t.v*z*ht);pt=!1}for(st&&(st+=ot);lt<n;)T[lt].animatorJustifyOffset=st,lt+=1}for(n=0;n<a;n+=1){if(A.reset(),W=1,T[n].n)i=0,r+=t.yOffset,r+=N?1:0,o=tt,N=!1,this._hasMaskedPath&&(p=it,u=(d=g[f=et].points)[p-1],m=(h=d[p]).partialLength,l=0),Q=q=J=nt="",at=this.defaultPropsArray;else{if(this._hasMaskedPath){if(rt!==T[n].line){switch(t.j){case 1:o+=v-t.lineWidths[T[n].line];break;case 2:o+=(v-t.lineWidths[T[n].line])/2}rt=T[n].line}$!==T[n].ind&&(T[$]&&(o+=T[$].extra),o+=T[n].an/2,$=T[n].ind),o+=w[0]*T[n].an/200;var ft=0;for(I=0;I<L;I+=1)(O=x[I].a).p.propType&&((z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars)).length?ft+=O.p.v[0]*z[0]:ft+=O.p.v[0]*z),O.a.propType&&((z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars)).length?ft+=O.a.v[0]*z[0]:ft+=O.a.v[0]*z);for(c=!0;c;)l+m>=o+ft||!d?(y=(o+ft-l)/h.partialLength,U=u.point[0]+(h.point[0]-u.point[0])*y,j=u.point[1]+(h.point[1]-u.point[1])*y,A.translate(-w[0]*T[n].an/200,-w[1]*G/100),c=!1):d&&(l+=h.partialLength,(p+=1)>=d.length&&(p=0,g[f+=1]?d=g[f].points:b.v.c?(p=0,d=g[f=0].points):(l-=h.partialLength,d=null)),d&&(u=h,m=(h=d[p]).partialLength));V=T[n].an/2-T[n].add,A.translate(-V,0,0)}else V=T[n].an/2-T[n].add,A.translate(-V,0,0),A.translate(-w[0]*T[n].an/200,-w[1]*G/100,0);for(T[n].l,I=0;I<L;I+=1)(O=x[I].a).t.propType&&(z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?z.length?o+=O.t.v*z[0]:o+=O.t.v*z:z.length?i+=O.t.v*z[0]:i+=O.t.v*z));for(T[n].l,t.strokeWidthAnim&&(Y=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(X=[t.fc[0],t.fc[1],t.fc[2]]),I=0;I<L;I+=1)(O=x[I].a).a.propType&&((z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars)).length?A.translate(-O.a.v[0]*z[0],-O.a.v[1]*z[1],O.a.v[2]*z[2]):A.translate(-O.a.v[0]*z,-O.a.v[1]*z,O.a.v[2]*z));for(I=0;I<L;I+=1)(O=x[I].a).s.propType&&((z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars)).length?A.scale(1+(O.s.v[0]-1)*z[0],1+(O.s.v[1]-1)*z[1],1):A.scale(1+(O.s.v[0]-1)*z,1+(O.s.v[1]-1)*z,1));for(I=0;I<L;I+=1){if(O=x[I].a,z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars),O.sk.propType&&(z.length?A.skewFromAxis(-O.sk.v*z[0],O.sa.v*z[1]):A.skewFromAxis(-O.sk.v*z,O.sa.v*z)),O.r.propType&&(z.length?A.rotateZ(-O.r.v*z[2]):A.rotateZ(-O.r.v*z)),O.ry.propType&&(z.length?A.rotateY(O.ry.v*z[1]):A.rotateY(O.ry.v*z)),
O.rx.propType&&(z.length?A.rotateX(O.rx.v*z[0]):A.rotateX(O.rx.v*z)),O.o.propType&&(z.length?W+=(O.o.v*z[0]-W)*z[0]:W+=(O.o.v*z-W)*z),t.strokeWidthAnim&&O.sw.propType&&(z.length?Y+=O.sw.v*z[0]:Y+=O.sw.v*z),t.strokeColorAnim&&O.sc.propType)for(K=0;K<3;K+=1)z.length?H[K]=H[K]+(O.sc.v[K]-H[K])*z[0]:H[K]=H[K]+(O.sc.v[K]-H[K])*z;if(t.fillColorAnim&&t.fc){if(O.fc.propType)for(K=0;K<3;K+=1)z.length?X[K]=X[K]+(O.fc.v[K]-X[K])*z[0]:X[K]=X[K]+(O.fc.v[K]-X[K])*z;O.fh.propType&&(X=z.length?P(X,O.fh.v*z[0]):P(X,O.fh.v*z)),O.fs.propType&&(X=z.length?k(X,O.fs.v*z[0]):k(X,O.fs.v*z)),O.fb.propType&&(X=z.length?C(X,O.fb.v*z[0]):C(X,O.fb.v*z))}}for(I=0;I<L;I+=1)(O=x[I].a).p.propType&&(z=x[I].s.getMult(T[n].anIndexes[I],S.a[I].s.totalChars),this._hasMaskedPath?z.length?A.translate(0,O.p.v[1]*z[0],-O.p.v[2]*z[1]):A.translate(0,O.p.v[1]*z,-O.p.v[2]*z):z.length?A.translate(O.p.v[0]*z[0],O.p.v[1]*z[1],-O.p.v[2]*z[2]):A.translate(O.p.v[0]*z,O.p.v[1]*z,-O.p.v[2]*z));if(t.strokeWidthAnim&&(q=Y<0?0:Y),t.strokeColorAnim&&(Z="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(J="rgb("+Math.round(255*X[0])+","+Math.round(255*X[1])+","+Math.round(255*X[2])+")"),this._hasMaskedPath){if(A.translate(0,-t.ls),A.translate(0,w[1]*G/100+r,0),S.p.p){_=(h.point[1]-u.point[1])/(h.point[0]-u.point[0]);var ut=180*Math.atan(_)/Math.PI;h.point[0]<u.point[0]&&(ut+=180),A.rotate(-ut*Math.PI/180)}A.translate(U,j,0),o-=w[0]*T[n].an/200,T[n+1]&&$!==T[n+1].ind&&(o+=T[n].an/2,o+=t.tr/1e3*t.finalSize)}else{switch(A.translate(i,r,0),t.ps&&A.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:A.translate(T[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[n].line]),0,0);break;case 2:A.translate(T[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[n].line])/2,0,0)}A.translate(0,-t.ls),A.translate(V,0,0),A.translate(w[0]*T[n].an/200,w[1]*G/100,0),i+=T[n].l+t.tr/1e3*t.finalSize}"html"===M?nt=A.toCSS():"svg"===M?nt=A.to2dCSS():at=[A.props[0],A.props[1],A.props[2],A.props[3],A.props[4],A.props[5],A.props[6],A.props[7],A.props[8],A.props[9],A.props[10],A.props[11],A.props[12],A.props[13],A.props[14],A.props[15]],Q=W}F<=n?(R=new ct(Q,q,Z,J,nt,at),this.renderedLetters.push(R),F+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[n],this.lettersChangedFlag=R.update(Q,q,Z,J,nt,at)||this.lettersChangedFlag)}}},ht.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},ht.prototype.mHelper=new R,ht.prototype.defaultPropsArray=[],N([O],ht),ct.prototype.update=function(t,e,i,r,n,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,s=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,s=!0),s},pt.prototype.defaultBoxWidth=[0,0],pt.prototype.copyData=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},pt.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},pt.prototype.searchProperty=function(){return this.searchKeyframes()},pt.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},pt.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},pt.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1
;var r,n=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(r=0;r<n;r+=1)a=i!==this.keysIndex?this.effectsSequence[r](a,a.t):this.effectsSequence[r](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},pt.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,r=t.length;i<=r-1&&(t[i].s,!(i===r-1||t[i+1].t>e));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},pt.prototype.buildFinalText=function(t){for(var e,i=U.getCombinedCharacterCodes(),r=[],n=0,a=t.length;n<a;)e=t.charCodeAt(n),-1!==i.indexOf(e)?r[r.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(r.push(t.substr(n,2)),++n):r.push(t.charAt(n)),n+=1;return r},pt.prototype.completeTextData=function(t){t.__complete=!0;var e,i,r,n,a,s,o,h=this.elem.globalData.fontManager,l=this.data,c=[],p=0,f=l.m.g,u=0,d=0,g=0,m=[],v=0,y=0,_=h.getFontByName(t.f),b=0,w=_.fStyle?_.fStyle.split(" "):[],x="normal",S="normal";for(i=w.length,e=0;e<i;e+=1)switch(w[e].toLowerCase()){case"italic":S="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";break;case"light":case"thin":x="200"}t.fWeight=_.fWeight||x,t.fStyle=S,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var k,C=t.tr/1e3*t.finalSize;if(t.sz)for(var P,A,M=!0,F=t.sz[0],T=t.sz[1];M;){P=0,v=0,i=(A=this.buildFinalText(t.t)).length,C=t.tr/1e3*t.finalSize;var D=-1;for(e=0;e<i;e+=1)k=A[e].charCodeAt(0),r=!1," "===A[e]?D=e:13!==k&&3!==k||(v=0,r=!0,P+=t.finalLineHeight||1.2*t.finalSize),h.chars?(o=h.getCharData(A[e],_.fStyle,_.fFamily),b=r?0:o.w*t.finalSize/100):b=h.measureText(A[e],t.f,t.finalSize),v+b>F&&" "!==A[e]?(-1===D?i+=1:e=D,P+=t.finalLineHeight||1.2*t.finalSize,A.splice(e,D===e?1:0,"\r"),D=-1,v=0):(v+=b,v+=C);P+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&T<P?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=A,i=t.finalText.length,M=!1)}v=-C,b=0;var E,O=0;for(e=0;e<i;e+=1)if(r=!1,k=(E=t.finalText[e]).charCodeAt(0)," "===E?n=" ":13===k||3===k?(O=0,m.push(v),y=v>y?v:y,v=-2*C,n="",r=!0,g+=1):n=t.finalText[e],h.chars?(o=h.getCharData(E,_.fStyle,h.getFontByName(t.f).fFamily),b=r?0:o.w*t.finalSize/100):b=h.measureText(n,t.f,t.finalSize)," "===E?O+=b+C:(v+=b+C+O,O=0),c.push({l:b,an:b,add:u,n:r,anIndexes:[],val:n,line:g,animatorJustifyOffset:0}),2==f){if(u+=b,""===n||" "===n||e===i-1){for(""!==n&&" "!==n||(u-=b);d<=e;)c[d].an=u,c[d].ind=p,c[d].extra=b,d+=1;p+=1,u=0}}else if(3==f){if(u+=b,""===n||e===i-1){for(""===n&&(u-=b);d<=e;)c[d].an=u,c[d].ind=p,c[d].extra=b,d+=1;u=0,p+=1}}else c[p].ind=p,c[p].extra=0,p+=1;if(t.l=c,y=v>y?v:y,m.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=y,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=m;var I,L,R=l.a;s=R.length;var G,N,z=[];for(a=0;a<s;a+=1){for((I=R[a]).a.sc&&(t.strokeColorAnim=!0),I.a.sw&&(t.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(t.fillColorAnim=!0),N=0,G=I.s.b,e=0;e<i;e+=1)(L=c[e]).anIndexes[a]=N,(1==G&&""!==L.val||2==G&&""!==L.val&&" "!==L.val||3==G&&(L.n||" "==L.val||e==i-1)||4==G&&(L.n||e==i-1))&&(1===I.s.rn&&z.push(N),N+=1);l.a[a].s.totalChars=N;var B,V=-1;if(1===I.s.rn)for(e=0;e<i;e+=1)V!=(L=c[e]).anIndexes[a]&&(V=L.anIndexes[a],B=z.splice(Math.floor(Math.random()*z.length),1)[0]),L.anIndexes[a]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},pt.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},pt.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},pt.prototype.canResizeFont=function(t){
this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},pt.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var ft=function(){var t=Math.max,e=Math.min,i=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=j.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?j.getProp(t,e.e,0,0,this):{v:100},this.o=j.getProp(t,e.o||{k:0},0,0,this),this.xe=j.getProp(t,e.xe||{k:0},0,0,this),this.ne=j.getProp(t,e.ne||{k:0},0,0,this),this.a=j.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=G.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,a=0,s=this.finalS,o=this.finalE,h=this.data.sh;if(2==h)a=n(a=o===s?r>=o?1:0:t(0,e(.5/(o-s)+(r-s)/(o-s),1)));else if(3==h)a=n(a=o===s?r>=o?0:1:1-t(0,e(.5/(o-s)+(r-s)/(o-s),1)));else if(4==h)o===s?a=0:(a=t(0,e(.5/(o-s)+(r-s)/(o-s),1)))<.5?a*=2:a=1-2*(a-.5),a=n(a);else if(5==h){if(o===s)a=0;else{var l=o-s,c=-l/2+(r=e(t(0,r+.5-s),o-s)),p=l/2;a=Math.sqrt(1-c*c/(p*p))}a=n(a)}else 6==h?(o===s?a=0:(r=e(t(0,r+.5-s),o-s),a=(1+Math.cos(Math.PI+2*Math.PI*r/(o-s)))/2),a=n(a)):(r>=i(s)&&(a=r-s<0?1-(s-r):t(0,e(o-r,1))),a=n(a));return a*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,r=this.s.v/e+i,n=this.e.v/e+i;if(r>n){var a=r;r=n,n=a}this.finalS=r,this.finalE=n}},N([O],r),{getTextSelectorProp:function(t,e,i){return new r(t,e,i)}}}(),ut=function(t,e,i,r){var n=0,a=t,s=T(a);function o(){return n?s[n-=1]:e()}return{newElement:o,release:function(t){n===a&&(s=dt.double(s),a*=2),i&&i(t),s[n]=t,n+=1}}},dt={double:function(t){return t.concat(T(t.length))}},gt=ut(8,(function(){return F("float32",2)})),mt=function(){var t=ut(4,(function(){return new H}),(function(t){var e,i=t._length;for(e=0;e<i;e+=1)gt.release(t.v[e]),gt.release(t.i[e]),gt.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}));return t.clone=function(e){var i,r=t.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,i=0;i<n;i+=1)r.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],i);return r},t}(),vt=function(){var t={newShapeCollection:function(){return e?r[e-=1]:new tt},release:function(t){var n,a=t._length;for(n=0;n<a;n+=1)mt.release(t.shapes[n]);t._length=0,e===i&&(r=dt.double(r),i*=2),r[e]=t,e+=1}},e=0,i=4,r=T(i);return t}(),yt=ut(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)_t.release(t.lengths[e]);t.lengths.length=0})),_t=ut(8,(function(){return{addedLength:0,percents:F("float32",f),lengths:F("float32",f)}}));function bt(){}function wt(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=D("svg");var i="";if(e&&e.title){var r=D("title"),n=w();r.setAttribute("id",n),r.textContent=e.title,this.svgElement.appendChild(r),i+=n}if(e&&e.description){var a=D("desc"),s=w();a.setAttribute("id",s),a.textContent=e.description,this.svgElement.appendChild(a),i+=" "+s}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=D("defs");this.svgElement.appendChild(o);var h=D("g");this.svgElement.appendChild(h),this.layerElement=h,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],
this.destroyed=!1,this.rendererType="svg"}function xt(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,a=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=T(s),this.solidPath="";var o,h,l,c,p,f,u,d=this.masksProperties,g=0,m=[],v=w(),y="clipPath",_="clip-path";for(n=0;n<s;n++)if(("a"!==d[n].mode&&"n"!==d[n].mode||d[n].inv||100!==d[n].o.k||d[n].o.x)&&(y="mask",_="mask"),"s"!=d[n].mode&&"i"!=d[n].mode||0!==g?c=null:((c=D("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),o=D("path"),"n"!=d[n].mode){var b;if(g+=1,o.setAttribute("fill","s"===d[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==d[n].x.k?(y="mask",_="mask",u=j.getProp(this.element,d[n].x,0,null,this.element),b=w(),(p=D("filter")).setAttribute("id",b),(f=D("feMorphology")).setAttribute("operator","erode"),f.setAttribute("in","SourceGraphic"),f.setAttribute("radius","0"),p.appendChild(f),a.appendChild(p),o.setAttribute("stroke","s"===d[n].mode?"#000000":"#ffffff")):(f=null,u=null),this.storedData[n]={elem:o,x:u,expan:f,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"==d[n].mode){l=m.length;var x=D("g");for(h=0;h<l;h+=1)x.appendChild(m[h]);var S=D("mask");S.setAttribute("mask-type","alpha"),S.setAttribute("id",v+"_"+g),S.appendChild(o),a.appendChild(S),x.setAttribute("mask","url("+r+"#"+v+"_"+g+")"),m.length=0,m.push(x)}else m.push(o);d[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:j.getProp(this.element,d[n].o,0,.01,this.element),prop:K.getShapeProp(this.element,d[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(d[n],this.viewData[n].prop.v,this.viewData[n])}else this.viewData[n]={op:j.getProp(this.element,d[n].o,0,.01,this.element),prop:K.getShapeProp(this.element,d[n],3),elem:o,lastPath:""},a.appendChild(o);for(this.maskElement=D(y),s=m.length,n=0;n<s;n+=1)this.maskElement.appendChild(m[n]);g>0&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(_,"url("+r+"#"+v+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function St(){}function kt(){}function Ct(){}function Pt(){}function At(){}function Mt(t,e){this.elem=t,this.pos=e}function Ft(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=D("path"),this.msElem=null}function Tt(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,n=t.length;r<n;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function Dt(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function Et(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=j.getProp(t,e.o,0,.01,this),this.w=j.getProp(t,e.w,0,null,this),this.d=new et(t,e.d||{},"svg",this),this.c=j.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function Ot(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=j.getProp(t,e.o,0,.01,this),this.c=j.getProp(t,e.c,1,255,this),this.style=i}function It(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function Lt(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=j.getProp(t,e.w,0,null,this),this.d=new et(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function Rt(){this.it=[],this.prevViewData=[],this.gr=D("g")}bt.prototype.checkLayers=function(t){var e,i,r=this.layers.length;for(this.completeLayers=!0,
e=r-1;e>=0;e--)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},bt.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},bt.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},bt.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},bt.prototype.includeLayers=function(t){this.completeLayers=!1;var e,i,r=t.length,n=this.layers.length;for(e=0;e<r;e+=1)for(i=0;i<n;){if(this.layers[i].id==t[e].id){this.layers[i]=t[e];break}i+=1}},bt.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},bt.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},bt.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,n=this.layers,a=0,s=n.length;a<s;)n[a].ind==e&&(r[a]&&!0!==r[a]?(i.push(r[a]),r[a].setAsParent(),void 0!==n[a].parent?this.buildElementParenting(t,n[a].parent,i):t.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(t))),a+=1},bt.prototype.addPendingElement=function(t){this.pendingElements.push(t)},bt.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},bt.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new U,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},N([bt],wt),wt.prototype.createNull=function(t){return new zt(t,this.globalData,this)},wt.prototype.createShape=function(t){return new Kt(t,this.globalData,this)},wt.prototype.createText=function(t){return new Xt(t,this.globalData,this)},wt.prototype.createImage=function(t){return new Wt(t,this.globalData,this)},wt.prototype.createComp=function(t){return new Yt(t,this.globalData,this)},wt.prototype.createSolid=function(t){return new Ht(t,this.globalData,this)},wt.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=D("clipPath"),n=D("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var a=w();i.setAttribute("id",a),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+r+"#"+a+")"),e.appendChild(i),this.layers=t.layers,this.elements=T(t.layers.length)},wt.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0
;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},wt.prototype.updateContainerSize=function(){},wt.prototype.buildItem=function(t){var i=this.elements;if(!i[t]&&99!=this.layers[t].ty){i[t]=!0;var r=this.createItem(this.layers[t]);i[t]=r,e&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(i[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},wt.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},wt.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},wt.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var r,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(i,r):this.layerElement.appendChild(i)}},wt.prototype.hide=function(){this.layerElement.style.display="none"},wt.prototype.show=function(){this.layerElement.style.display="block"},xt.prototype.getMaskProperty=function(t){return this.viewData[t].prop},xt.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-i.props[12]),this.viewData[e].invRect.setAttribute("y",-i.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var a=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+r+"#"+this.storedData[e].filterId+")")),a.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},xt.prototype.getMaskelement=function(){return this.maskElement},xt.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},xt.prototype.drawPath=function(t,e,i){var r,n,a=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,r=1;r<n;r+=1)a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&n>1&&(a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==a){var s="";i.elem&&(e.c&&(s=t.inv?this.solidPath+a:a),i.elem.setAttribute("d",s)),i.lastPath=a}},xt.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},St.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){
void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},kt.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,r=this.dynamicProperties.length;for(i=0;i<r;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},Ct.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?W.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new R},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;var n,a,s=e.length;for(n=0;n<s;n+=1)a=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},mHelper:new R},Pt.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},N([Pt,z({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],At),Ft.prototype.reset=function(){this.d="",
this._mdf=!1},Tt.prototype.setAsAnimated=function(){this._isAnimated=!0},N([O],Et),N([O],Ot),It.prototype.initGradientData=function(t,e,i){this.o=j.getProp(t,e.o,0,.01,this),this.s=j.getProp(t,e.s,1,null,this),this.e=j.getProp(t,e.e,1,null,this),this.h=j.getProp(t,e.h||{k:0},0,.01,this),this.a=j.getProp(t,e.a||{k:0},0,u,this),this.g=new it(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},It.prototype.setGradientData=function(t,e){var i=w(),n=D(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var a,s,o,h=[];for(o=4*e.g.p,s=0;s<o;s+=4)a=D("stop"),n.appendChild(a),h.push(a);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+r+"#"+i+")"),this.gf=n,this.cst=h},It.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,a,s=D("mask"),o=D("path");s.appendChild(o);var h=w(),l=w();s.setAttribute("id",l);var c=D(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",h),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),a=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var p=this.stops;for(n=4*t.g.p;n<a;n+=2)(i=D("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(i),p.push(i);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+r+"#"+h+")"),this.of=c,this.ms=s,this.ost=p,this.maskId=l,e.msElem=o}},N([O],It),N([It,O],Lt);var Gt=function(){var t=new R,e=new R;function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function r(i,r,n){var a,s,o,h,l,c,p,f,u,d,g,m=r.styles.length,v=r.lvl;for(c=0;c<m;c+=1){if(h=r.sh._mdf||n,r.styles[c].lvl<v){for(f=e.reset(),d=v-r.styles[c].lvl,g=r.transformers.length-1;!h&&d>0;)h=r.transformers[g].mProps._mdf||h,d--,g--;if(h)for(d=v-r.styles[c].lvl,g=r.transformers.length-1;d>0;)u=r.transformers[g].mProps.v.props,f.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),d--,g--}else f=t;if(s=(p=r.sh.paths)._length,h){for(o="",a=0;a<s;a+=1)(l=p.shapes[a])&&l._length&&(o+=rt(l,l._length,l.c,f));r.caches[c]=o}else o=r.caches[c];r.styles[c].d+=!0===i.hd?"":o,r.styles[c]._mdf=h||r.styles[c]._mdf}}function n(t,e,i){var r=e.style;(e.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+l(e.c.v[0])+","+l(e.c.v[1])+","+l(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function a(t,e,i){s(t,e,i),o(0,e,i)}function s(t,e,i){var r,n,a,s,o,h=e.gf,l=e.g._hasOpacity,c=e.s.v,p=e.e.v;if(e.o._mdf||i){var f="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||i){var u=1===t.t?"x1":"cx",d="x1"===u?"y1":"cy";h.setAttribute(u,c[0]),h.setAttribute(d,c[1]),l&&!e.g._collapsable&&(e.of.setAttribute(u,c[0]),e.of.setAttribute(d,c[1]))}if(e.g._cmdf||i){r=e.cst;var g=e.g.c;for(a=r.length,n=0;n<a;n+=1)(s=r[n]).setAttribute("offset",g[4*n]+"%"),s.setAttribute("stop-color","rgb("+g[4*n+1]+","+g[4*n+2]+","+g[4*n+3]+")")}if(l&&(e.g._omdf||i)){var m=e.g.o;for(a=(r=e.g._collapsable?e.cst:e.ost).length,n=0;n<a;n+=1)s=r[n],e.g._collapsable||s.setAttribute("offset",m[2*n]+"%"),s.setAttribute("stop-opacity",m[2*n+1])}if(1===t.t)(e.e._mdf||i)&&(h.setAttribute("x2",p[0]),h.setAttribute("y2",p[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",p[0]),e.of.setAttribute("y2",p[1])));else if((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(c[0]-p[0],2)+Math.pow(c[1]-p[1],2)),h.setAttribute("r",o),l&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||i){o||(o=Math.sqrt(Math.pow(c[0]-p[0],2)+Math.pow(c[1]-p[1],2)));var v=Math.atan2(p[1]-c[1],p[0]-c[0]),y=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(v+e.a.v)*y+c[0],b=Math.sin(v+e.a.v)*y+c[1];h.setAttribute("fx",_),h.setAttribute("fy",b),l&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",b))}}function o(t,e,i){
var r=e.style,n=e.d;n&&(n._mdf||i)&&n.dashStr&&(r.pElem.setAttribute("stroke-dasharray",n.dashStr),r.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+l(e.c.v[0])+","+l(e.c.v[1])+","+l(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return n;case"gf":return s;case"gs":return a;case"st":return o;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i}}}}();function Nt(){}function zt(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function Bt(){}function Vt(){}function Ut(){}function jt(){}function Wt(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Ht(t,e,i){this.initElement(t,e,i)}function Yt(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?T(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?j.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function Xt(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function Kt(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function qt(t,e){this.filterManager=e;var i=D("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=D("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var r,n=D("feMerge");t.appendChild(n),(r=D("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(r),(r=D("feMergeNode")).setAttribute("in","f2"),n.appendChild(r)}}function Zt(t,e){this.filterManager=e;var i=D("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(i),this.matrixFilter=i}function Jt(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=D("feGaussianBlur");t.appendChild(i),this.feGaussianBlur=i}function Qt(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function $t(t,e){this.filterManager=e;var i=D("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i);var r=D("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.matrixFilter=r;var n=D("feFuncR");n.setAttribute("type","table"),r.appendChild(n),this.feFuncR=n;var a=D("feFuncG");a.setAttribute("type","table"),r.appendChild(a),this.feFuncG=a;var s=D("feFuncB");s.setAttribute("type","table"),r.appendChild(s),this.feFuncB=s}function te(t,e){this.filterManager=e;var i=this.filterManager.effectElements,r=D("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),
(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),r=D("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function ee(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var i=D("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var r=D("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var n=D("feFlood");n.setAttribute("flood-color","#00ff00"),n.setAttribute("flood-opacity","1"),n.setAttribute("result","drop_shadow_3"),this.feFlood=n,t.appendChild(n);var a=D("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var s,o=D("feMerge");t.appendChild(o),s=D("feMergeNode"),o.appendChild(s),(s=D("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=o,this.originalNodeAdded=!1,o.appendChild(s)}Nt.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=L(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=w(),this.data.sr||(this.data.sr=1),this.effectsManager=new oe(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},zt.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},zt.prototype.renderFrame=function(){},zt.prototype.getBaseElement=function(){return null},zt.prototype.destroy=function(){},zt.prototype.sourceRectAtTime=function(){},zt.prototype.hide=function(){},N([Nt,Ct,St,kt],zt),Bt.prototype={initRendererElement:function(){this.layerElement=D("g")},createContainerElements:function(){this.matteElement=D("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var a=D("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),a.appendChild(this.layerElement),n=a,this.globalData.defs.appendChild(a),
at.maskType||1!=this.data.td||(a.setAttribute("mask-type","luminance"),t=w(),e=st.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(st.createAlphaToLuminanceFilter()),(i=D("g")).appendChild(this.layerElement),n=i,a.appendChild(i),i.setAttribute("filter","url("+r+"#"+t+")"))}else if(2==this.data.td){var s=D("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var o=D("g");s.appendChild(o),t=w(),e=st.createFilter(t);var h=D("feComponentTransfer");h.setAttribute("in","SourceGraphic"),e.appendChild(h);var l=D("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),h.appendChild(l),this.globalData.defs.appendChild(e);var c=D("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),o.setAttribute("filter","url("+r+"#"+t+")"),o.appendChild(c),o.appendChild(this.layerElement),n=o,at.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(st.createAlphaToLuminanceFilter()),i=D("g"),o.appendChild(c),i.appendChild(this.layerElement),n=i,o.appendChild(i)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var p=D("clipPath"),f=D("path");f.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var u=w();if(p.setAttribute("id",u),p.appendChild(f),this.globalData.defs.appendChild(p),this.checkMasks()){var d=D("g");d.setAttribute("clip-path","url("+r+"#"+u+")"),d.appendChild(this.layerElement),this.transformedElement=d,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+r+"#"+u+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new xt(this.data,this,this.globalData),this.renderableEffectsManager=new ne(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+r+"#"+t+")")}},Vt.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,r=e.length;i<r;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,r=i.length;r;)if(i[r-=1].elem===t)return void(i[r].pos=e);i.push(new Mt(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},Ut.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new pt(this,t.t,this.dynamicProperties),this.textAnimator=new ht(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),
this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Ut.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Ut.prototype.createPathShape=function(t,e){var i,r,n=e.length,a="";for(i=0;i<n;i+=1)r=e[i].ks.k,a+=rt(r,r.i.length,!0,t);return a},Ut.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},Ut.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},Ut.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},Ut.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(r,n,0)},Ut.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},Ut.prototype.emptyProp=new ct,Ut.prototype.destroy=function(){},N([Nt,Ct,St,kt,At],jt),jt.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},jt.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},jt.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},jt.prototype.setElements=function(t){this.elements=t},jt.prototype.getElements=function(){return this.elements},jt.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},jt.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},N([Nt,Ct,Bt,St,kt,At],Wt),Wt.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=D("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},Wt.prototype.sourceRectAtTime=function(){return this.sourceRect},N([Wt],Ht),Ht.prototype.createContent=function(){var t=D("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},N([wt,jt,Bt],Yt),N([Nt,Ct,Bt,St,kt,At,Ut],Xt),Xt.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=D("text"))},Xt.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],n="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(n),n=""):n+=t[e],e+=1;return r.push(n),r},Xt.prototype.buildNewText=function(){var t,e,i=this.textProperty.currentData;this.renderedLetters=T(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),
this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var n=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("arial-label",i.t);var s,o=i.l||[],h=!!this.globalData.fontManager.chars;e=o.length;var l,c=this.mHelper,p="",f=this.data.singleShape,u=0,d=0,g=!0,m=i.tr/1e3*i.finalSize;if(!f||h||i.sz){var v,y,_=this.textSpans.length;for(t=0;t<e;t+=1)h&&f&&0!==t||(s=_>t?this.textSpans[t]:D(h?"path":"text"),_<=t&&(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=s,this.layerElement.appendChild(s)),s.style.display="inherit"),c.reset(),c.scale(i.finalSize/100,i.finalSize/100),f&&(o[t].n&&(u=-m,d+=i.yOffset,d+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(i,c,o[t].line,u,d),u+=o[t].l||0,u+=m),h?(l=(v=(y=this.globalData.fontManager.getCharData(i.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&y.data||{}).shapes?v.shapes[0].it:[],f?p+=this.createPathShape(c,l):s.setAttribute("d",this.createPathShape(c,l))):(f&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=o[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&s&&s.setAttribute("d",p)}else{var b=this.textContainer,w="start";switch(i.j){case 1:w="end";break;case 2:w="middle"}b.setAttribute("text-anchor",w),b.setAttribute("letter-spacing",m);var x=this.buildTextContents(i.finalText);for(e=x.length,d=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(s=this.textSpans[t]||D("tspan")).textContent=x[t],s.setAttribute("x",0),s.setAttribute("y",d),s.style.display="inherit",b.appendChild(s),this.textSpans[t]=s,d+=i.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},Xt.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},Xt.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,r,n=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(i=n[t],r=this.textSpans[t],i._mdf.m&&r.setAttribute("transform",i.m),i._mdf.o&&r.setAttribute("opacity",i.o),i._mdf.sw&&r.setAttribute("stroke-width",i.sw),i._mdf.sc&&r.setAttribute("stroke",i.sc),i._mdf.fc&&r.setAttribute("fill",i.fc))}},N([Nt,Ct,Bt,Vt,St,kt,At],Kt),Kt.prototype.initSecondaryElement=function(){},Kt.prototype.identityMatrix=new R,Kt.prototype.buildExpressionInterface=function(){},Kt.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Kt.prototype.filterUniqueShapes=function(){var t,e,i,r,n=this.shapes.length,a=this.stylesList.length,s=[],o=!1;for(i=0;i<a;i+=1){for(r=this.stylesList[i],o=!1,s.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(r)&&(s.push(e),o=e._isAnimated||o);s.length>1&&o&&this.setShapesAsAnimated(s)}},Kt.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},Kt.prototype.createStyleElement=function(t,e){var i,n=new Ft(t,e),a=n.pElem;return"st"===t.ty?i=new Et(this,t,n):"fl"===t.ty?i=new Ot(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(i=new("gf"===t.ty?It:Lt)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),
a.setAttribute("mask","url("+r+"#"+i.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(a.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),a.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),a.setAttribute("fill-opacity","0"),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&a.setAttribute("fill-rule","evenodd"),t.ln&&a.setAttribute("id",t.ln),t.cl&&a.setAttribute("class",t.cl),t.bm&&(a.style["mix-blend-mode"]=L(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},Kt.prototype.createGroupElement=function(t){var e=new Rt;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=L(t.bm)),e},Kt.prototype.createTransformElement=function(t,e){var i=W.getTransformProperty(this,t,this),r=new Dt(i,i.o,e);return this.addToAnimatedContents(t,r),r},Kt.prototype.createShapeElement=function(t,e,i){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var n=new Tt(e,i,K.getShapeProp(this,t,r,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},Kt.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:Gt.createRenderFunction(t),element:e,data:t})},Kt.prototype.setElementStyles=function(t){var e,i=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},Kt.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},Kt.prototype.searchShapes=function(t,e,i,r,n,a,s){var o,h,l,c,p,f,u=[].concat(a),d=t.length-1,g=[],m=[];for(o=d;o>=0;o-=1){if((f=this.searchProcessedElement(t[o]))?e[o]=i[f-1]:t[o]._render=s,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)f?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],n),t[o]._render&&r.appendChild(e[o].style.pElem),g.push(e[o].style);else if("gr"==t[o].ty){if(f)for(l=e[o].it.length,h=0;h<l;h+=1)e[o].prevViewData[h]=e[o].it[h];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,n+1,u,s),t[o]._render&&r.appendChild(e[o].gr)}else"tr"==t[o].ty?(f||(e[o]=this.createTransformElement(t[o],r)),c=e[o].transform,u.push(c)):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?(f||(e[o]=this.createShapeElement(t[o],u,n)),this.setElementStyles(e[o])):"tm"==t[o].ty||"rd"==t[o].ty||"ms"==t[o].ty?(f?(p=e[o]).closed=!1:((p=q.getModifier(t[o].ty)).init(this,t[o]),e[o]=p,this.shapeModifiers.push(p)),m.push(p)):"rp"==t[o].ty&&(f?(p=e[o]).closed=!0:(p=q.getModifier(t[o].ty),e[o]=p,p.init(this,t,o,e),this.shapeModifiers.push(p),s=!1),m.push(p));this.addProcessedElement(t[o],o+1)}for(d=g.length,o=0;o<d;o+=1)g[o].closed=!0;for(d=m.length,o=0;o<d;o+=1)m[o].closed=!0},Kt.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},Kt.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},Kt.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},qt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100
;this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},Zt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},Jt.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=3==i?0:e,n=2==i?0:e;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+n);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}},Qt.prototype.initialize=function(){var t,e,i,n,a=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=1+(i=this.filterManager.effectElements[0].p.v-1),(e=D("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<n;i+=1)t=D("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=D("mask"),o=w();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var h=D("g");for(h.setAttribute("mask","url("+r+"#"+o+")");a[0];)h.appendChild(a[0]);this.elem.layerElement.appendChild(h),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(a=this.elem.layerElement.children||this.elem.layerElement.childNodes;a.length;)this.elem.layerElement.removeChild(a[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},Qt.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,i,r,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(i=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&r.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=r.getTotalLength();a="0 0 0 "+h*s+" ";var c,p=h*(o-s),f=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,u=Math.floor(p/f);for(c=0;c<u;c+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*h+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+l(255*d[0])+","+l(255*d[1])+","+l(255*d[2])+")")}},$t.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,n=r[0]+" "+i[0]+" "+e[0],a=r[1]+" "+i[1]+" "+e[1],s=r[2]+" "+i[2]+" "+e[2]
;this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",s)}},te.prototype.createFeFunc=function(t,e){var i=D(t);return i.setAttribute("type","table"),e.appendChild(i),i},te.prototype.getTableValue=function(t,e,i,r,n){for(var a,s,o=0,h=Math.min(t,e),l=Math.max(t,e),c=Array.call(null,{length:256}),p=0,f=n-r,u=e-t;o<=256;)s=(a=o/256)<=h?u<0?n:r:a>=l?u<0?r:n:r+f*Math.pow((a-t)/u,1/i),c[p++]=s,o+=256/255;return c.join(" ")},te.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},ee.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",A(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*u,n=i*Math.cos(r),a=i*Math.sin(r);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",a)}}};var ie=[];function re(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=D("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function ne(t){var e,i,n=t.data.ef?t.data.ef.length:0,a=w(),s=st.createFilter(a),o=0;for(this.filters=[],e=0;e<n;e+=1)i=null,20===t.data.ef[e].ty?(o+=1,i=new qt(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,i=new Zt(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?i=new Qt(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,i=new $t(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,i=new te(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,i=new ee(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?i=new re(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,i=new Jt(s,t.effectsManager.effectElements[e])),i&&this.filters.push(i);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+r+"#"+a+")")),this.filters.length&&t.addRenderableComponent(this)}re.prototype.findSymbol=function(t){for(var e=0,i=ie.length;e<i;){if(ie[e]===t)return ie[e];e+=1}return null},re.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r,n=i.children,a=0,s=n.length;a<s&&n[a]!==t.layerElement;)a+=1;a<=s-2&&(r=n[a+1]);var o=D("use");o.setAttribute("href","#"+e),r?i.insertBefore(o,r):i.appendChild(o)}},
re.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=w(),r=D("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),ie.push(e);var n=t.globalData.defs;n.appendChild(r);var a=D("symbol");a.setAttribute("id",i),this.replaceInParent(e,i),a.appendChild(e.layerElement),n.appendChild(a);var s=D("use");s.setAttribute("href","#"+i),r.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},re.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,r=e.length;i<r;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},re.prototype.renderFrame=function(){this.initialized||this.initialize()},ne.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)};var ae=function(){var e={},i=[],r=0,n=0,a=0,s=!0,o=!1;function h(t){for(var e=0,r=t.target;e<n;)i[e].animation===r&&(i.splice(e,1),e-=1,n-=1,r.isPaused||p()),e+=1}function l(t,e){if(!t)return null;for(var r=0;r<n;){if(i[r].elem==t&&null!==i[r].elem)return i[r].animation;r+=1}var a=new se;return f(a,t),a.setData(t,e),a}function c(){a+=1,g()}function p(){a-=1}function f(t,e){t.addEventListener("destroy",h),t.addEventListener("_active",c),t.addEventListener("_idle",p),i.push({elem:e,animation:t}),n+=1}function u(e){var h,l=e-r;for(h=0;h<n;h+=1)i[h].animation.advanceTime(l);r=e,a&&!o?t.requestAnimationFrame(u):s=!0}function d(e){r=e,t.requestAnimationFrame(u)}function g(){!o&&a&&s&&(t.requestAnimationFrame(d),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(t){var e=new se;return f(e,null),e.setParams(t),e},e.setSpeed=function(t,e){var r;for(r=0;r<n;r+=1)i[r].animation.setSpeed(t,e)},e.setDirection=function(t,e){var r;for(r=0;r<n;r+=1)i[r].animation.setDirection(t,e)},e.play=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.play(t)},e.pause=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.pause(t)},e.stop=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.stop(t)},e.togglePause=function(t){var e;for(e=0;e<n;e+=1)i[e].animation.togglePause(t)},e.searchAnimations=function(t,e,i){var r,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=n.length;for(r=0;r<a;r+=1)i&&n[r].setAttribute("data-bm-type",i),l(n[r],t);if(e&&0===a){i||(i="svg");var s=document.getElementsByTagName("body")[0];s.innerHTML="";var o=E("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",i),s.appendChild(o),l(o,t)}},e.resize=function(){var t;for(t=0;t<n;t+=1)i[t].animation.resize()},e.goToAndStop=function(t,e,r){var a;for(a=0;a<n;a+=1)i[a].animation.goToAndStop(t,e,r)},e.destroy=function(t){var e;for(e=n-1;e>=0;e-=1)i[e].animation.destroy(t)},e.freeze=function(){o=!0},e.unfreeze=function(){o=!1,g()},e.getRegisteredAnimations=function(){var t,e=i.length,r=[];for(t=0;t<e;t+=1)r.push(i[t].animation);return r},e}(),se=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=w(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=s,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface={},this.imagePreloader=new nt};function oe(){}N([M],se),se.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new wt(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,
""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&("json"!=t.path.substr(-4)&&("/"!=t.path.substr(-1,1)&&(t.path+="/"),t.path+="data.json"),-1!=t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),ot.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},se.prototype.setData=function(t,e){var i={wrapper:t,animationData:e?"object"===a(e)?e:JSON.parse(e):null},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var n=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===n||(i.loop="false"!==n&&("true"===n||parseInt(n)));var s=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},se.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var i,r,n=this.animationData.layers,a=n.length,s=t.layers,o=s.length;for(r=0;r<o;r+=1)for(i=0;i<a;){if(n[i].id==s[r].id){n[i]=s[r];break}i+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(a=t.assets.length,i=0;i<a;i+=1)this.animationData.assets.push(t.assets[i]);this.animationData.__complete=!1,V.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),e&&e.initExpressions(this),this.loadNextSegment()},se.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,ot.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},se.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},se.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},se.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},
se.prototype.configAnimation=function(t){this.renderer&&(this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.renderer.searchExtraCompositions(t.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded())},se.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},se.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,V.completeData(this.animationData,this.renderer.globalData.fontManager),e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},se.prototype.resize=function(){this.renderer.updateContainerSize()},se.prototype.setSubframe=function(t){this.subframeEnabled=!!t},se.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},se.prototype.renderFrame=function(){!1!==this.isLoaded&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},se.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},se.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},se.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},se.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},se.prototype.goToAndStop=function(t,e,i){i&&this.name!=i||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},se.prototype.goToAndPlay=function(t,e,i){this.goToAndStop(t,e,i),this.play()},se.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},se.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},se.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==i&&this.goToAndStop(i,!0)},se.prototype.playSegments=function(t,e){
if(e&&(this.segments.length=0),"object"===a(t[0])){var i,r=t.length;for(i=0;i<r;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},se.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},se.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},se.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},se.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},se.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},se.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},se.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},se.prototype.getPath=function(){return this.path},se.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},se.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t==this.assets[e].id)return this.assets[e];e+=1}},se.prototype.hide=function(){this.renderer.hide()},se.prototype.show=function(){this.renderer.show()},se.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},se.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new g(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new v(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new m(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new y(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new _(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new g(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new v(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new m(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new y(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new _(t,this))};var he={};function le(){!0===ce?ae.searchAnimations(pe,ce,fe):ae.searchAnimations()}he.play=ae.play,he.pause=ae.pause,he.setLocationHref=function(t){r=t},he.togglePause=ae.togglePause,he.setSpeed=ae.setSpeed,he.setDirection=ae.setDirection,he.stop=ae.stop,he.searchAnimations=le,he.registerAnimation=ae.registerAnimation,he.loadAnimation=function(t){return!0===ce&&(t.animationData=JSON.parse(pe)),ae.loadAnimation(t)},he.setSubframeRendering=function(t){s=t},he.resize=ae.resize,he.goToAndStop=ae.goToAndStop,he.destroy=ae.destroy,he.setQuality=function(t){if("string"==typeof t)switch(t){case"high":f=200;break;case"medium":f=50;break;case"low":f=10}else!isNaN(t)&&t>1&&(f=t);d(!(f>=50))},he.inBrowser=function(){return"undefined"!=typeof navigator},he.installPlugin=function(t,i){"expressions"===t&&(e=i)},he.freeze=ae.freeze,he.unfreeze=ae.unfreeze,he.getRegisteredAnimations=ae.getRegisteredAnimations,he.__getFactory=function(t){switch(t){case"propertyFactory":return j;case"shapePropertyFactory":return K;case"matrix":return R}},he.version="5.5.6";var ce="__[STANDALONE]__",pe="__[ANIMATIONDATA]__",fe="";if(ce){var ue=document.getElementsByTagName("script"),de=(ue[ue.length-1]||{src:""}).src.replace(/^[^\?]+\??/,"");fe=function(t){for(var e=de.split("&"),i=0;i<e.length;i++){var r=e[i].split("=")
;if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}}("renderer")}var ge=setInterval((function(){"complete"===document.readyState&&(clearInterval(ge),le())}),100);return he}(n)}.call(e,i,e,t))||(t.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var r={};i.r(r),i.d(r,"reversed",(function(){return Q})),i.d(r,"mirrored",(function(){return $})),i.d(r,"createReversedEasing",(function(){return tt})),i.d(r,"createMirroredEasing",(function(){return et})),i.d(r,"createExpoIn",(function(){return it})),i.d(r,"createBackIn",(function(){return rt})),i.d(r,"createAnticipateEasing",(function(){return nt})),i.d(r,"linear",(function(){return at})),i.d(r,"easeIn",(function(){return st})),i.d(r,"easeOut",(function(){return ot})),i.d(r,"easeInOut",(function(){return ht})),i.d(r,"circIn",(function(){return lt})),i.d(r,"circOut",(function(){return ct})),i.d(r,"circInOut",(function(){return pt})),i.d(r,"backIn",(function(){return ft})),i.d(r,"backOut",(function(){return ut})),i.d(r,"backInOut",(function(){return dt})),i.d(r,"anticipate",(function(){return gt})),i.d(r,"bounceOut",(function(){return mt})),i.d(r,"bounceIn",(function(){return vt})),i.d(r,"bounceInOut",(function(){return yt})),i.d(r,"cubicBezier",(function(){return Dt}));var n=i(0),a=function(){return(a=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},s=function(t,e){return function(i){return Math.max(Math.min(i,e),t)}},o=function(t){return t%1?Number(t.toFixed(5)):t},h=/(-)?(\d[\d\.]*)/g,l=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,c=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,p={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},f=a(a({},p),{transform:s(0,1)}),u=a(a({},p),{default:1}),d=function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},g=d("deg"),m=d("%"),v=d("px"),y=d("vh"),_=d("vw"),b=a(a({},m),{parse:function(t){return m.parse(t)/100},transform:function(t){return m.transform(100*t)}}),w=s(0,255),x=function(t){return void 0!==t.red},S=function(t){return void 0!==t.hue},k=function(t){return function(e){if("string"!=typeof e)return e;for(var i,r={},n=(i=e,i.substring(i.indexOf("(")+1,i.lastIndexOf(")"))).split(/,\s*/),a=0;a<4;a++)r[t[a]]=void 0!==n[a]?parseFloat(n[a]):1;return r}},C=a(a({},p),{transform:function(t){return Math.round(w(t))}});function P(t,e){return t.startsWith(e)&&c.test(t)}var A={test:function(t){return"string"==typeof t?P(t,"rgb"):x(t)},parse:k(["red","green","blue","alpha"]),transform:function(t){var e=t.red,i=t.green,r=t.blue,n=t.alpha,a=void 0===n?1:n;return function(t){var e=t.red,i=t.green,r=t.blue,n=t.alpha;return"rgba("+e+", "+i+", "+r+", "+(void 0===n?1:n)+")"}({red:C.transform(e),green:C.transform(i),blue:C.transform(r),alpha:o(f.transform(a))})}},M={test:function(t){return"string"==typeof t?P(t,"hsl"):S(t)},parse:k(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,i=t.saturation,r=t.lightness,n=t.alpha,a=void 0===n?1:n;return function(t){var e=t.hue,i=t.saturation,r=t.lightness,n=t.alpha;return"hsla("+e+", "+i+", "+r+", "+(void 0===n?1:n)+")"}({hue:Math.round(e),saturation:m.transform(o(i)),lightness:m.transform(o(r)),alpha:o(f.transform(a))})}},F=a(a({},A),{test:function(t){return"string"==typeof t&&P(t,"#")},parse:function(t){var e="",i="",r="";return t.length>4?(e=t.substr(1,2),i=t.substr(3,2),r=t.substr(5,2)):(e=t.substr(1,1),i=t.substr(2,1),r=t.substr(3,1),e+=e,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:1}}}),T={test:function(t){return"string"==typeof t&&c.test(t)||x(t)||S(t)},parse:function(t){return A.test(t)?A.parse(t):M.test(t)?M.parse(t):F.test(t)?F.parse(t):t},transform:function(t){return x(t)?A.transform(t):S(t)?M.transform(t):t}},D=function(t){
return"number"==typeof t?0:t},E={test:function(t){if("string"!=typeof t||!isNaN(t))return!1;var e=0,i=t.match(h),r=t.match(l);return i&&(e+=i.length),r&&(e+=r.length),e>0},parse:function(t){var e=t,i=[],r=e.match(l);r&&(e=e.replace(l,"${c}"),i.push.apply(i,r.map(T.parse)));var n=e.match(h);return n&&i.push.apply(i,n.map(p.parse)),i},createTransformer:function(t){var e=t,i=0,r=t.match(l),n=r?r.length:0;if(r)for(var a=0;a<n;a++)e=e.replace(r[a],"${c}"),i++;var s=e.match(h),c=s?s.length:0;if(s)for(a=0;a<c;a++)e=e.replace(s[a],"${n}"),i++;return function(t){for(var r=e,a=0;a<i;a++)r=r.replace(a<n?"${c}":"${n}",a<n?T.transform(t[a]):o(t[a]));return r}},getAnimatableNone:function(t){var e=E.parse(t);return E.createTransformer(t)(e.map(D))}},O=function(){};var I,L=0,R="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),i=Math.max(0,16.7-(e-L));L=e+i,setTimeout((function(){return t(L)}),i)};!function(t){t.Read="read",t.Update="update",t.Render="render",t.PostRender="postRender",t.FixedUpdate="fixedUpdate"}(I||(I={}));var G=1/60*1e3,N=!0,z=!1,B=!1,V={delta:0,timestamp:0},U=[I.Read,I.Update,I.Render,I.PostRender],j=function(t){return z=t},W=U.reduce((function(t,e){var i,r,n,a,s,o,h,l,c,p=(i=j,r=[],n=[],a=0,s=!1,o=0,h=new WeakSet,l=new WeakSet,c={cancel:function(t){var e=n.indexOf(t);h.add(t),-1!==e&&n.splice(e,1)},process:function(t){var e,p;if(s=!0,r=(e=[n,r])[0],(n=e[1]).length=0,a=r.length)for(o=0;o<a;o++)(p=r[o])(t),!0!==l.has(p)||h.has(p)||(c.schedule(p),i(!0));s=!1},schedule:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),O("function"==typeof t,"Argument must be a function");var o=i&&s,c=o?r:n;h.delete(t),e&&l.add(t),-1===c.indexOf(t)&&(c.push(t),o&&(a=r.length))}});return t.sync[e]=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),z||Z(),p.schedule(t,e,i),t},t.cancelSync[e]=function(t){return p.cancel(t)},t.steps[e]=p,t}),{steps:{},sync:{},cancelSync:{}}),H=W.steps,Y=W.sync,X=W.cancelSync,K=function(t){return H[t].process(V)},q=function t(e){z=!1,V.delta=N?G:Math.max(Math.min(e-V.timestamp,40),1),N||(G=V.delta),V.timestamp=e,B=!0,U.forEach(K),B=!1,z&&(N=!1,R(t))},Z=function(){z=!0,N=!0,B||R(q)},J=Y,Q=function(t){return function(e){return 1-t(1-e)}},$=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},tt=Q,et=$,it=function(t){return function(e){return Math.pow(e,t)}},rt=function(t){return function(e){return e*e*((t+1)*e-t)}},nt=function(t){var e=rt(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},at=function(t){return t},st=it(2),ot=Q(st),ht=$(st),lt=function(t){return 1-Math.sin(Math.acos(t))},ct=Q(lt),pt=$(ct),ft=rt(1.525),ut=Q(ft),dt=$(ft),gt=nt(1.525),mt=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},vt=function(t){return 1-mt(1-t)},yt=function(t){return t<.5?.5*(1-mt(1-2*t)):.5*mt(2*t-1)+.5},_t=8,bt=.001,wt=1e-7,xt=10,St=11,kt=1/(St-1),Ct="undefined"!=typeof Float32Array,Pt=function(t,e){return 1-3*e+3*t},At=function(t,e){return 3*e-6*t},Mt=function(t){return 3*t},Ft=function(t,e,i){return 3*Pt(e,i)*t*t+2*At(e,i)*t+Mt(e)},Tt=function(t,e,i){return((Pt(e,i)*t+At(e,i))*t+Mt(e))*t};function Dt(t,e,i,r){var n=Ct?new Float32Array(St):new Array(St),a=function(e){for(var r,a,s,o=0,h=1,l=St-1;h!==l&&n[h]<=e;++h)o+=kt;return--h,r=(e-n[h])/(n[h+1]-n[h]),(s=Ft(a=o+r*kt,t,i))>=bt?function(e,r){for(var n=0,a=0;n<_t;++n){if(0===(a=Ft(r,t,i)))return r;r-=(Tt(r,t,i)-e)/a}return r}(e,a):0===s?a:function(e,r,n){var a,s,o=0;do{(a=Tt(s=r+(n-r)/2,t,i)-e)>0?n=s:r=s}while(Math.abs(a)>wt&&++o<xt);return s}(e,o,o+kt)};!function(){for(var e=0;e<St;++e)n[e]=Tt(e*kt,t,i)}();return function(n){return t===e&&i===r?n:0===n?0:1===n?1:Tt(a(n),e,r)}}var Et=function(t){return"number"==typeof t},Ot=function(t){return function(e,i,r){return void 0!==r?t(e,i,r):function(r){return t(e,i,r)}}},It=Ot((function(t,e,i){return Math.min(Math.max(i,t),e)})),Lt=function(t,e,i){var r=e-t;return 0===r?1:(i-t)/r
},Rt=function(t,e,i){return-i*t+i*e+t},Gt=function(){return(Gt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Nt=function(t,e,i){var r=t*t,n=e*e;return Math.sqrt(Math.max(0,i*(n-r)+r))},zt=[F,A,M],Bt=function(t){return zt.find((function(e){return e.test(t)}))},Vt=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},Ut=function(t,e){var i=Bt(t),r=Bt(e);O(!!i,Vt(t)),O(!!r,Vt(e)),O(i.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var n=i.parse(t),a=r.parse(e),s=Gt({},n),o=i===M?Rt:Nt;return function(t){for(var e in s)"alpha"!==e&&(s[e]=o(n[e],a[e],t));return s.alpha=Rt(n.alpha,a.alpha,t),i.transform(s)}},jt=function(t,e){return function(i){return e(t(i))}},Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(jt)};function Ht(t,e){return Et(t)?function(i){return Rt(t,e,i)}:T.test(t)?Ut(t,e):Kt(t,e)}var Yt=function(t,e){var i=t.slice(),r=i.length,n=t.map((function(t,i){return Ht(t,e[i])}));return function(t){for(var e=0;e<r;e++)i[e]=n[e](t);return i}};function Xt(t){for(var e=E.parse(t),i=e.length,r=0,n=0,a=0,s=0;s<i;s++)r||"number"==typeof e[s]?r++:void 0!==e[s].hue?a++:n++;return{parsed:e,numNumbers:r,numRGB:n,numHSL:a}}var Kt=function(t,e){var i=E.createTransformer(e),r=Xt(t),n=Xt(e);return O(r.numHSL===n.numHSL&&r.numRGB===n.numRGB&&r.numNumbers>=n.numNumbers,"Complex values '"+t+"' and '"+e+"' too different to mix. Ensure all colors are of the same type."),Wt(Yt(r.parsed,n.parsed),i)};var qt=function(t){return t},Zt=function(t){return void 0===t&&(t=qt),Ot((function(e,i,r){var n=i-r,a=-(0-e+1)*(0-t(Math.abs(n)));return n<=0?i+a:i-a}))},Jt=(Zt(),Zt(Math.sqrt),Ot((function(t,e,i){var r=e-t;return((i-t)%r+r)%r+t})),It(0,1),function(){return(Jt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)});function Qt(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(i[r[n]]=t[r[n]])}return i}var $t,te=function(t){var e=t.onRead,i=t.onRender,r=t.uncachedValues,n=void 0===r?new Set:r,a=t.useCache,s=void 0===a||a;return function(t){void 0===t&&(t={});var r=Qt(t,[]),a={},o=[],h=!1;function l(t,e){t.startsWith("--")&&(r.hasCSSVariable=!0);var i=a[t];a[t]=e,a[t]!==i&&(-1===o.indexOf(t)&&o.push(t),h||(h=!0,J.render(c.render)))}var c={get:function(t,i){return void 0===i&&(i=!1),!i&&s&&!n.has(t)&&void 0!==a[t]?a[t]:e(t,r)},set:function(t,e){if("string"==typeof t)l(t,e);else for(var i in t)l(i,t[i]);return this},render:function(t){return void 0===t&&(t=!1),(h||!0===t)&&(i(a,r,o),h=!1,o.length=0),this}};return c}},ee=/([a-z])([A-Z])/g,ie=function(t){return t.replace(ee,"$1-$2").toLowerCase()},re=new Map,ne=new Map,ae=["Webkit","Moz","O","ms",""],se=ae.length,oe="undefined"!=typeof document,he=function(t,e){return ne.set(t,ie(e))},le=function(t,e){void 0===e&&(e=!1);var i=e?ne:re;return i.has(t)||(oe?function(t){$t=$t||document.createElement("div");for(var e=0;e<se;e++){var i=ae[e],r=""===i,n=r?t:i+t.charAt(0).toUpperCase()+t.slice(1);(n in $t.style||r)&&(re.set(t,n),he(t,(r?"":"-")+ie(n)))}}(t):function(t){he(t,t)}(t)),i.get(t)||t},ce=["","X","Y","Z"],pe=["scale","rotate","skew","transformPerspective"].reduce((function(t,e){return ce.reduce((function(t,i){return t.push(e+i),t}),t)}),["x","y","z"]),fe=pe.reduce((function(t,e){return t[e]=!0,t}),{});function ue(t){return!0===fe[t]}function de(t,e){return pe.indexOf(t)-pe.indexOf(e)}var ge=new Set(["originX","originY","originZ"]);function me(t){return ge.has(t)}var ve=Jt({},p,{transform:Math.round}),ye={color:T,backgroundColor:T,outlineColor:T,fill:T,stroke:T,borderColor:T,borderTopColor:T,borderRightColor:T,borderBottomColor:T,
borderLeftColor:T,borderWidth:v,borderTopWidth:v,borderRightWidth:v,borderBottomWidth:v,borderLeftWidth:v,borderRadius:v,radius:v,borderTopLeftRadius:v,borderTopRightRadius:v,borderBottomRightRadius:v,borderBottomLeftRadius:v,width:v,maxWidth:v,height:v,maxHeight:v,size:v,top:v,right:v,bottom:v,left:v,padding:v,paddingTop:v,paddingRight:v,paddingBottom:v,paddingLeft:v,margin:v,marginTop:v,marginRight:v,marginBottom:v,marginLeft:v,rotate:g,rotateX:g,rotateY:g,rotateZ:g,scale:u,scaleX:u,scaleY:u,scaleZ:u,skew:g,skewX:g,skewY:g,distance:v,x:v,y:v,z:v,perspective:v,opacity:f,originX:b,originY:b,originZ:v,zIndex:ve},_e=function(t){return ye[t]},be=function(t,e){return e&&"number"==typeof t?e.transform(t):t},we="scrollLeft",xe="scrollTop",Se=new Set([we,xe]),ke=new Set([we,xe,"transform"]),Ce={x:"translateX",y:"translateY",z:"translateZ"};function Pe(t){return"function"==typeof t}function Ae(t,e,i,r,n,a,s){void 0===e&&(e=!0),void 0===i&&(i={}),void 0===r&&(r={}),void 0===n&&(n={}),void 0===a&&(a=[]),void 0===s&&(s=!1);var o=!0,h=!1,l=!1;for(var c in t){var p=t[c],f=_e(c),u=be(p,f);ue(c)?(h=!0,r[c]=u,a.push(c),o&&(f.default&&p!==f.default||!f.default&&0!==p)&&(o=!1)):me(c)?(n[c]=u,l=!0):ke.has(c)&&Pe(u)||(i[le(c,s)]=u)}return(h||"function"==typeof t.transform)&&(i.transform=function(t,e,i,r,n){var a="",s=!1;i.sort(de);for(var o=i.length,h=0;h<o;h++){var l=i[h];a+=(Ce[l]||l)+"("+e[l]+") ",s="z"===l||s}return!s&&n?a+="translateZ(0)":a=a.trim(),Pe(t.transform)?a=t.transform(e,a):r&&(a="none"),a}(t,r,a,o,e)),l&&(i.transformOrigin=(n.originX||0)+" "+(n.originY||0)+" "+(n.originZ||0)),i}function Me(t){void 0===t&&(t=!0);var e={},i={},r={},n=[];return function(a){return n.length=0,Ae(a,t,e,i,r,n,!0),e}}var Fe=te({onRead:function(t,e){var i=e.element,r=e.preparseOutput,n=_e(t);if(ue(t))return n&&n.default||0;if(Se.has(t))return i[t];var a=window.getComputedStyle(i,null).getPropertyValue(le(t,!0))||0;return r&&n&&n.test(a)&&n.parse?n.parse(a):a},onRender:function(t,e,i){var r=e.element,n=e.buildStyles,a=e.hasCSSVariable;if(Object.assign(r.style,n(t)),a)for(var s=i.length,o=0;o<s;o++){var h=i[o];h.startsWith("--")&&r.style.setProperty(h,t[h])}-1!==i.indexOf(we)&&(r[we]=t[we]),-1!==i.indexOf(xe)&&(r[xe]=t[xe])},uncachedValues:Se});var Te=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),De=function(t,e){return t*e+"px"},Ee=Jt({},p,{transform:Math.round}),Oe={fill:T,stroke:T,scale:u,scaleX:u,scaleY:u,opacity:f,fillOpacity:f,strokeOpacity:f,numOctaves:Ee},Ie=te({onRead:function(t,e){var i=e.element;if(ue(t)){var r=function(t){return Oe[t]}(t);return r?r.default:0}return i.getAttribute(t)},onRender:function(t,e){var i=e.dimensions;!function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}(e.element,function(t,e,i,r){var n=!1,a=!1,s={},o=i?{pathLength:"0",pathSpacing:""+r}:void 0,h=void 0!==t.scale?t.scale||1e-7:t.scaleX||1,l=void 0!==t.scaleY?t.scaleY||1e-7:h||1,c=e.width*(t.originX||50)+e.x,p=e.height*(t.originY||50)+e.y,f=1*h*-c,u=1*l*-p,d=c/h,g=p/l,m={translate:"translate("+t.x+", "+t.y+") ",scale:"translate("+f+", "+u+") scale("+h+", "+l+") translate("+d+", "+g+") ",rotate:"rotate("+t.rotate+", "+c+", "+p+") ",skewX:"skewX("+t.skewX+") ",skewY:"skewY("+t.skewY+") "};for(var v in t)if(t.hasOwnProperty(v)){var y=t[v];if(ue(v))n=!0;else if(!i||"pathLength"!==v&&"pathSpacing"!==v||"number"!=typeof y)if(i&&"pathOffset"===v)s["stroke-dashoffset"]=De(-y,r);else{s[Te.has(v)?v:ie(v)]=y}else a=!0,o[v]=De(y,r)}if(a&&(s["stroke-dasharray"]=o.pathLength+" "+o.pathSpacing),n)for(var v in s.transform="",m)if(m.hasOwnProperty(v)){var _="scale"===v?"1":"0";s.transform+=m[v].replace(/undefined/g,_)}return s}(t,i,e.isPath,e.pathLength))}}),Le=te({useCache:!1,onRead:function(t){return"scrollTop"===t?window.pageYOffset:window.pageXOffset},onRender:function(t){var e=t.scrollTop,i=void 0===e?0:e,r=t.scrollLeft,n=void 0===r?0:r
;return window.scrollTo(n,i)}}),Re=new WeakMap,Ge=function(t,e){var i;return t instanceof HTMLElement?i=function(t,e){void 0===e&&(e={});var i=e.enableHardwareAcceleration,r=Qt(e,["enableHardwareAcceleration"]);return Fe(Jt({element:t,buildStyles:Me(i),preparseOutput:!0},r))}(t,e):t instanceof SVGElement?i=function(t){var e=function(t){try{return function(t){return"function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}(t)}catch(t){return{x:0,y:0,width:0,height:0}}}(t),i={element:t,dimensions:e,isPath:!1};return"path"===t.tagName&&(i.isPath=!0,i.pathLength=t.getTotalLength()),Ie(i)}(t):t===window&&(i=Le(t)),O(void 0!==i,"No valid node provided. Node must be HTMLElement, SVGElement or window."),Re.set(t,i),i},Ne=function(t,e){return Re.has(t)?Re.get(t):Ge(t,e)};var ze=function(t,e){var i="string"==typeof t?document.querySelector(t):t;return Ne(i,e)};function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.d(e,"c",(function(){return li})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return ze}));var Ve=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(Object(n.a)({},this.props,{middleware:this.props.middleware?[t].concat(this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=1===t.length?t[0]:Wt.apply(void 0,t);return this.applyMiddleware((function(t){return function(e){return t(i(e))}}))},t.prototype.while=function(t){return this.applyMiddleware((function(e,i){return function(r){return t(r)?e(r):i()}}))},t.prototype.filter=function(t){return this.applyMiddleware((function(e){return function(i){return t(i)&&e(i)}}))},t}(),Ue=function(){return function(t,e){var i=t.middleware,r=t.onComplete,n=this;this.isActive=!0,this.update=function(t){n.observer.update&&n.updateObserver(t)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(t){n.observer.error&&n.isActive&&n.observer.error(t),n.isActive=!1},this.observer=e,this.updateObserver=function(t){return e.update(t)},this.onComplete=r,e.update&&i&&i.length&&i.forEach((function(t){return n.updateObserver=t(n.updateObserver,n.complete)}))}}(),je=function(t,e,i){var r=e.middleware;return new Ue({middleware:r,onComplete:i},"function"==typeof t?{update:t}:t)},We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.d)(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.start=function(t){void 0===t&&(t={});var e=!1,i={stop:function(){}},r=this.props,a=r.init,s=Object(n.g)(r,["init"]),o=a(je(t,s,(function(){e=!0,i.stop()})));return i=o?Object(n.a)({},i,o):i,t.registerParent&&t.registerParent(i),e&&i.stop(),i},e}(Ve),He=function(t){return new We({init:t})},Ye=function(t){var e=t.getCount,i=t.getFirst,r=t.getOutput,n=t.mapApi,a=t.setProp,s=t.startActions;return function(t){return He((function(o){var h=o.update,l=o.complete,c=o.error,p=e(t),f=r(),u=function(){return h(f)},d=0,g=s(t,(function(t,e){var i=!1;return t.start({complete:function(){i||(i=!0,++d===p&&J.update(l))},error:c,update:function(t){a(f,e,t),J.update(u,!1,!0)}})}));return Object.keys(i(g)).reduce((function(t,e){return t[e]=n(g,e),t}),{})}))}},Xe=Ye({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return Object.keys(t).reduce((function(r,n){var a;return t[n][e]&&(i[0]&&void 0!==i[0][n]?r[n]=t[n][e](i[0][n]):r[n]=(a=t[n])[e].apply(a,i)),r}),{})}},setProp:function(t,e,i){return t[e]=i},startActions:function(t,e){return Object.keys(t).reduce((function(i,r){return i[r]=e(t[r],r),i}),{})}}),Ke=Ye({getOutput:function(){return[]},getCount:function(t){return t.length},
getFirst:function(t){return t[0]},mapApi:function(t,e){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return t.map((function(t,r){if(t[e])return Array.isArray(i[0])?t[e](i[0][r]):t[e].apply(t,i)}))}},setProp:function(t,e,i){return t[e]=i},startActions:function(t,e){return t.map((function(t,i){return e(t,i)}))}}),qe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ke(t)},Ze=[v,m,g,y,_],Je=function(t){return Ze.find((function(e){return e.test(t)}))},Qe=function(t,e){return t(e)},$e=function(t,e,i){var r=i[0],a=e[r].map((function(r,a){var s=i.reduce(function(t){return function(e,i){return e[i]=e[i][t],e}}(a),Object(n.a)({},e));return si(r)(t,s)}));return qe.apply(void 0,a)},ti=function(t,e,i){var r=i[0],a=Object.keys(e[r]).reduce((function(a,s){var o=i.reduce(function(t){return function(e,i){return e[i]=e[i][t],e}}(s),Object(n.a)({},e));return a[s]=si(e[r][s])(t,o),a}),{});return Xe(a)},ei=function(t,e){var i=e.from,r=e.to,a=Object(n.g)(e,["from","to"]),s=Je(i)||Je(r),o=s.transform,h=s.parse;return t(Object(n.a)({},a,{from:"string"==typeof i?h(i):i,to:"string"==typeof r?h(r):r})).pipe(o)},ii=function(t){return function(e,i){var r=i.from,a=i.to,s=Object(n.g)(i,["from","to"]);return e(Object(n.a)({},s,{from:0,to:1})).pipe(t(r,a))}},ri=ii(Ut),ni=ii(Kt),ai=function(t,e){var i=function(t){var e=Object.keys(t),i=function(e,i){return void 0!==e&&!t[i](e)};return{getVectorKeys:function(t){return e.reduce((function(e,r){return i(t[r],r)&&e.push(r),e}),[])},testVectorProps:function(t){return t&&e.some((function(e){return i(t[e],e)}))}}}(e),r=i.testVectorProps,n=i.getVectorKeys;return function(e){if(!r(e))return t(e);var i=n(e),a=e[i[0]];return si(a)(t,e,i)}},si=function(t){return"number"==typeof t?Qe:Array.isArray(t)?$e:function(t){return Boolean(Je(t))}(t)?ei:T.test(t)?ri:E.test(t)?ni:"object"===Be(t)?ti:Qe},oi=ai((function(t){var e=t.from,i=void 0===e?0:e,r=t.to,n=void 0===r?1:r,a=t.ease,s=void 0===a?at:a,o=t.reverseEase;return void 0!==o&&o&&(s=tt(s)),He((function(t){var e=t.update;return{seek:function(t){return e(t)}}})).pipe(s,(function(t){return Rt(i,n,t)}))}),{ease:function(t){return"function"==typeof t},from:p.test,to:p.test}),hi=It(0,1),li=function(t){return void 0===t&&(t={}),He((function(e){var i,r=e.update,n=e.complete,a=t.duration,s=void 0===a?300:a,o=t.ease,h=void 0===o?ot:o,l=t.flip,c=void 0===l?0:l,p=t.loop,f=void 0===p?0:p,u=t.yoyo,d=void 0===u?0:u,g=t.repeatDelay,m=void 0===g?0:g,v=t.from,y=void 0===v?0:v,_=t.to,b=void 0===_?1:_,w=t.elapsed,x=void 0===w?0:w,S=t.flipCount,k=void 0===S?0:S,C=t.yoyoCount,P=void 0===C?0:C,A=t.loopCount,M=void 0===A?0:A,F=oi({from:y,to:b,ease:h}).start(r),T=0,D=!1,E=function(t){var e;void 0===t&&(t=!1),F=oi({from:y=(e=[b,y])[0],to:b=e[1],ease:h,reverseEase:t}).start(r)},O=function(){T=hi(Lt(0,s,x)),F.seek(T)},I=function(){D=!0,i=J.update((function(t){var e,r=t.delta;x+=r,O(),!(e=D&&x>s+m)||(!e||f||c||d)&&(x=s-(x-m),f&&M<f?(M++,1):c&&k<c?(k++,E(),1):d&&P<d&&(P++,E(P%2!=0),1))||(X.update(i),n&&J.update(n,!1,!0))}),!0)},L=function(){D=!1,i&&X.update(i)};return I(),{isActive:function(){return D},getElapsed:function(){return It(0,s,x)},getProgress:function(){return T},stop:function(){L()},pause:function(){return L(),this},resume:function(){return D||I(),this},seek:function(t){return x=Rt(0,s,t),J.update(O,!1,!0),this},reverse:function(){return E(),this}}}))},ci=function(t,e,i){return He((function(r){var n=r.update,a=e.split(" ").map((function(e){return t.addEventListener(e,n,i),e}));return{stop:function(){return a.forEach((function(e){return t.removeEventListener(e,n,i)}))}}}))},pi=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},fi=function(t,e){return void 0===e&&(e={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},ui=[pi()];if("undefined"!=typeof document){ci(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(t){var e=t.touches;!0;var i=e.length;ui.length=0;for(var r=0;r<i;r++){var n=e[r];ui.push(fi(n))}}))}var di=pi()
;if("undefined"!=typeof document){ci(document,"mousedown mousemove",!0).start((function(t){!0,fi(t,di)}))}}])]);
//# sourceMappingURL=jsc-vendors~player.07cda5f3.js.map