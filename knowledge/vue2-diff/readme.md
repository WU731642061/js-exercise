# diff 和 v-dom 学习

diff 算法心得:

1. key的作用是唯一表示，作为最小量更新的依据，允许代码就地复用(但是也容易产生bug)

2. 只有同一个节点，才会进行精细化比较，否则就会暴力增删node，如何判断是同一个虚拟节点：选择器相同且key相同

3. 只会进行同层比较，不会进行跨层比较

diff 算法核心：

子节点更新策略：四种命中查找

1. 新前与旧前：新前与旧前指针 + 1

2. 新后与旧后：新后与旧前指针 - 1

3. 新后与旧前：新后指向的节点，移动（插入）到旧后之后，并将旧前设置为undefined

4. 新前与旧后：新前指向的节点，移动到旧前之前，并将旧后设置为undefined

四种情况如果都没有命中，则需要通过巧妙设计来寻找